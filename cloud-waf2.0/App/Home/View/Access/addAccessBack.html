<include file="./App/Common/View/header_os.html" />
<link href="__PUBLIC__/asset_os/css/page/wafsite.css" rel="stylesheet" type="text/css" />
<link href="__PUBLIC__/asset_os/js/fileuploadcss/css/default.css" rel="stylesheet" type="text/css">
<link href="__PUBLIC__/asset_os/js/fileuploadcss/css/fileinput.css" media="all" rel="stylesheet" type="text/css" />
<link href="__PUBLIC__/asset_os/js/zTree_v3/css/zTreeStyle/zTreeStyle.css" rel="stylesheet" type="text/css" />
<link href="__PUBLIC__/asset_os/js/select2/select2.css" rel="stylesheet" type="text/css">

<style>
    .u-btn {
        display: inline-block;
    }
    .inline a, .inline span {
        display: inline-block;
        margin-left: 10px;
    }
</style>
<input type="hidden" value="{$canSelectSites}" id="canSelectSites">
<input type="hidden" value="{$selectedSites}" id="selectedSites">
<input type="hidden" value="{$currentObject}" id="currentObject">

<div class="main"><!-- fixed -->
    <div class="m-inner">

        <div class="widget">
            <div class="widget-heading">
                <div class="widget-title">访问控制编辑</div>
            </div>

            <div class="widget-sub-heading">
                <div class="widget-sub-title">基本信息</div>
                <div class="widget-tool">
                    <a href="javascript:;" class="collapse-link"><i class="fa fa-angle-double-up"></i></a>
                </div>
            </div>
            <div class="widget-content">
                <form id="form_id" action="#" class="form-horizontal " method="post">
                    <div class="form-group">
                        <label class="col-sm-2 control-label"><span class="needWrite">* </span>ip地址</label>
                        <div class="col-sm-8">
                            <input type="text" style="width: 100%;" class="form-control m-wrap" name="key"  value="{$ip}" id="ip_id" /> <!-- placeholder="站点名称" -->
                        </div>
                    </div>
                    <!--<div class="form-group">-->
                        <!--<label class="col-sm-2 control-label">X-Forwarded-For 深度</label>-->
                        <!--<div class="col-sm-8">-->
                            <!--<div>-->
                                <!--<ul class="sub-nav-tab">-->
                                    <!--<li class="active"><a href="#0" data="" class="X-Forwarded-For" data-toggle="tab" style="width: 72px;text-align: center;">0级</a></li>-->
                                    <!--<li><a href="#1" data="X-Forwarded-For,-1" class="X-Forwarded-For" data-toggle="tab" style="width: 72px;text-align: center;">1级</a></li>-->
                                    <!--<li><a href="#2" data="X-Forwarded-For,-2" class="X-Forwarded-For" data-toggle="tab" style="width: 72px;text-align: center;">2级</a></li>-->
                                    <!--<li><a href="#3" data="X-Forwarded-For,-3" class="X-Forwarded-For" data-toggle="tab" style="width: 72px;text-align: center;">3级</a></li>-->
                                <!--</ul>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</div>-->
                    <div class="form-group">
                        <label class="col-sm-2 control-label"><span class="needWrite">* </span>动作</label>
                        <div class="col-sm-8">
                            <label class="radio-inline">
                                <input type="radio" name="action" value="allow">放行
                            </label>
                            <label class="radio-inline">
                                <input type="radio"  name="action" value="block" checked>拦截
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label"><span class="needWrite">* </span>时长</label>
                        <div class="col-sm-8">
                            <div class="row">
                                <div class="col-sm-3">
                                    <label class="radio-inline">
                                        <input type="radio" class="for-time-radio-nochecked" name="time" value="0" checked>永久
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" class="for-time-radio-checked" name="time" value="1">限时
                                    </label>
                                </div>
                                <!--<div class="col-sm-2 for-time" id="for-time">-->
                                    <!--<input type="text" style="width: 80px;" id="day_id" onkeyup="this.value=this.value.replace(/\D/g,'')"-->
                                           <!--onafterpaste="this.value=this.value.replace(/\D/g,'')">-->
                                <!--</div>-->
                                <!--<div class="col-sm-1 for-time" style="margin-top:10px;">-->
                                    <!--天-->
                                <!--</div>-->
                                <div class="col-sm-2 for-time" >
                                    <select style="width: 80px;" id="hour_id">
                                        <option value="0">00</option>
                                        <option value="1">01</option><option value="2">02</option>
                                        <!--<option value="3">03</option><option value="4">04</option><option value="5">05</option><option value="6">06</option>-->
                                        <!--<option value="7">07</option><option value="8">08</option><option value="9">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option>-->
                                        <!--<option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option>-->
                                        <!--<option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option>-->
                                    </select>
                                </div>
                                <div class="col-sm-2 for-time" style="margin-top:10px;">
                                    时
                                </div>
                                <div class="col-sm-2 for-time" >
                                    <select style="width: 80px;" id="minutes_id">
                                        <option value="0">00</option><option value="1">01</option><option value="2">02</option><option value="3">03</option><option value="4">04</option>
                                        <option value="5">05</option><option value="6">06</option><option value="7">07</option><option value="8">08</option><option value="9">09</option>
                                        <option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option>
                                        <option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option>
                                        <option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option>
                                        <option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option>
                                        <option value="30">30</option><option value="31">31</option><option value="32">32</option><option value="33">33</option><option value="34">34</option>
                                        <option value="35">35</option><option value="36">36</option><option value="37">37</option><option value="38">38</option><option value="39">39</option>
                                        <option value="40">40</option><option value="41">41</option><option value="42">42</option><option value="43">43</option><option value="44">44</option>
                                        <option value="45">45</option><option value="46">46</option><option value="47">47</option><option value="48">48</option><option value="49">49</option>
                                        <option value="50">50</option><option value="51">51</option><option value="52">52</option><option value="53">53</option><option value="54">54</option>
                                        <option value="55">55</option><option value="56">56</option><option value="57">57</option><option value="58">58</option><option value="59">59</option>
                                    </select>
                                </div>
                                <div class="col-sm-2 for-time" style="margin-top:10px;">
                                    分
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label"><span class="needWrite">* </span>限定级别</label>
                        <div class="col-sm-8">
                            <label class="radio-inline">
                                <input type="radio" class="level_select_ip" name="level" value="ip" checked>全局
                            </label>
                            <label class="radio-inline">
                                <input type="radio"  class="level_select_site" name="level" value="site">站点级
                            </label>
                            <label class="radio-inline">
                                <input type="radio"  class="level_select_url" name="level" value="url">URL级
                            </label>
                        </div>
                    </div>
                    <div class="form-group div_ip div_url">
                        <label class="col-sm-2 control-label">站点</label>
                        <div class="col-sm-8">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <select style="width: 100%;" class="select2" id="select_site_id">
                                                <!--<option>11</option>-->
                                                <!--<option>11</option>-->
                                                <!--<option>11</option>-->
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group div_ip div_site">
                        <label class="col-sm-2 control-label">站点</label>
                        <div class="col-sm-8">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="row">
                                        <div class="col-sm-8">
                                            <input type="text" class="policy-query-param-src">
                                        </div>
                                        <a class="u-btn u-btn-info query-reset-src">查询</a>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="row">
                                        <div class="col-sm-8">
                                            <input type="text" class="policy-query-param-dest">
                                        </div>
                                        <a class="u-btn u-btn-info query-reset-dest">查询</a>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="form-group div_ip div_site">
                        <label class="col-sm-2 control-label"></label>
                        <div class="col-sm-8">
                            <!--<div class="col-sm-5" style="height: 120px;border:1px solid #cdd2d7" >-->
                            <div class="col-sm-5" style="resize: none; height:240px ;overflow:hidden;overflow-y:auto; border:1px solid #cdd2d7; ">
                                <ul id="srcTree" class="ztree"></ul>
                            </div>
                            <div class="col-sm-2" style="height: 240px;">
                                <button type="button" class="u-btn u-btn-default u-btn-sm all-right" style="width: 60px;margin-top: 100px;"> >> </button><br />
                                <!--<button class="u-btn u-btn-default u-btn-sm" style="width: 60px;margin-bottom: 5px;"> >  </button><br />-->
                                <!--<button class="u-btn u-btn-default u-btn-sm" style="width: 60px;margin-bottom: 5px;"> <  </button><br />-->
                                <button type="button" class="u-btn u-btn-default u-btn-sm all-left" style="width: 60px;margin-top: 10px;"> << </button>
                            </div>
                            <div class="col-sm-5" style="resize: none; height:240px ;overflow:hidden;overflow-y:auto; border:1px solid #cdd2d7; " >
                                <ul id="destTree" class="ztree"></ul>
                            </div>
                        </div>
                    </div>
                    <div class="form-group div_ip div_url">
                        <label class="col-sm-2 control-label">URL</label>
                        <div class="col-sm-8">
                            <textarea style="width: 100%;" rows="6" id="urls_id"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">备注</label>
                        <div class="col-sm-8">
                            <textarea style="width: 100%;" rows="3" id="desc_id"></textarea>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="widget">

            <div class="widget-content">
                <form  action="#" class="form-horizontal ">

                    <div class="form-group">
                        <label class="col-sm-1 control-label"></label>
                        <div class="col-sm-8" style="padding-top: 5px;">
                            <div class="col-sm-10 col-sm-offset-1">
                                <div class="inline row">
                                    <a  href="#" class="btn-save u-btn u-btn-success" style="width: 120px;"><i class="fa fa-save"></i> 保存</a>
                                    <a  href="#" class="btn-back u-btn u-btn-default" style="width: 120px;"><i class="fa fa-reply"></i> 返回列表</a>
                                </div>
                            </div>
                        </div>
                    </div>


                </form>
            </div>
        </div>
    </div>

</div>



<include file="./App/Common/View/footer_os.html" />
<script>
    /*开关按钮*/
    $('.switch div').filter(function(){
        $(this).hasClass('on')?
            ($(this).children('span.text').text('启用'))
            :($(this).children('span.text').text('禁用'));
    });
    $('.switch div').click(function(){
        $(this).toggleClass('on');
        $(this).hasClass('on') ? $(this).children('span.text').text('启用'):$(this).children('span.text').text('禁用');
    });
</script>
<script type="text/javascript" src="__PUBLIC__/asset_os/js/zTree_v3/js/jquery.ztree.all-3.5.min.js"></script>
<script src="__PUBLIC__/asset_os/js/fileuploadcss/js/fileinput.js" type="text/javascript"></script>
<script src="__PUBLIC__/asset_os/js/fileuploadcss/js/fileinput_locale_zh.js" type="text/javascript"></script>
<script type="text/javascript" src="__PUBLIC__/script/Home/Access/access_add.js"  charset="utf-8"></script>
<script type="text/javascript" src="__PUBLIC__/asset_os/js/select2/select2.min.js"></script>