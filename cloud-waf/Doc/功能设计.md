# 功能设计
## 1.数据库设计

### 1.1域内表

    asset: 资产表
    {
        _id:domain,
        ip:ip地址,
        port:端口,
        config:{ 配置项
        
        },
        waf_id:云waf对应的id    
    
    }
    
    user_2_domain:用户-网站对应表
    
    {
       _id:pk,
       uid:用户id
       domain:网站,
       relation_type:1/2  (1:添加者  2:关注者)
    }
    
    

    

## 2.操作流程

###2.1 添加保护站点
    
  
            
    
            
###2.2 修改保护站点

    暂不支持 

    
###2.3 删除保护站点            
    
    1)如果网站所有者,删除asset记录，并删除所有人对这个网站的关注记录(user_2_domain)
    2)如果是关注者,删除关注记录,其他关注人对这个网站还是可见
        如果是管理员,不能对网站取消关注
   
    

###2.4 添加/修改 关注人

    修改/添加关注人
    

###2.5查看报告

    1)查看报告
    2)通过手动输入url,如果非该用户权限内的网站，将提示权限不足 
    
###2.6实时屏

    1)查看实时屏
    2)通过手动输入url,如果非该用户权限内的网站，将提示权限不足   
      
        

           
            
        
                 
            
            
                    
            

    

       

    