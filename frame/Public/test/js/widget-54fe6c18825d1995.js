define("common/widget/chart/Base/Box.js",["common/lib/highcharts/index","jquery"],function(require,a,b){require("common/lib/highcharts/index");var c=require("jquery"),d=Ext.extend(Ext.BoxComponent,{autoLoad:!1,url:"xx",opr:"xxx",root:"data",getDefChartOpt:Ext.emptyFn,beforeDraw:Ext.emptyFn,afterDraw:Ext.emptyFn,adjustOpt:function(){this.chartOpt.credits={enabled:!1}},initComponent:function(){var a=this.getDefChartOpt();this.chartOpt=this.chartOpt||{},this.chartOpt=Ext.apply(a||{},this.chartOpt),this.createStore(),this.mon(this.store,{scope:this,datachanged:this.onDataChange}),d.superclass.initComponent.call(this)},createStore:function(){var a={baseParams:{opr:"xx"},root:this.root,url:this.url,fields:["name","data","type"]};this.params&&(a.baseParams.data=this.params);var b=new Ext.data.JsonStore(a);this.store=b},onDataChange:function(a){if(this.hchart){var b=a.reader.jsonData;this.converToChartData(b),this.setChartData(b)}},converToChartData:function(a){this.store.each(function(b){switch(b.get("name")){case"time":a.pointStart=b.get("data")[0],a.pointInterval=b.get("data")[1]-b.get("data")[0];break;case"series":a.series=b.get("data")}})},onDestroy:function(){d.superclass.onDestroy.call(this),this.hchart&&this.hchart.destroy(),this.store.destroy(),this.store=this.hchart=null},loadData:function(a){Ext.isEmpty(a)?this.el.update(String.format("<div class='{1}'>{0}</div>",_("\u6ca1\u6709\u53ef\u4ee5\u663e\u793a\u7684\u6570\u636e"),"sf-chart-empty")):this.store.loadData(a)},setChartData:function(a){a.YTitle&&this.setYtitle(a.YTitle),a.XTitle&&this.setXtitle(a.XTitle),a.chartTitle&&this.setChartTitle(a.chartTitle.title,a.chartTitle.subtitle),a.XTickInterval&&this.setXTickInterval(a.XTickInterval),this.setSeries(a.series),a.legend&&this.setLegend(a.legend),this.beforeDraw(a),this.hchart.redraw(!1),this.afterDraw(a)},clearChart:function(){var a,b=this.hchart,c=b.axes,d=b.series;for(a=c.length;a--;)c[a].destroy();for(b.hasCartesianSeries=!1,a=d.length;a--;)d[a].destroy();b.legend.destroy()},setYtitle:function(a,b){var c=this.hchart;Ext.isString(a)&&(a={text:a}),c.yAxis[0].options.title.text&&c.yAxis[0].setTitle(a,b)},setXtitle:function(a,b){var c=this.hchart;Ext.isString(a)&&(a={text:a}),c.xAxis[0].setTitle(a,b)},setChartTitle:function(a,b){var c=this.hchart;a&&Ext.isString(a)&&(a={text:a}),b&&Ext.isString(b)&&(b={text:b}),c.setTitle(a,b)},setXTickInterval:function(a){var b=this.hchart;b.xAxis[0].tickInterval=a},setLegend:function(a,b){var c=this.hchart,d=c.series,e=c.options.legend;e.labelFormatter!==this.legendFormatter&&(e.labelFormatter=this.legendFormatter),Ext.each(a,function(a,b){return d[b]?(d[b].legendTxt=a,void c.legend.destroyItem(d[b])):!1}),c.isDirtyLegend=!0,b&&c.redraw()},legendFormatter:function(){return this.legendTxt?this.legendTxt:this.name},setSeries:function(a){var b=this.hchart,c=b.series,d=a.length,e=!0,f=c.length;if(d!==f?e=!1:Ext.each(c,function(b,c){return b.name!==a[c].name||b.options.type!==a[c].type?(e=!1,!1):void 0}),e)Ext.each(c,function(b,c){b.setData(a[c].data,!1)});else{for(;c.length;)b.series[0].destroy();b.colorCounter=0,Ext.each(a,function(a){a.animation=!1,b.addSeries(a,!1,!1)})}},onResize:function(a,b,e,f){d.superclass.initComponent.call(this,a,b,e,f);var g=this.chartOpt;this.hchart||(this.adjustOpt(),this.hchart=c(this.el.dom).highcharts(g).highcharts(),this.store.getCount()>0&&this.onDataChange(this.store));var h=this.hchart,i=this.getSize(),j=a||i.width,k=b||i.height;(j!==h.containerWidth||k!==h.containerHeight)&&(this.hchart.setSize(j,k,!1),h.options.chart.width=j,h.options.chart.height=k,h.containerWidth=j,h.containerHeight=k)}});b.exports=d});
define("common/widget/chart/Base/index.js",["./Box"],function(require,a,b){var c=require("./Box"),d=Ext.extend(c,{getDefChartOpt:function(){return{curRange:"last5min",global:{useUTC:!1},colors:["#33a2e7","#79cd6a","#aadd64","#f8db60","#f6ac60","#f3534b","#bf41b6","#8e58a8","#4b56ad","#3482ce","#8ec7e5"],credits:{enabled:!1},tooltip:{xDateFormat:"%Y-%b-%e %H:%M:%S",borderRadius:1,crosshairs:[!0,!0]},chart:{animation:!0,backgroundColor:null},title:{style:{color:"#ccc"}},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%b. %e",week:"%b. %e",month:"%y '%b",year:"%Y"}},legend:{borderRadius:0,borderWidth:0,shadow:!1,symbolWidth:22,itemWidth:120}}},converToChartData:function(a){var b,c=this.hchart,d=c.options,e=[],f=this.store;f.each(function(a){switch(a.get("name")){case"time":b=a.get("data");break;default:e=a.get("data")}}),this.getUnit(d,e,b);var g=d.YUnit.divider,h=0,i=0,j=0,k=0;Ext.each(e,function(a,c){for(var d,e=a.data,f=[],l=0,m=0,n=b.length,o=0;n>o;o++)d=this.converYvalue(e[o],g),d>l&&(l=d),m>d&&(m=d),f.push([1e3*b[o],this.converYvalue(e[o],g)]),a.data=f;a.maxValue=l,a.minValue=m,l>h&&(h=l,j=c),i>m&&(i=m,k=c)},this),this.serieMaxValue=h,this.serieMinValue=i,this.maxSerieIndex=j,this.minSerieIndex=k,a.series=e,a.XTickInterval=this.getTick(d),a.YTitle=d.YUnit.name},getMaxValueFromSeries:function(a,b,c){var d=0;return Ext.each(b,function(a){var b=a.data,e=0,f=c.length;for(f;f--;)e=b[f],e>d&&(d=e)},this),d},getUnit:function(a,b,c){var d=this.getMaxValueFromSeries(a,b,c);switch(a.baseYUnit){case"Bps":this.getBpsUnit(a,d);break;case"Int":this.getIntUnit(a,d);break;case"%":a.YUnit={name:"%",divider:1};break;case"db":a.YUnit={name:"dBm",divider:1};break;default:a.YUnit={name:a.baseYUnit,divider:1}}},getBpsUnit:function(a,b){var c=1,d=ACDC.data.flowHex;"b/s"===ACDC.data.flowUnit&&(c/=8);var e=[{name:ACDC.data.flowUnit,divider:c},{name:"K"+ACDC.data.flowUnit,divider:c*d},{name:"M"+ACDC.data.flowUnit,divider:c*d*d},{name:"G"+ACDC.data.flowUnit,divider:c*d*d*d}];this.getUnitByConverArr(a,b,e)},getIntUnit:function(a,b){var c=[{name:_("\u4e2a"),divider:1},{name:_("\u5343\u4e2a"),divider:1e3},{name:_("\u767e\u4e07\u4e2a"),divider:1e6},{name:_("\u5341\u4ebf\u4e2a"),divider:1e9}];this.getUnitByConverArr(a,b,c)},getUnitByConverArr:function(a,b,c){var d;a.YUnit=c[0];for(var e=c.length-1;e>=0;e--)if(d=b/c[e].divider,d>=1)return void(a.YUnit=c[e])},createToolTip:function(){var a=this;return{borderRadius:0,borderWidth:0,shadow:!1,backgroundColor:"rgba(0, 0, 0, .6)",style:{color:"#ffffff"},formatter:function(){var b=new Date,c="Y-m-d H:i",d=a.hchart.options.curRange;return b.setTime(this.x,!0),c="last5min"===d||"lastHour"===d?"Y-m-d H:i:s":"Y-m-d H:i","<b>"+this.series.name+"</b><br/>"+b.format(c)+",<b>"+this.y+" "+this.series.chart.options.YUnit.name+"</b>"}}},converYvalue:function(a,b){return a/=b,a=parseFloat(a.toFixed(2))},getTick:function(a){var b={last5min:6e4,lastHour:6e5,lastDay:144e5,lastWeek:864e5,lastMonth:6048e5};return b[a.curRange]||a.curRange}});b.exports=d});
define("common/widget/chart/Area.js",["./Base/index","common/util/deepApply"],function(require,a,b){var c=require("./Base/index"),d=require("common/util/deepApply"),e=Ext.extend(c,{getDefChartOpt:function(){var a=this.callParent(arguments);return d(a,{chart:{animation:!0,type:"areaspline",backgroundColor:null},title:{text:this.chartTitle||"",align:"center"}}),d(a,this.chartConfig||{}),a}});b.exports=e});
define("common/widget/chart/Column.js",["./Base/index","common/util/deepApply"],function(require,a,b){var c=require("./Base/index"),d=require("common/util/deepApply"),e=Ext.extend(c,{setChartData:function(a){var b;a&&(Ext.each(a.data,function(a){return"time"===a.name?(b=a.data.slice(),!1):void 0},this),Ext.isEmpty(b)||this.hchart.xAxis[0].setCategories(b,!1)),this.callParent(arguments)},getDefChartOpt:function(){var a=this.callParent(arguments);return d(a,{chart:{animation:!0,type:"column",backgroundColor:null},title:{text:this.chartTitle||"",align:"center"}}),d(a,this.chartConfig||{}),a},converToChartData:function(a){var b,c=this.hchart,d=c.options,e=[],f=this.store;f.each(function(a){switch(a.get("name")){case"time":b=a.get("data");break;default:e=a.get("data")}}),this.getUnit(d,e,b);var g=d.YUnit.divider,h=0,i=0,j=0,k=0;Ext.each(e,function(a,c){for(var d,e=a.data,f=[],l=0,m=0,n=b.length,o=0;n>o;o++)d=this.converYvalue(e[o],g),d>l&&(l=d),m>d&&(m=d),f.push([b[o],this.converYvalue(e[o],g)]),a.data=f;a.maxValue=l,a.minValue=m,l>h&&(h=l,j=c),i>m&&(i=m,k=c)},this),this.serieMaxValue=h,this.serieMinValue=i,this.maxSerieIndex=j,this.minSerieIndex=k,a.series=e,a.XTickInterval=this.getTick(d),a.YTitle=d.YUnit.name}});b.exports=e});
define("common/widget/chart/Further/Item.js",[],function(){});
define("common/widget/chart/Further/index.tpl",[],function(require,a,b){b.exports='<tpl for="data">\n    <dl class="further-item">\n        <dt class="further-item-title" style="background-color:{values.color};">\n            <table class="further-item-title-table" cellspacing="0">\n                <tr>\n                    <td class="further-item-title-text">\n                        <span ext:qtip="{values.text:htmlEncode}" class="further-item-text">{values.text}</span>\n                        <strong class="further-item-value">{values.value:this.splitValue}</strong>\n                    </td>\n                </tr>\n            </table>\n\n        </dt>\n        <dd class="further-item-body">\n            <ol class="further-sub-item-wrap">\n                <tpl for="data">\n                    <li class="further-sub-item">\n                        <label ext:qtip="{values.text:htmlEncode}" class="further-sub-item-text">{values.text}</label>\n                        <div class="further-sub-item-body">\n                            <div class="further-sub-item-progress" style="width:{[values.value * 0.5]}%"></div>\n                            <strong class="further-sub-item-value">{values.value}&nbsp;%</strong>\n                        </div>\n                    </li>\n                </tpl>\n            </ol>\n        </dd>\n    </dl>\n</tpl>\n<div class="x-form-clear-left"></div>'});
define("common/widget/chart/Further/index.js",["./index.tpl","./index.css"],function(require,a,b){var c=require("./index.tpl");require("./index.css");var d=Ext.extend(Ext.BoxComponent,{minPerLineCnt:5,autoSort:!0,initComponent:function(){this.colors=["#33a2e7","#79cd6a","#aadd64","#f8db60","#f6ac60","#f3534b","#bf41b6","#8e58a8","#4b56ad","#3482ce","#8ec7e5"],this.createTpl(),this.cls=(this.cls||"")+"acdc-chart-further",this.values=this.data,this.callParent(arguments),this.on("resize",this.reload,this),this.values&&this.reload()},createTpl:function(){this.tpl=new Ext.XTemplate(c,{splitValue:function(a){return a=String(a).split("."),a[1]?a[0]+"<small>."+a[1]+" %</small>":a[0]+"<small> %</small>"}})},load:function(a){this.setJsonValue(a),this.syncItemHeight()},reload:function(){this.load(this.values)},syncItemHeight:function(){var a,b,c,d=[];if(!Ext.isEmpty(this.values)){if(!this.rendered)return void this.on("afterrender",this.syncItemHeight,this,{single:!0});a=this.el.getWidth(),Ext.each(this.el.query(".further-item"),function(a){b||(b=Ext.fly(a).getWidth()+Ext.fly(a).getMargins("r")+3),d.push(Ext.fly(a).getHeight())},this),c=Math.min(Math.floor(a/b),this.values.data.length,this.minPerLineCnt),c&&Ext.each(this.el.query(".further-item"),function(e,f){var g=f-f%c,h=g+c,i=Math.max.apply(Math,d.slice(g,h));g===f&&(Ext.DomHelper.insertBefore(Ext.fly(e),{}),Ext.fly(e).addClass("first"),Ext.fly(e).applyStyles({"margin-left":(a-c*b)/2+"px"})),h-1===f&&Ext.fly(e).addClass("last"),Ext.fly(e).setHeight(i)},this)}},sortDetail:function(a){this.autoSort&&Ext.each(a.data,function(a){a.data.sort(function(a,b){return b.value-a.value})},this)},setJsonValue:function(a){a&&(this.sortDetail(a),this.values=a,Ext.each(a.data,function(a,b){a.color=this.colors[b%this.colors.length]},this),this.rendered?this.update(a):this.data=a)}});b.exports=d});
define("common/widget/chart/Line.js",["./Base/index","common/util/deepApply"],function(require,a,b){var c=require("./Base/index"),d=require("common/util/deepApply"),e=Ext.extend(c,{getDefChartOpt:function(){var a=this.callParent(arguments);return d(a,{chart:{animation:!0,type:"spline",backgroundColor:null},title:{text:this.chartTitle||"",align:"center"}}),d(a,this.chartConfig||{}),a}});b.exports=e});
define("common/widget/chart/Pie.js",["./Base/index"],function(require,a,b){var c=require("./Base/index"),d=Ext.extend(c,{height:300,autoLoad:!1,opr:"list",root:"data",params:{},chartTitle:"",r_outer:300,r_inner:"55%",colors:["#33a2e7","#79cd6a","#aadd64","#f8db60","#f6ac60","#f3534b","#bf41b6","#8e58a8","#4b56ad","#3482ce","#8ec7e5"],center:["50%","50%"],seriesName:"",toFixedNum:void 0,getDefChartOpt:function(){var a={chart:SF.deepApply({type:"pie",animation:!0,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},this.chart||{}),title:{text:String.format('<div class="hchart-title-sub" style="font-size: 18px; width:100%; white-space: nowrap;" ext:qtip="{0}">{0}</div>',this.chartTitle)||"",align:"center",verticalAlign:this.r_inner?"middle":"top",useHTML:!0,style:{display:"block",width:"100px"}},tooltip:{pointFormat:"{series.name}: <b>{point.y:.2f}%</b>",borderRadius:1,crosshairs:[!1,!1]},plotOptions:{pie:Ext.apply({allowPointSelect:!0,cursor:"pointer",colors:this.colors,center:this.center,dataLabels:{enabled:!0,useHTML:!0,formatter:function(){var a=Ext.util.Format.htmlEncode(this.point.name+_("\uff1a")+this.y+"%");return'<div style="max-width:300px;" class="ellipsis" ext:qtip="'+Ext.util.Format.htmlEncode(a)+'">'+a+"</div>"},style:{color:"black",fontWeight:"normal"},softConnector:!1}},this.plotOptions&&this.plotOptions.pie||{}),marker:{enabled:!0}},series:[{type:"pie",size:this.r_outer,innerSize:this.r_inner,name:this.seriesName,data:[]}]};return this.extraOptions&&Ext.apply(a,this.extraOptions),a},createStore:function(){var a={autoLoad:this.autoLoad,baseParams:{app_args:this.app_args,opr:this.opr},root:this.root,url:this.url,fields:["name","data","type"]};Ext.apply(a.baseParams,this.params);var b=new Ext.data.JsonStore(a);this.store=b},formatMemoryByte:function(a){var b="";return 1024>a?(a=a,b="B"):a>=1024&&a<Math.pow(1024,2)?(a=Math.round(a/1024*100)/100,b="KB"):Math.pow(1024,2)<=a&&a<Math.pow(1024,3)?(a=Math.round(a/Math.pow(1024,2)*100)/100,b="MB"):Math.pow(1024,3)<=a&&a<Math.pow(1024,4)?(a=Math.round(a/Math.pow(1024,3)*100)/100,b="GB"):Math.pow(1024,4)<=a&&(a=Math.round(a/Math.pow(1024,4)*100)/100,b="TB"),Ext.isNumber(this.toFixedNum)&&(a=a.toFixed(this.toFixedNum)),a+b},converToChartData:function(a){return a.data},onDataChange:function(a){if(this.hchart){var b=a.reader.jsonData,c=this.converToChartData(b);this.setChartData(c)}},setChartData:function(a){this.hchart.series[0].setData(a,!0)}});b.exports=d});
define("common/widget/combo/Base.js",["./Base.css"],function(require,a,b){require("./Base.css");var c=Ext.extend(Ext.form.TriggerField,{editable:!1,alwaysSubmit:!1,initComponent:function(){c.superclass.initComponent.apply(this,arguments),this.createList(),this.createFormPanel(),this.bindFormEvent(),this.values&&this.setJsonValue(this.values)},createList:function(){this.list||(this.list=new Ext.Layer(Ext.apply({shadow:"sides",cls:"dc-combo-base"},this.layerConfig||{})))},createFormPanel:function(){this.formPanel=new SF.form.FormPanel({border:!1,autoScroll:{x:!1,y:!0},bodyStyle:"padding: 10px 19px 10px 10px;max-height:250px",items:[this.form],buttons:[{text:_("\u786e\u5b9a"),handler:this.onSubmit,scope:this},{text:_("\u53d6\u6d88"),handler:this.onCancel,scope:this}]}),this.formPanel.render(this.list)},onTriggerClick:function(){var a;return this.list.isVisible()?void this.onCancel():(a=this.getWidth(),this.list.beginUpdate(),this.list.alignTo(this.el,"tl-bl?"),this.list.getWidth()<a&&this.list.setWidth(a),this.list.endUpdate(),this.list.show(),Ext.getBody().block(null,null,"no-color"),void this.form.getJsonForm().setJsonValue(this.getJsonValue()))},onSubmit:function(){var a,b,c=this.form.getJsonForm();c.isValid()&&(b=Ext.encode(this.getJsonValue()),a=c.getJsonValue(),this.setJsonValue(a),this.list.hide(),Ext.getBody().unblock(),(this.alwaysSubmit||b!==Ext.encode(a))&&this.fireEvent("submit",this,a))},setDisplayValue:function(a){this.setValue(a)},setJsonValue:function(a){this.values=a,this.setDisplayValue(Ext.isFunction(this.renderer)?this.renderer.call(this,a):a),this.clearInvalid()},getJsonValue:function(){return this.values||this.defaultValue||this.value},onCancel:function(){this.list.hide(),Ext.getBody().unblock()},bindFormEvent:function(){this.form&&this.form.on("fieldchange",function(){this.list.sync(),this.list.alignTo(this.el,"tl-bl?")},this)},destroy:function(){Ext.destroyMembers(this,"list","formPanel"),this.callParent(arguments)}});b.exports=c});
define("common/widget/combo/BaseCombo.js",[],function(require,a,b){var c=_("<\u7a7a>"),d={},e={},f={},g={},h=function(a,b,h,i){var j=Ext.encode(a),k=(new Date).getTime(),l=null,m=SF.mgr.BaseMgr.getSingleton(),n=function(a,b){var d=b.root||"data";a.success||(a.success=!0),a[d]||(a[d]=[]),a[d].length||(a[d][0]={},a[d][0][b.valueField]=c,a[d][0][b.displayField]=c)};return!d[j]||k-e[j]>1e4||i?g[j]?(f[j]||(f[j]=[]),f[j].push({cb:b,scope:h,cfg:a})):(g[j]=!0,l=m.request({url:a.url,jsonData:a.params,callback:function(c,i){if(g[j]=!1,i&&(d[j]=c,e[j]=(new Date).getTime(),n(d[j],a),b.call(h,d[j]),f[j]))for(var k;k=f[j].pop();)k.cb.call(k.scope,d[j]);if(f[j])for(var l=f[j].pop();l;)l=f[j].pop()}})):b.call(h,d[j]),l},i=Ext.extend(Ext.form.ComboBox,{initComponent:function(){Ext.applyIf(this,{valueField:"value",displayField:"text",depictField:"depict",loadOnce:!1,autoSelectFirstItem:!0}),this.store=new Ext.data.JsonStore({autoDestroy:!0,idIndex:0,autoLoad:!1,root:this.root||"data",url:this.url||"nosuchpage.php",baseParams:this.params||this.baseParams||{opr:"list"},fields:this.fields||[this.valueField||"value",this.displayField||"text",this.depictField||"depict"]}),this.tpl=new Ext.XTemplate('<tpl for=".">','<div class="x-combo-list-item">','<span ext:qtip="{[values.',this.depictField,"||values.",this.displayField,']}">{',this.displayField,"}</span>","</div>","</tpl>"),i.superclass.initComponent.call(this),this.loadData(),this.on("beforeselect",function(a,b){return b.data[a.valueField]!==c},this),this.on("expand",function(a){if(!(a.loadOnce&&a.store.getCount()>0)){if(a.getExtraParams){var b=a.getExtraParams(a.userData||{});if(b)return void h({url:a.store.url,params:b,root:a.root,valueField:a.valueField,displayField:a.displayField,depictField:a.depictField},function(a){this.store.loadData(a)},a)}h({url:a.store.url,params:a.store.baseParams,root:a.root,valueField:a.valueField,displayField:a.displayField,depictField:a.depictField},function(a){this.store.loadData(a)},a)}},this)},loadData:function(){this.requestId=h({url:this.store.url,params:this.store.baseParams,root:this.root,valueField:this.valueField,displayField:this.displayField,depictField:this.depictField},function(a){if(!this.isDestroyed&&!this.destroying){this.store&&this.store.loadData&&this.store.loadData(a),this.requestId=null;var b=this.getDefaultValue();if(null===b||void 0===b){var c=this.store.getAt(0);c&&this.setDefaultValue(c.get(this.valueField))}this.autoSelectFirstItem&&-1===this.selectedIndex&&!this.value&&this.store.getCount()>0&&(this.setJsonValue(this.getDefaultValue()),this.selectedIndex=0)}},this)},setJsonValue:function(a,b){""===a&&(a=null),i.superclass.setJsonValue.call(this,a,b)},onDestroy:function(){Ext.destroy(this.tpl),i.superclass.onDestroy.call(this)},select:function(a,b){if(this.selectedIndex=a,this.view.select(a),!this.view.el.child(".loading-indicator")&&b!==!1){var c=this.view.getNode(a);c&&this.innerList.scrollChildIntoView(c,!1)}},mode:"local",editable:!1,triggerAction:"all"});Ext.reg("basecombo",i),b.exports=i});
define("common/widget/data/LocalStore.js",[],function(require,a){var b="sort",c="dir",d=Ext.extend(Ext.data.Store,{destroy:function(){(this.storeId||this.id)&&Ext.StoreMgr.unregister(this),delete this.data,delete this.allData,delete this.snapshot,this.purgeListeners()},add:function(a){if(a=[].concat(a),!(a.length<1)){for(var b=0,c=a.length;c>b;b++)a[b].join(this);var d=this.data.length;this.data.addAll(a),this.allData&&this.allData.addAll(a),this.snapshot&&this.snapshot.addAll(a),this.fireEvent("add",this,a,d)}},remove:function(a){var b=this.data.indexOf(a);this.data.removeAt(b),this.allData&&this.allData.remove(a),this.snapshot&&this.snapshot.remove(a),this.pruneModifiedRecords&&this.modified.remove(a),this.fireEvent("remove",this,a,b)},removeAll:function(){this.data.clear(),this.allData&&this.allData.clear(),this.snapshot&&this.snapshot.clear(),this.pruneModifiedRecords&&(this.modified=[]),this.fireEvent("clear",this)},insert:function(a,b){b=[].concat(b);for(var c=0,d=b.length;d>c;c++)this.data.insert(a,b[c]),b[c].join(this);this.allData&&this.allData.addAll(b),this.snapshot&&this.snapshot.addAll(b),this.fireEvent("add",this,b,a)},getById:function(a){return(this.snapshot||this.allData||this.data).key(a)},remoteReload:function(a){this.remoteLoad(Ext.applyIf(a||{},this.lastOptions))},remoteLoad:function(a){var d="read";if(a=a||{},this.fireEvent("beforeload",this,a)!==!1){this.storeOptions(a);var e=Ext.apply({},a.params,this.baseParams);if(this.sortInfo&&this.remoteSort){var f=this.paramNames;e[f[b]]=this.sortInfo.field,e[f[c]]=this.sortInfo.direction}return this.proxy.doRequest(d,this.loadRecords,e,this.reader,this.createCallback(d,this.loadRecords),this,a),!0}return!1},load:function(a){if(a=a||{},this.fireEvent("beforeload",this,a)!==!1){this.storeOptions(a);var d=Ext.apply({},a.params,this.baseParams);if(this.sortInfo&&this.remoteSort){var e=this.paramNames;d[e[b]]=this.sortInfo.field,d[e[c]]=this.sortInfo.direction}if(this.isPaging(d))return function(){this.allData&&(this.data=this.allData,delete this.allData),this.applyPaging(),this.fireEvent("datachanged",this);var b=[].concat(this.data.items);this.fireEvent("load",this,b,a),a.callback&&a.callback.call(a.scope||this,b,a,!0)}.defer(1,this),!0;var f="read";return this.proxy.doRequest(f,this.loadRecords,d,this.reader,this.createCallback(f,this.loadRecords),this,a),!0}return!1},loadRecords:function(a,b,c){if(!a||c===!1)return c!==!1&&this.fireEvent("load",this,[],b),void(b.callback&&b.callback.call(b.scope||this,[],b,!1));var d=a.records,e=a.totalRecords||d.length;if(b&&b.add===!0)this.totalLength=Math.max(e,this.data.length+d.length),this.add(d);else{this.pruneModifiedRecords&&(this.modified=[]);for(var f=0,g=d.length;g>f;f++)d[f].join(this);this.allData&&(this.data=this.allData,delete this.allData),this.snapshot&&(this.data=this.snapshot,delete this.snapshot),this.data.clear(),this.data.addAll(d),this.totalLength=e,this.applySort(),this.allData||this.applyPaging(),d.length!==this.getCount()&&(d=[].concat(this.data.items)),this.fireEvent("datachanged",this)}this.fireEvent("load",this,d,b),b.callback&&b.callback.call(b.scope||this,d,b,!0)},loadData:function(a,b){this.isPaging(Ext.apply({},this.lastOptions?this.lastOptions.params:null,this.baseParams));var c=this.reader.readRecords(a);this.loadRecords(c,{add:b},!0)},getTotalCount:function(){return this.allData?this.allData.getCount():this.totalLength||0},sortData:function(a,b){b=b||"ASC";var c=this.fields.get(a).sortType,d=function(b,d){var e=c(b.data[a]),f=c(d.data[a]);return e>f?1:f>e?-1:0};this.allData&&(this.data=this.allData,delete this.allData),this.data.sort(b,d),this.snapshot&&this.snapshot!==this.data&&this.snapshot.sort(b,d),this.applyPaging()},filterBy:function(a,b){this.snapshot=this.snapshot||this.allData||this.data,delete this.allData,this.data=this.queryBy(a,b||this),this.applyPaging(),this.fireEvent("datachanged",this)},queryBy:function(a,b){var c=this.snapshot||this.allData||this.data;return c.filterBy(a,b||this)},collect:function(a,b,c){for(var d,e,f=(c===!0?this.snapshot||this.allData||this.data:this.data).items,g=[],h={},i=0,j=f.length;j>i;i++)d=f[i].data[a],e=String(d),!b&&Ext.isEmpty(d)||h[e]||(h[e]=!0,g[g.length]=d);return g},clearFilter:function(a){this.isFiltered()&&(this.data=this.snapshot,delete this.allData,delete this.snapshot,this.applyPaging(),a!==!0&&this.fireEvent("datachanged",this))},isFiltered:function(){return this.snapshot&&this.snapshot!==(this.allData||this.data)},isPaging:function(a){var b=this.paramNames,c=a[b.start],d=a[b.limit];if("number"!=typeof c||"number"!=typeof d)return delete this.start,delete this.limit,this.lastParams=a,!1;this.start=c,this.limit=d,delete a[b.start],delete a[b.limit];var e=this.lastParams;if(this.lastParams=a,!this.proxy)return!0;if(!e)return!1;for(var f in a)if(a.hasOwnProperty(f)&&a[f]!==e[f])return!1;for(f in e)if(e.hasOwnProperty(f)&&a[f]!==e[f])return!1;return!0},applyPaging:function(){var a=this.start,b=this.limit;if("number"==typeof a&&"number"==typeof b){var c=this.data,d=new Ext.util.MixedCollection(c.allowFunctions,c.getKey);d.items=c.items.slice(a,a+b),d.keys=c.keys.slice(a,a+b);for(var e=d.length=d.items.length,f={},g=0;e>g;g++){var h=d.items[g];f[d.getKey(h)]=h}d.map=f,this.allData=c,this.data=d}}}),e=function(a){e.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.ArrayReader(a)}))};Ext.extend(e,d,{loadData:function(a,b){if(this.expandData===!0){for(var c=[],d=0,f=a.length;f>d;d++)c[c.length]=[a[d]];a=c}e.superclass.loadData.call(this,a,b)}});var f=function(a){f.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.JsonReader(a)}))};Ext.extend(f,d),a.PagingStore=d,a.SimplePagingStore=e,a.JsonPagingStore=f});
define("common/widget/form/CheckComboBox/index.js",["./index.css"],function(require,a,b){require("./index.css");var c=Ext,d=c.extend(c.form.ComboBox,{listBaseCls:"x-combo-list",listClass:"x-combo-list-checkable",checkField:"checked",pagingClass:Ext.PagingToolbar,editable:!1,getListParent:function(){return document.body},__createList:function(){var a=this,b=Ext.getDom(a.getListParent()||Ext.getBody());a.list=new Ext.Layer({parentEl:b,shadow:a.shadow,cls:[a.listBaseCls,a.listClass].join(" "),constrain:!1,zindex:a.getZIndex(b)});var c=a.listWidth||Math.max(a.wrap.getWidth(),a.minListWidth);a.list.setSize(c,0),a.list.swallowEvent("mousewheel")},__doSyncFont:function(){var a=this;a.syncFont!==!1&&a.list.setStyle("font-size",a.el.getStyle("font-size"))},__createHeader:function(){var a=this,b=this.cls;a.title&&(a.header=a.list.createChild({cls:b+"-hd",html:a.title}),a.assetHeight+=a.header.getHeight())},__createInnerList:function(){var a=this;a.innerList=a.list.createChild({cls:a.listBaseCls+"-inner"}),a.mon(a.innerList,"mouseover",a.onViewOver,a),a.mon(a.innerList,"mousemove",a.onViewMove,a),a.innerList.setWidth(a.list.getWidth()-a.list.getFrameWidth("lr"))},__createPaging:function(){var a=this;a.pageSize&&(a.footer=a.list.createChild({cls:a.listBaseCls+"-ft"}),a.pageTb=new a.pagingClass({store:a.store,pageSize:a.pageSize,renderTo:a.footer}),a.assetHeight+=a.footer.getHeight())},__createView:function(){var a=this;a.view=new Ext.DataView({applyTo:a.innerList,tpl:a.tpl,singleSelect:!0,selectedClass:a.selectedClass,itemSelector:a.itemSelector||"."+a.listBaseCls+"-item",emptyText:a.listEmptyText,deferEmptyText:!1}),a.mon(a.view,{containerclick:a.onViewClick,click:a.onViewClick,scope:a})},__createResizer:function(){var a=this;a.resizable&&(a.resizer=new Ext.Resizable(a.list,{pinned:!0,handles:"se"}),a.mon(a.resizer,"resize",function(b,c,d){a.maxHeight=d-a.handleHeight-a.list.getFrameWidth("tb")-a.assetHeight,a.listWidth=c,a.innerList.setWidth(c-a.list.getFrameWidth("lr")),a.restrictHeight()},a),a[a.pageSize?"footer":"innerList"].setStyle("margin-bottom",a.handleHeight+"px"))},initList:function(){var a=this;a.list||(a.__createList(),a.assetHeight=0,a.__doSyncFont(),a.__createInnerList(),a.__createPaging(),a.tpl||(a.tpl=['<tpl for=".">','<div class="'+a.listBaseCls+'-item">','<div class="{[values.',a.checkField,"?'x-list-item-checked':'']}\"></div>","{"+a.displayField+":htmlEncode}","</div>","</tpl>"].join("")),a.__createView(),a.bindStore(a.store,!0),a.__createResizer())},__initCheckedHash:function(){var a=this;return a.checkedHash=a.checkedHash||{},a.checkedHash},__toggleCheckedHash:function(a){var b=this,c=b.__initCheckedHash();a.get(b.checkField)?c[a.get(b.valueField)]=a:delete c[a.get(b.valueField)]},__updateValue:function(a){var b=this,c=b.__initCheckedHash(),d=b.displayField,e=b.valueField,f=[],g=[],h=null;Ext.iterate(c,function(a,b){b&&(h={},h[d]=b.data[d],h[e]=b.data[e],g.push(h),f.push('"'+h[d]+'"'))}),Ext.form.TextField.prototype.setValue.call(b,f.join(",")),b.value=g,a&&b.view&&b.view.refresh()},__setChecked:function(a){var b=Array.from(a),c=this,d=c.valueField,e=c.checkField,f={},g=c.__initCheckedHash(),h=[];return Ext.each(b,function(a){f[a[d]]=1}),c.store.each(function(a){f[a.data[d]]?(a.data[e]=!0,g[a.data[d]]=a,h.push(a)):a.data[e]=!1}),c.__updateValue(!0),h},initValue:function(){return this.dataloaded?void d.superclass.initValue.call(this):!1},beforeBlur:Ext.emptyFn,dataloaded:!1,initComponent:function(){this.store&&this.store instanceof Ext.data.Store&&this.store.autoLoad&&this.store.on("load",function(){this.dataloaded=!0,this.setValue(this.value)},this,{single:!0}),d.superclass.initComponent.apply(this,arguments)},onLoad:function(){var a=this;d.superclass.onLoad.apply(a,arguments),a.dataloaded=!0,a.setValue(a.value)},onSelect:function(a,b){var c=this,d=c.checkField;return this.fireEvent("beforeselect",c,a,b)!==!1?(a.set(this.checkField,!a.get(d)),c.__toggleCheckedHash(a),c.__updateValue(),this.fireEvent("select",this,a,b),!0):!1},expand:function(){!this.isExpanded()&&this.hasFocus&&((this.title||this.pageSize)&&(this.assetHeight=0,this.title&&this.header&&(this.assetHeight+=this.header.getHeight()),this.pageSize&&(this.assetHeight+=this.footer.getHeight())),this.bufferSize&&(this.doResize(this.bufferSize),delete this.bufferSize),this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign)),this.list.setZIndex(this.getZIndex()),this.list.show(),Ext.isGecko2&&this.innerList.setOverflow("auto"),this.mon(Ext.getDoc(),{scope:this,mousewheel:this.collapseIf,mousedown:this.collapseIf}),this.fireEvent("expand",this))},selectByValue:function(a,b){if(Ext.isEmpty(a,!1))return!1;var c=this,d=c.__setChecked(a)[0];return d&&c.select(c.store.indexOf(d),b),!!d},setValue:function(a){var b=this;b.value=a=Array.from(a),Ext.isEmpty(a)&&b.clearValue();var c=b.__extractText(a);return b.checkedHash={},b.valueField&&b.__setChecked(a),b.lastSelectionText=c,b.clearEmptyText(),b.rendered?b.el.dom.value=Ext.isEmpty(c)?"":c:this.on("afterrender",function(){b.el.dom.value=Ext.isEmpty(c)?"":c},this,{single:!0}),b.applyEmptyText(),b.autoSize(),b.value=a,b},getValue:function(){return Ext.isEmpty(this.value)?[]:this.value},__extractText:function(a){var b=[],c=0,d=a.length,e=this.displayField;for(c=0;d>c;c++)a[c][e]&&b.push(a[c][e]);return b.length?b.join(","):""},getZIndex:function(a){a=a||Ext.getDom(this.getListParent()||Ext.getBody());var b=parseInt(Ext.fly(a).getStyle("z-index"),10);return b||(b=this.getParentZIndex()),(b||12e3)+5},getParentZIndex:function(){var a;return this.ownerCt&&this.findParentBy(function(b){return a=parseInt(b.getPositionEl().getStyle("z-index"),10),!!a}),a},clearValue:function(){var a=this;a.checkedHash={},d.superclass.clearValue.call(a),a.value=[]},reset:function(){var a=this;a.checkedHash={},d.superclass.reset.call(a)},assertValue:Ext.emptyFn,onDestroy:function(){var a=this;d.superclass.onDestroy.call(a),a.checkedHash={}}});Ext.reg("checkcombo",d),b.exports=d});
define("common/widget/form/CompactRadioGroup/index.js",["./index.css"],function(require,a,b){require("./index.css");var c=Ext.extend(SF.form.FieldSection,{constructor:function(a){Ext.apply(this,a),c.superclass.constructor.apply(this,arguments)},setHidden:function(a,b){SF.isObject(b)?c.superclass.setHidden.apply(this,arguments):(SF.form.JsonField.prototype.setHidden.apply(this.relatedContainer,arguments),this.relatedComponent&&SF.form.JsonField.prototype.setHidden.apply(this.relatedComponent,arguments))}}),d=SF.form.FieldSet,e=Ext.extend(Ext.form.ComboBox,{}),f=e.prototype;f._setJsonValue=f.setJsonValue,f.setJsonValue=Ext.emptyFn;var g="name",h="text",i="disabled",j="readOnly",k="hidden",l=function(a,b,c,d,e){var f={};return f[g]=a,f[h]=b,f[i]=c,f[j]=d,f[k]=!!e,f},m=Ext.extend(Ext.Container,{independentField:!1,selectName:"select",selectBlankText:_("\u8bf7\u9009\u62e9"),outerSelectField:!1,allowBlank:!1,isFormField:!1,defaultType:"radio",layout:"form",defaults:{anchor:"100%"},initComponent:function(){var a,b=this,f=b.items,k=b.fieldLabel,n=b.labelAlign,o=[],p=b._fieldSection=new c({name:b.independentField?b.name:SF.form.FieldSection._TRANSPARENT_NAME,relatedContainer:this,title:b.title||b.fieldLabel||b.fieldTitle}),q=b.getId(),r=b.store=new Ext.data.JsonStore({fields:[g,h,i,j]}),s=r.recordType;this.oriData=[];var t,u=b._blankRecord=new s(l("",b.selectBlankText,!1,!1));b.allowBlank&&r.add(u),Ext.each(f,function(c){if(c instanceof Ext.Component||(c=b.lookupComponent(b.applyDefaults(c))),c instanceof Ext.form.Radio)p.addField(c),a||(a={},a[c.getName()]=!0),t=l(c.getName(),c.boxLabel||c.fieldLabel||c.fieldTitle,c.isDisabled(),c.isReadOnly(),c.hidden),b.oriData.push(t),r.add(new s(t));else{if(!(c instanceof d))return void SF.error("CompactRadioGroup only accept Ext.form.Radio or SF.form.FieldSet with radio enableToggle config.");c.cls=(c.cls||"")+" sf-form-compactradiogroup-fieldset",c.bwrapCssClass=(c.bwrapCssClass||"")+" sf-form-compactradiogroup-fieldset-bwrap",c.bodyCssClass=(c.bodyCssClass||"")+" sf-form-compactradiogroup-fieldset-body",c.headerCssClass=(c.headerCssClass||"")+" sf-form-compactradiogroup-fieldset-header",c.isFormField=!1,o.push(c),p.addField(c),a||(a={},a[c.getName()]={enable:!0}),t=l(c.getName(),c.title||c.fieldLabel||c.fieldTitle,c.isDisabled({enable:1}),c.isReadOnly({enable:1}),c.hidden),b.oriData.push(t),r.add(new s(t))}c.setDomName("group-"+q),c.on("check",b.fireChecked,b)}),b.fieldLabel=null;var v=b.selectField=new e({fieldLabel:k,labelAlign:n,width:b.cWidth,fieldTitle:b.fieldTitle,name:b.independentField?b.selectName:b.name,fieldTip:b.fieldTip,fieldTipAlign:b.fieldTipAlign,fieldTipStyle:b.fieldTipStyle,hideLabel:b.hideLabel,editable:!1,allowBlank:b.allowBlank,mode:"local",triggerAction:"all",displayField:h,valueField:g,store:r,value:b.value,tpl:'<tpl for="."><div {[values.hidden ? "style=\\"display:none;\\" " : " "]} class="x-combo-list-item" <tpl if="'+i+" || "+j+'">style="display:none;"</tpl>>{'+h+"}</div></tpl>"});v.on("beforequery",b._updateListState,b),v.on("select",b._handleSelectFieldChange,b),b.outerSelectField||p.addField(v),b.allowBlank||(p.defaultValue=a),b.outerSelectField?(b.isFieldContainer=!0,v.ignoreField=!1,p.relatedComponent=v,v.fieldSection=p):(b.fieldSection=p,o=[v].concat(o)),this.items=o,this.addEvents("itemselect"),m.superclass.initComponent.apply(this,arguments),b.value&&b._handleSelectFieldChange()},_updateListState:function(){var a=this,b=a._fieldSection,c=a.store,e=!0;c.each(function(a){var c,f,h,k=a.get(g);k&&(c=b.findField(k),a.beginEdit(),c instanceof d?(f=c.isDisabled()||c.toggleField.isDisabled(),h=c.toggleField.isReadOnly()):(f=c.isDisabled(),h=c.isReadOnly()),i&&h||(e=!1),a.set(i,f),a.set(j,h),a.endEdit())}),e&&a._blankRecord.set(i,!0)},_handleSelectFieldChange:function(){var a,b=this,c=b._fieldSection,e=b.selectField,f=e.getJsonValue();f?(a=c.findField(f),a instanceof d?a.setChecked(!0):a.setJsonValue(!0)):b._fieldSection.eachField(function(a){a.getName()!==b.selectName&&(a.setChecked?a.setChecked(!1):a.setJsonValue(!1))}),this.fireEvent("itemselect")},fireChecked:function(a,b){var c=this,d=c.selectField,e=a.getName();b?(c.outerSelectField||c.selectField._setJsonValue(e),c.selectItem=a,c._fieldSection.eachField(function(b){b.getName()!==c.selectName&&b!==a&&(b.setChecked?b.setChecked(!1):b.setJsonValue(!1))}),this.fireEvent("change",this,a)):c.outerSelectField||d.getJsonValue()!==e||d._setJsonValue("")},getJsonValue:function(){return this.selectField.getJsonValue()},onDestroy:function(){m.superclass.onDestroy.apply(this,arguments),this._fieldSection.destroy()},setDisabled:function(a){this.disabled=!0,this.rendered?a?this.el.block(null,null,"sf-form-compactradiogroup-fieldset-header-block"):this.el.unblock():this.on("afterrender",function(){this.setDisabled(a)},this,{single:!0})},disable:function(){this.setDisabled(!0)},enable:function(){this.setDisabled(!1)}});b.exports=m});
define("common/widget/form/CompactRadioGroup/single.js",["./index"],function(require,a,b){var c=require("./index"),d=Ext.extend(Ext.Container,{layout:"column",layoutConfig:{align:"stretch"},initComponent:function(){var a,b,e=this,f={fieldTitle:e.fieldTitle||e.fieldLabel,items:e.items,name:e.name,outerSelectField:!0,columnWidth:.5,layout:"anchor"};Ext.isBoolean(e.independentField)&&(f.independentField=e.independentField),e.selectName&&(f.selectName=e.selectName),e.selectBlankText&&(f.selectBlankText=e.selectBlankText),e.radioGroupConfig&&Ext.apply(f,e.radioGroupConfig),Ext.isBoolean(e.allowBlank)&&(f.allowBlank=e.allowBlank),e.name=null,a=e.radioGroup=new c(f),b=e.selectField=a.selectField,b.setJsonValue=b._setJsonValue,b.columnWidth=this.sColWidth||.5,b.fieldSection.relatedContainer=this,b.fieldSection.relatedComponent=null,a.items.each(function(a){a.layout="anchor"}),e.items=[b,{xtype:"box",height:10,width:5},a],d.superclass.initComponent.apply(this,arguments)},setDisabled:function(a){this.items.each(function(b){b.setDisabled(a)})}});b.exports=d});
define("common/widget/form/DateTimeField/TimePickerField.js",["common/widget/form/UpDownNumberField/index"],function(require,a,b){var c=require("common/widget/form/UpDownNumberField/index"),d=function(a){d.superclass.constructor.call(this,a)};Ext.extend(d,Ext.form.Field,{defaultAutoCreate:{tag:"div"},cls:"x-form-timepickerfield",hoursSpinner:null,minutesSpinner:null,secondsSpinner:null,showSecond:!0,spinnerFixBoundries:function(a){return a<this.field.minValue&&(a=this.field.maxValue),a>this.field.maxValue&&(a=this.field.minValue),this.fixPrecision(a)},onRender:function(a,b){d.superclass.onRender.call(this,a,b),this.rendered=!1,this.date=new Date;var e={};this.value?(e=this._valueSplit(this.value),this.date.setHours(e.h),this.date.setMinutes(e.m),this.date.setSeconds(e.s),delete this.value):e={h:this.date.getHours(),m:this.date.getMinutes(),s:this.date.getSeconds()};var f=Ext.DomHelper.append(this.el,{tag:"div"}),g={width:this.showSecond?40:76,readOnly:this.readOnly,disabled:this.disabled,leftPad:2,fieldListeners:{blur:{fn:this.onSpinnerChange,scope:this},focus:{fn:this.onSpinnerFocus,scope:this}},listeners:{spin:{fn:this.onSpinnerChange,scope:this},valid:{fn:this.onSpinnerChange,scope:this},afterrender:{fn:function(a){a.el.applyStyles("float: left")},single:!0}}};this.hoursSpinner=new c(Ext.apply({},g,{minValue:0,maxValue:23,cls:"first",value:e.h})),this.hoursSpinner.render(f),new Ext.BoxComponent({cls:"time-tip",html:_("\u65f6{#simple#}\uff1a")}).render(f),this.minutesSpinner=new c(Ext.apply({},g,{minValue:0,maxValue:59,value:e.m})),this.minutesSpinner.render(f),new Ext.BoxComponent({cls:"time-tip",html:_(this.showSecond?"\u5206{#simple#}\uff1a":"\u5206{#simple#}")}).render(f),this.secondsSpinner=new c(Ext.apply({},g,{minValue:0,maxValue:59,value:e.s})),this.showSecond&&(this.secondsSpinner.render(f),new Ext.BoxComponent({cls:"time-tip",html:_("\u79d2{#simple#}")}).render(f)),Ext.DomHelper.append(f,{tag:"div",cls:"x-form-clear-left"}),this.rendered=!0},_valueSplit:function(a){var b=a.split(":");return{h:b.length>0?b[0]:0,m:b.length>1?b[1]:0,s:b.length>2?b[2]:0}},onSpinnerChange:function(){this.rendered&&this.fireEvent("change",this,this.getRawValue())},onSpinnerFocus:function(a){this.preventFocus||function(){this.preventFocus=!0,a.focus(!0),this.preventFocus=!1}.defer(200,this)},disable:function(){d.superclass.disable.call(this),this.hoursSpinner.disable(),this.minutesSpinner.disable(),this.secondsSpinner.disable()},enable:function(){d.superclass.enable.call(this),this.hoursSpinner.enable(),this.minutesSpinner.enable(),this.secondsSpinner.enable()},setReadOnly:function(a){d.superclass.setReadOnly.call(this,a),this.hoursSpinner.setReadOnly(a),this.minutesSpinner.setReadOnly(a),this.secondsSpinner.setReadOnly(a)},clearInvalid:function(){d.superclass.clearInvalid.call(this),this.hoursSpinner.clearInvalid(),this.minutesSpinner.clearInvalid(),this.secondsSpinner.clearInvalid()},getRawValue:function(){return this.hoursSpinner?{h:this.hoursSpinner.getValue(),m:this.minutesSpinner.getValue(),s:this.secondsSpinner.getValue()}:(this.date=new Date,{h:this.date.getHours(),m:this.date.getMinutes(),s:this.date.getSeconds()})},setRawValue:function(a){this.hoursSpinner.setValue(a.h),this.minutesSpinner.setValue(a.m),this.secondsSpinner.setValue(a.s)},isValid:function(a){return this.hoursSpinner.isValid(a)&&this.minutesSpinner.isValid(a)&&this.secondsSpinner.isValid(a)},validate:function(){return this.hoursSpinner.validate()&&this.minutesSpinner.validate()&&this.secondsSpinner.validate()},getValue:function(){var a=this.getRawValue();return String.leftPad(a.h,2,"0")+":"+String.leftPad(a.m,2,"0")+":"+String.leftPad(a.s,2,"0")},setValue:function(a){return this.rendered?(a=this._valueSplit(a),this.setRawValue(a),void this.validate()):void(this.value=a)}}),Ext.reg("timepickerfield",d),b.exports=d});
define("common/widget/form/DateTimeField/DateTimePicker.js",["./TimePickerField","common/util/Format"],function(require,a,b){var c=require("./TimePickerField"),d=require("common/util/Format"),e=Ext.extend(Ext.DatePicker,{showSecond:!0,showTimePicker:!0,timeFormat:"g:i:s A",initComponent:function(){this.tf||(this.tf=new c({showSecond:this.showSecond,listeners:{scope:this,change:this.onRfChange}}),this.tf.ownerCt=this),this.showTimePicker||this.tf.hide(),e.superclass.initComponent.call(this),this.id=Ext.id()},reBindKeyNav:function(){this.keyNav.destroy(),this.keyNav=new Ext.KeyNav(this.eventEl,{left:function(a){return"input"===a.target.tagName.toLowerCase()?!0:void(a.ctrlKey?this.showPrevMonth():this.update(this.activeDate.add("d",-1)))},right:function(a){return"input"===a.target.tagName.toLowerCase()?!0:void(a.ctrlKey?this.showNextMonth():this.update(this.activeDate.add("d",1)))},up:function(a){return"input"===a.target.tagName.toLowerCase()?!0:void(a.ctrlKey?this.showNextYear():this.update(this.activeDate.add("d",-7)))},down:function(a){return"input"===a.target.tagName.toLowerCase()?!0:void(a.ctrlKey?this.showPrevYear():this.update(this.activeDate.add("d",7)))},pageUp:function(a){"input"!==a.target.tagName.toLowerCase()&&this.showNextMonth()},pageDown:function(a){return"input"===a.target.tagName.toLowerCase()?!0:void this.showPrevMonth()},enter:function(a){return"input"===a.target.tagName.toLowerCase()?!0:(a.stopPropagation(),!0)},scope:this})},onRender:function(a){e.superclass.onRender.apply(this,arguments),this.reBindKeyNav();var b=Ext.get(Ext.DomQuery.selectNode("table tbody",a.dom)),c={tag:"tr",children:[{tag:"td",colspan:"3",children:[{tag:"table",cellspacing:"0",style:"width: 100%;table-layout:fixed;",children:[{tag:"tr",children:[{tag:"td",cls:"x-date-bottom ux-timefield"}]}]}]}]};this.showToday?Ext.DomHelper.insertBefore(b.last(),c,!0):Ext.DomHelper.insertAfter(b.last(),c,!0),this.tf.render(b.child("td.ux-timefield"))},setValue:function(a){this.update(this.value,1),this.value=a,this.tf.setValue(a.format(this.timeFormat))},onRfChange:function(a){if(!this.preventRfChange){var b=a.getValue(),c=this.getValue().format("Y-m-d");this.preventRfChange=!0,this.setValue(new Date(d.getTime(c,b))),this.preventRfChange=!1}},getDateTime:function(a){return this.tf&&(a=Date.parseDate(a.format(this.dateFormat)+" "+this.tf.getValue(),this.format)),a},handleDateClick:function(a,b){var c,e;a.stopEvent(),this.disabled||!b.dateValue||Ext.fly(b.parentNode).hasClass("x-date-disabled")||(this.cancelFocus=this.focusOnSelect===!1,c=new Date(b.dateValue),e=this.tf.getValue(),this.setValue(new Date(d.getTime(c.format("Y-m-d"),e))),delete this.cancelFocus,this.fireEvent("select",this,this.value))},selectToday:function(){this.todayBtn&&!this.todayBtn.disabled&&(this.setValue(new Date),this.fireEvent("select",this,this.value))},update:function(a,b){if(this.rendered){var c=this.activeDate,d=this.isVisible();if(this.activeDate=a,!b&&c&&this.el){var e=a.getTime();if(c.getMonth()===a.getMonth()&&c.getFullYear()===a.getFullYear())return this.cells.removeClass("x-date-selected"),void this.cells.each(function(a){return a.dom.firstChild.dateValue===e?(a.addClass("x-date-selected"),d&&!this.cancelFocus&&Ext.fly(a.dom.firstChild).focus(50),!1):void 0},this)}var f=a.getDaysInMonth(),g=a.getFirstDateOfMonth(),h=g.getDay()-this.startDay;0>h&&(h+=7),f+=h;var i=a.add("mo",-1),j=i.getDaysInMonth()-h,k=this.cells.elements,l=this.textNodes,m=new Date(i.getFullYear(),i.getMonth(),j).clearTime(),n=(new Date).clearTime().getTime(),o=(this.value||a).clearTime(!0).getTime(),p=this.minDate?this.minDate.clearTime(!0):Number.NEGATIVE_INFINITY,q=this.maxDate?this.maxDate.clearTime(!0):Number.POSITIVE_INFINITY,r=this.disabledDatesRE,s=this.disabledDatesText,t=this.disabledDays?this.disabledDays.join(""):!1,u=this.disabledDaysText,v=this.format,w=this.highLights;if(this.showToday){var x=(new Date).clearTime(),y=p>x||x>q||r&&v&&r.test(x.dateFormat(v))||t&&-1!==t.indexOf(x.getDay());this.disabled||(this.todayBtn.setDisabled(y),this.todayKeyListener[y?"disable":"enable"]())}for(var z=function(a,b){b.title="";var c=m.getTime();if(b.firstChild.dateValue=c,c===n&&(b.className+=" x-date-today",b.title=a.todayText),c===o&&(b.className+=" x-date-selected",d&&Ext.fly(b.firstChild).focus(50)),p>c)return b.className=" x-date-disabled",void(b.title=a.minText);if(c>q)return b.className=" x-date-disabled",void(b.title=a.maxText);if(t&&-1!==t.indexOf(m.getDay())&&(b.title=u,b.className=" x-date-disabled"),r&&v){var e=m.dateFormat(v);r.test(e)&&(b.title=s.replace("%0",e),b.className=" x-date-disabled")}w&&-1!==w.indexOf(c)&&(b.className+=" x-date-high-light")},A=0;h>A;A++)l[A].innerHTML=++j,m.setDate(m.getDate()+1),k[A].className="x-date-prevday",z(this,k[A]);for(;f>A;A++){var B=A-h+1;l[A].innerHTML=B,m.setDate(m.getDate()+1),k[A].className="x-date-active",z(this,k[A])}for(var C=0;42>A;A++)l[A].innerHTML=++C,m.setDate(m.getDate()+1),k[A].className="x-date-nextday",z(this,k[A]);if(this.mbtn.setText(this.monthNames[a.getMonth()]+" "+a.getFullYear()),!this.internalRender){var D=this.el.dom.firstChild,E=D.offsetWidth;this.el.setWidth(E+this.el.getBorderWidth("lr")),Ext.fly(D).setWidth(E),this.internalRender=!0,Ext.isOpera&&!this.secondPass&&(D.rows[0].cells[1].style.width=E-(D.rows[0].cells[0].offsetWidth+D.rows[0].cells[2].offsetWidth)+"px",this.secondPass=!0,this.update.defer(10,this,[a]))}}}});Ext.reg("datetimepickerfield",e),b.exports=e});
define("common/widget/form/DateTimeField/DateTimeMenu.js",["./DateTimePicker"],function(require,a,b){var c=require("./DateTimePicker");Ext.override(Ext.menu.DateMenu,{initComponent:function(){this.on("beforeshow",this.onBeforeShow,this),this.strict=Ext.isIE7&&Ext.isStrict,this.strict&&this.on("show",this.onShow,this,{single:!0,delay:20}),Ext.apply(this,{plain:!0,showSeparator:!1,items:this.picker=new Ext.DatePicker(Ext.apply({internalRender:this.strict||!Ext.isIE,ctCls:"x-menu-date-item"},this.initialConfig))}),Ext.menu.DateMenu.superclass.initComponent.call(this),this.relayEvents(this.picker,["select"]),this.on("select",this.menuHide,this),this.handler&&this.on("select",this.handler,this.scope||this)}});var d=function(a){d.superclass.constructor.call(this,a),this.plain=!0;var b=new c(a);this.add(b),this.picker=b,this.relayEvents(b,["select"]),this.on("beforeshow",function(){this.picker&&this.picker.hideMonthPicker(!0)},this)};Ext.extend(d,Ext.menu.Menu,{cls:"x-date-menu",keyNav:{disable:Ext.emptyFn},beforeDestroy:function(){this.picker.destroy()},hide:function(a){return this.picker.tf.innerList&&(Ext.EventObject.within(this.picker.tf.innerList)||Ext.get(Ext.EventObject.getTarget())===this.picker.tf.innerList)?!1:(this.el&&this.isVisible()&&(this.fireEvent("beforehide",this),this.activeItem&&(this.activeItem.deactivate(),this.activeItem=null),this.el.hide(),this.hidden=!0,this.fireEvent("hide",this)),void(a===!0&&this.parentMenu&&this.parentMenu.hide(!0)))}}),b.exports=d});
define("common/widget/form/DateTimeField/index.js",["./DateTimeMenu","./index.css"],function(require,a,b){var c=require("./DateTimeMenu");require("./index.css");var d=Ext.extend(Ext.form.DateField,{dateFormat:"Y-m-d",timeFormat:"H:i:s",showSecond:!0,showTimePicker:!0,startDay:ACDC.data.startDay,formatText:"YYYY-MM-DD HH:MM:SS",defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},initComponent:function(){this.showSecond||(this.formatText="YYYY-MM-DD HH:MM",this.timeFormat="H:i"),d.superclass.initComponent.call(this),this.format&&"Y-m-d"!==this.format||(this.format=this.dateFormat,this.formatText="YYYY-MM-DD",this.showTimePicker?(this.format=this.dateFormat+" "+this.timeFormat,this.formatText=this.showSecond?"YYYY-MM-DD HH:MM:SS":"YYYY-MM-DD HH:MM"):this.altFormats=this.dateFormat+" "+this.timeFormat),this.afterMethod("afterRender",function(){this.getEl().applyStyles("top:0")})},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||""},onTriggerClick:function(){this.disabled||(this.menu||(this.menu=new c({showSecond:this.showSecond,showTimePicker:this.showTimePicker,cls:"dc-date-time-menu"})),Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.ddMatch,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,timeFormat:this.timeFormat,dateFormat:this.dateFormat,showToday:this.showToday,startDay:this.startDay,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue)),highLights:this.highLights,showSecond:this.showSecond,showTimePicker:this.showTimePicker}),this.menuEvents?this.menuEvents("on"):this.menu.on(Ext.apply({},this.menuListeners,{scope:this})),this.menu.picker.tf.on("change",this.updateInputValue,this),this.menu.picker.setValue(this.getValue()||new Date),this.menu.show(this.el,"tl-bl?"))},updateInputValue:function(){this.setValue(this.menu.picker.getValue())}});Ext.reg("datetimefield",d),b.exports=d});
define("common/widget/form/FileUpload/FileUploadField.js",["./FileUploadField.css"],function(require,a,b){require("./FileUploadField.css");var c=Ext.extend(Ext.form.TextField,{buttonText:"Browse...",buttonOnly:!1,buttonOffset:3,readOnly:!0,autoSize:Ext.emptyFn,initComponent:function(){c.superclass.initComponent.call(this),this.addEvents("fileselected")},onRender:function(a,b){c.superclass.onRender.call(this,a,b),this.wrap=this.el.wrap({cls:"x-form-field-wrap x-form-file-wrap"}),this.wrap.on({mousemove:this.onButtonMouseMove,mouseover:this.onButtonMouseMove,scope:this}),this.el.addClass("x-form-file-text"),this.el.dom.removeAttribute("name"),this.el.setStyle("margin-right",this.buttonOffset+"px");var d=Ext.applyIf(this.buttonCfg||{},{text:this.buttonText});this.button=new Ext.Button(Ext.apply(d,{renderTo:this.wrap,cls:"x-form-file-btn"})),this.createFileInput(),this.buttonOnly&&(this.el.enableDisplayMode(),this.el.hide(),this.wrap.setWidth(this.button.getEl().getWidth())),this.resizeEl=this.positionEl=this.wrap},bindListeners:function(){this.fileInput.on({scope:this,mouseenter:function(){this.button.addClass(["x-btn-over","x-btn-focus"])},mouseleave:function(){this.button.removeClass(["x-btn-over","x-btn-focus","x-btn-click"])},mousedown:function(){this.button.addClass("x-btn-click")},mouseup:function(){this.button.removeClass(["x-btn-over","x-btn-focus","x-btn-click"])},change:function(){var a=this.fileInput.dom.value;a&&a.substr&&(a=a.substr(a.lastIndexOf("\\")+1)),this.fireEvent("fileselected",this,a)}})},createFileInput:function(){this.fileInput=this.wrap.createChild({name:this.name||this.getId(),cls:"x-form-file",tag:"input",type:"file",size:1}),this.button.tooltip&&(Ext.isObject(this.button.tooltip)?Ext.QuickTips.register(Ext.apply({target:this.fileInput},this.button.tooltip)):this.fileInput.dom[this.button.tooltipType]=this.button.tooltip),this.bindListeners()},reset:function(){this.fileInput.remove(),this.createFileInput(),c.superclass.reset.call(this)},getFileInputId:function(){return this.id+"-file"},onResize:function(a,b){if(c.superclass.onResize.call(this,a,b),!this.buttonOnly){var d=this.wrap.getWidth()-this.button.getEl().getWidth()-this.buttonOffset;this.el.setWidth(d)}},onHide:function(){c.superclass.onHide.apply(this,arguments),this.buttonOnly||(this.hideWidth=this.wrap.getWidth()-this.button.getEl().getWidth()-this.buttonOffset)},onShow:function(){c.superclass.onShow.apply(this,arguments);var a=this.hideWidth;a&&this.el.setWidth(a)},onDestroy:function(){c.superclass.onDestroy.call(this),Ext.destroy(this.fileInput,this.button,this.wrap)},onDisable:function(){c.superclass.onDisable.call(this),this.doDisable(!0)},onEnable:function(){c.superclass.onEnable.call(this),this.doDisable(!1)},doDisable:function(a){this.fileInput.dom.disabled=a,this.button.setDisabled(a)},preFocus:Ext.emptyFn,alignErrorIcon:function(){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])},onButtonMouseMove:function(a){var b=this.wrap.getRight()-a.getPageX()-10,c=a.getPageY()-this.wrap.getY()-10;this.fileInput.setRight(b),this.fileInput.setTop(c),this.button.addClass(["x-btn-over","x-btn-focus"])},detachFileInput:function(a){var b=this.fileInput;return Ext.isObject(this.button.tooltip)?Ext.QuickTips.unregister(this.fileInput):this.fileInput.dom[this.button.tooltipType]=null,this.fileInput.removeAllListeners(),this.fileInput=null,a||this.createFileInput(),b}});b.exports=c});
define("common/widget/form/FileUpload/Mgr.js",[],function(require,a,b){var c=function(){function a(a,b,c){Ext.isFunction(a)&&a.apply(b,c)}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=ACDC.data.url,r="SF:fileId",s={INITIAL:-1,UPLOADING:-2,ERROR:-3,SUCCESS:-4},t=null,u=null,v=null,w=null,x=s.INITIAL,y={},z=null;return l=function(){switch(x){case s.INITIAL:break;case s.UPLOADING:h(z),t.hide();break;case s.ERROR:case s.SUCCESS:t.hide()}},m=function(){return u?u.updateProgress.apply(u,arguments):void 0},n=function(a){t&&t.setTitle(a)},o=function(a){v&&(v.rendered?v.update(a):v.html=a)},p=function(){var a="";switch(x){case s.INITIAL:break;case s.UPLOADING:a=_("\u53d6\u6d88");break;case s.ERROR:case s.SUCCESS:a=_("\u5173\u95ed")}w.setText(a)},e=function(){b||(u=new Ext.ProgressBar({anchor:"100%"}),v=new Ext.BoxComponent({anchor:"100% -20",style:"padding:10px 0 0 0;word-break: break-all;line-height:16px;"}),w=new Ext.Button({text:" ",handler:l}),t=new Ext.Window({modal:!0,resizable:!1,width:300,closable:!1,draggable:!1,buttons:[w],layout:"anchor",padding:10,items:[u,v]}),b=Ext.getBody().createChild({tag:"form",method:"post",cls:"x-hidden"}))},f=function(a){var b=a.dom,c=b.getAttribute(r);return c||(c=""+(new Date).getTime(),b.setAttribute(r,c)),c},g=function(a,g,h,l){e(),Ext.isFunction(g)&&(l=h,h=g,g=null),g=g||{};var r=a.dom;c=h,d=l,r.setAttribute("name","file"),b.appendChild(r);var u=f(a),v=!!g.showProgress,w=null;v&&(w=j(u));var A={url:q+"?upload"+(g.doCompress?"&doCompress":""),form:b,callback:k(u,w,h,l)};z=u;var B=r.value;B&&B.substr&&(B=B.substr(B.lastIndexOf("\\")+1));var C={fileDom:r,name:B,fileId:u},D=i(A);y[z]=C,C.abort=function(){D(),w&&w.stop()},w&&w.start(1500),x=s.UPLOADING,m(0,"0%"),n(_("\u4e0a\u4f20\u6587\u4ef6\u4e2d\uff0c\u8bf7\u7a0d\u5019")),o(_("\u4e0a\u4f20\u6587\u4ef6:{0}",C.name)),p(),t.show(),a.remove()},h=function(a){var b=y[a];b&&b.abort(),delete y[a]},i=function(b){function c(){var e,g,h=this;try{e=f.contentWindow.document||f.contentDocument||window.frames[d].document,e&&(e.body&&(m.responseText=(g=e.body.firstChild||{}).tagName?g.innerText||g.textContent:e.body.innerHTML),m.responseXML=e.XMLDocument||e)}catch(i){}Ext.EventManager.removeListener(f,k,c,h),a(b.success,b.scope,[m,b]),a(b.callback,b.scope,[b,!0,m]),l=!0,setTimeout(function(){Ext.removeNode(f)},100)}var d=Ext.id(),e=document,f=e.createElement("iframe"),g=Ext.getDom(b.form),h="multipart/form-data",i={target:g.target,method:g.method,encoding:g.encoding,enctype:g.enctype,action:g.action},j=this,k="load";Ext.fly(f).set({id:d,name:d,cls:"x-hidden",src:Ext.SSL_SECURE_URL}),e.body.appendChild(f),Ext.isIE&&(document.frames[d].name=d),Ext.fly(g).set({target:d,method:"POST",enctype:h,encoding:h,action:b.url});var l=!1,m={responseText:"",responseXML:null,getJsonData:SF.Ajax.__getJsonData,argument:b.argument},n=function(){try{if(Ext.EventManager.removeListener(f,k,c,j),window.stop)f.contentWindow.stop();else{var d;f.contentWindow&&f.contentWindow.document?d=f.contentWindow.document:f.contentDocument?d=f.contentDocument:f.document&&(d=f.document),d&&d.execCommand("Stop")}setTimeout(function(){Ext.removeNode(f)},100)}catch(e){}l||(a(b.failure,b.scope,[m,b]),a(b.callback,b.scope,[b,!1,m]),l=!0)};return Ext.EventManager.on(f,k,c,this),g.submit(),Ext.fly(g).set(i),n},j=function(a){var b=new SF.util.IntervalTask({fn:function(){Ext.Ajax.request({url:q,params:{query:a},method:"GET",callback:function(a,c,d){if(c){var e=d.getJsonData();if(e&&e.success===!0&&x===s.UPLOADING){var f=parseInt(e.percent);isNaN(f)||m(f/100,""+f+"%")}}b.finish()}})},interval:1500});return b},k=function(a,b,c,d){return function(e,f,g){b&&b.stop();var h,i,j=y[a];if(delete y[a],f)if(i=g.getJsonData()){if(i.success===!0)return m(1,_("\u5b8c\u6210")),n(_("\u4e0a\u4f20\u6587\u4ef6\u6210\u529f")),o(_("\u4e0a\u4f20\u6587\u4ef6[{0}]\u6210\u529f",j.name)),p(),t.hide.defer(100,t),void c.call(d,!0,{name:j.name,id:i.data[0]||a,bytes:i.bytes});h=_("\u4e0a\u4f20\u6587\u4ef6[{0}]\u65f6\u88ab\u670d\u52a1\u5668\u62d2\u7edd",j.name)}else h=_("\u4e0a\u4f20\u6587\u4ef6[{0}]\u65f6\u670d\u52a1\u5668\u8fd4\u56de\u9519\u8bef\u4fe1\u606f",j.name);else h=_("\u4e0a\u4f20\u6587\u4ef6[{0}]\u65f6\u53d1\u751f\u7f51\u7edc\u9519\u8bef",j.name);x=s.ERROR,m(0,_("\u5931\u8d25")),n(_("\u4e0a\u4f20\u6587\u4ef6\u5931\u8d25")),o(h),p(),c.call(d,!1)}},{upload:g}}();b.exports=c});
define("common/widget/form/FileUpload/FileUploader.js",["./FileUploadField","./Mgr.js"],function(require,a,b){SF.ns("SF.ux");var c=require("./FileUploadField"),d=require("./Mgr.js"),e=SF.extend(c,{buttonOnly:!0,autoUpload:!0,required:!0,doCompress:!1,showProgress:!1,constructor:function(a){this.buttonCfg=SF.apply({},a);for(var b=["buttonCfg","handler","scope","actionHandler","actionScope","listeners","renderTo","applyTo"],c=0,d=b.length;d>c;c++)delete this.buttonCfg[b[c]];e.superclass.constructor.apply(this,arguments)},initComponent:function(){e.superclass.initComponent.apply(this,arguments),this.addEvents("uploadsuccess","select"),this.on("fileselected",this.onInputFileChange,this),this.fileId=this.fileId||null,this.buttonText=this.text},initActionMonitor:SF.emptyFn,onInputFileChange:function(a,b){var c=this._verifySelectingFile(b);return c!==!0?(SF.showErr(c),void this.reset()):(this.fireEvent("select",b),void(this.autoUpload?this.startUpload():this.setValue(b)))},_verifySelectingFile:function(a){var b,c,d=a.lastIndexOf(".");d>0?(b=a.slice(d+1).toLowerCase(),c=a.slice(0,d)):(b="",c=a);var e=this._verifyFileExt(b);return e===!0&&(e=this._verifyFileName(c)),e},_verifyFileName:function(a){var b;return this.acceptFileName?(b=this._verifyTextWithCfg(a,this.acceptFileName,this.acceptFileNameMsg),b===!0||this.acceptFileNameMsg||(b=_("\u6587\u4ef6\u540d\u5fc5\u987b{0}",b)),b):!0},_verifyFileExt:function(a){var b;return this.acceptFileType?(this.acceptFileTypes||(this.acceptFileTypes=this.acceptFileType.toLowerCase().split(",")),b=this._verifyTextWithCfg(a,this.acceptFileTypes,this.acceptFileTypeMsg),b===!0||this.acceptFileTypeMsg||(b=_("\u8bf7\u9009\u62e9\u6b63\u786e\u683c\u5f0f\u7c7b\u578b\u7684\u6587\u4ef6\uff01\u540e\u7f00\u5fc5\u987b{0}",b)),b):!0},_verifyTextWithCfg:function(a,b,c){var d;return Ext.isArray(b)&&b.length<=1&&(b=b[0]),Ext.isString(b)?a===b?!0:c||_("\u4e3a{0}",b):Ext.isArray(b)?b.indexOf(a)>=0?!0:c||_("\u4e3a[{0}]\u4e2d\u7684\u4e00\u9879",b.join(", ")):Ext.isFunction(b)?(d=b(a),d===!0?!0:Ext.isString(d)?d:c):Ext.isFunction(b.test)?b.test(a)?!0:c:!0},startUpload:function(){this.uploading=!0,d.upload(this.detachFileInput(),{showProgress:this.showProgress,doCompress:this.doCompress},this.handleUploadComplete,this)},handleUploadComplete:function(a,b){if(this.uploading=!1,a===!0){if(this.maxBytes&&this.maxBytes<b.bytes)return void SF.showErr(_("\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7")+this.getUnitName());this.setValue(b.name),this.fileId=b.id,this.fireEvent("uploadsuccess",b),this.actionHandler&&this.actionHandler.call(this.actionScope,this,null,{fileId:b.id,file:b})}},getUnitName:function(){var a=this.maxBytes;return 1024>a?a+" byte":a>=1024&&1048576>a?a/1024+" K":a>=1048576&&1073741824>a?a/1048576+" M":a/1073741824+" G"},getJsonValue:function(){return this.fileId},setJsonValue:function(a){this.fileId=a},reset:function(){e.superclass.reset.apply(this,arguments),SF.form.JsonField.prototype.reset.apply(this,arguments)},isValid:function(){return!this.required||this.fileId&&!this.uploading},validate:function(){return this.isValid()?(this.clearInvalid(),!0):(this.markInvalid(_("\u5c1a\u672a\u9009\u62e9\u4e0a\u4f20\u6587\u4ef6")),!1)}});SF.applyInterface(e,SF.form.JsonField),Ext.reg("fileuploader",e),b.exports=e});
define("common/widget/form/FileUpload/index.js",["./FileUploader"],function(require,a,b){var c=require("./FileUploader"),d=SF.extend(c,{text:_("\u6d4f\u89c8..."),emptyText:_("\u8bf7\u9009\u62e9\u8981\u4e0a\u4f20\u7684\u6587\u4ef6"),buttonOffset:3,buttonOnly:!1,getJsonValue:function(){var a=this.realname||"",b=d.superclass.getJsonValue.apply(this);return""!==b&&b>0&&(a=""),{name:this.getValue(),id:b,realname:a}},setJsonValue:function(a){a=a||{},this.setValue(a.name),this.realname=a.realname,d.superclass.setJsonValue.call(this,a.id)}});Ext.reg("fileuploadfield",d),b.exports=d});
define("common/widget/form/KMGBField/index.js",["common/widget/form/UnitButton/index","./index.css"],function(require,a,b){var c=require("common/widget/form/UnitButton/index");require("./index.css");var d=Ext.extend(Ext.Container,{fieldWidth:120,unitWidth:30,layout:"table",layoutConfig:{columns:2},precision:2,initUnitStr:"Kbps",autoSetUnit:!0,unitList:[["bps","Kbps","Mbps","Gbps","Tbps"],["Bps","KBps","MBps","GBps","TBps"],["b/s","Kb/s","Mb/s","Gb/s","Tb/s"],["B/s","KB/s","MB/s","GB/s","TB/s"],["B","KB","MB","GB","TB","PB"]],unitListPower:[[1,1024,1048576,1073741824,1099511627776],[8,8192,8388608,8589934592,8796093022208],[1,1024,1048576,1073741824,1099511627776],[8,8192,8388608,8589934592,8796093022208],[1,1024,1048576,1073741824,1099511627776,0x4000000000000]],unitListRow:0,unitListCol:[0,1,2],getSetPower:1,getSetPowerUnit:0,initComponent:function(){this.unitArray=[],this.unitArrayPower=[];for(var a=0;a<this.unitListCol.length;a++)this.unitArray.push(this.unitList[this.unitListRow][this.unitListCol[a]]),this.unitArrayPower.push(this.unitListPower[this.unitListRow][this.unitListCol[a]]);this.unitButton=new c({width:this.unitWidth,unitArray:this.unitArray,unitRtn:!0}),this.unitButton.on("unitchanged",function(a,b,c,d,e){this.updateView(d,e)},this),this.inputCfg=this.inputCfg||{};var b=SF.applyIf({allowBlank:this.allowBlank,allowNegative:this.allowNg,name:this.name,maxValue:999999999999999,width:this.fieldWidth,decimalPrecision:this.precision,listeners:{change:function(){this.parentField.realValueChange=!0,this.validate()}},parentField:this,validate:function(){return this.parentField.validate()?Ext.form.NumberField.prototype.validate.apply(this,arguments):!1}},this.inputCfg);this.textField=new Ext.form.NumberField(b),this.items=[this.textField,this.unitButton],void 0!==this.value&&null!==this.value&&this.setJsonValue(this.value),d.superclass.initComponent.call(this)},updateView:function(a,b){var c=this.textField.getValue();if(""!==c){var d=this.tobps(c,this.unitArray[b]);(!this.realValue||this.realValueChange)&&(this.realValue=d,this.realValueChange=!1);var e=this.frombps(this.realValue,this.unitArray[a]);this.textField.setJsonValue(e)}else this.textField.setJsonValue("");this.unitButton.setJsonValue(a)},setValue:function(a){""!==a?(a=parseFloat(a.toFixed(this.precision)),this.realValue=a,this.textField.setJsonValue(a)):(this.realValue=0,this.textField.setJsonValue("")),this.unitButton.setJsonValue(0)},getValue:function(){var a=this.unitButton.getJsonValue(),b=this.textField.getValue(),c=this.tobps(b,this.unitArray[a]);return(!this.realValue||this.realValueChange)&&(this.realValue=c,this.realValueChange=!1),this.realValue},setJsonValue:function(a){var b="";""!==a&&(b=a*this.getSetPower),this.setValue(b),this.updateGetSetPowerUnit(b),this.updateView(this.getSetPowerUnit,0)},getJsonValue:function(){var a=this.getValue()/this.getSetPower;return a=parseFloat(a.toFixed(this.precision))},tobps:function(a,b){var c=isNaN(parseFloat(a))?0:parseFloat(a),d=this.unitArray.indexOf(b);return-1===d&&(d=0),c*this.unitArrayPower[d]},frombps:function(a,b){var c=isNaN(parseFloat(a))?0:parseFloat(a),d=this.unitArray.indexOf(b);return-1===d&&(d=0),c/=this.unitArrayPower[d],parseFloat(c.toFixed(this.precision))},clearInvalid:function(){this.textField.clearInvalid()},getInvalid:function(){return this.currentInvalid=this.textField.getInvalid(),this.currentInvalid},markInvalid:function(a){this.currentInvalid=a,this.textField.markInvalid(a)},validate:function(){var a=this.getValue();return this.allowBlank!==!1||""!==this.textField.getValue()&&void 0!==this.textField.getValue()?"number"==typeof this.maxValue&&a>this.maxValue?(this.markInvalid(this.maxValueMsg||_("\u8be5\u8f93\u5165\u9879\u7684\u6700\u5927\u503c\u662f")+this.maxValue+(this.unitList[this.unitListRow][0]||"bps")),!1):"number"==typeof this.minValue&&a<this.minValue?(this.markInvalid(this.minValueMsg||_("\u8be5\u8f93\u5165\u9879\u7684\u6700\u5c0f\u503c\u662f")+this.minValue+(this.unitList[this.unitListRow][0]||"bps")),!1):(this.clearInvalid(),!0):(this.markInvalid(_("\u8be5\u8f93\u5165\u9879\u4e3a\u5fc5\u8f93\u9879")),!1)},setWidth:function(a){var b;d.superclass.setWidth.apply(this,arguments),b=this.unitButton.getWidth(),this.textField.setWidth(a-b-8)},disable:function(){this.callParent(arguments),this.textField.disable(),this.unitButton.disable()},enable:function(){this.callParent(arguments),this.textField.enable(),this.unitButton.enable()},updateGetSetPowerUnit:function(a){for(var b=this.unitListCol.length,c=this.unitListPower[this.unitListRow],d=b-1;d>=0;d--)if(a/c[d]>=1)return void(this.getSetPowerUnit=d)}});SF.applyInterface(d,SF.form.JsonField),b.exports=d});
define("common/widget/form/Link.js",[],function(require,a,b){var c=Ext.extend(Ext.Component,{initComponent:function(){this.autoEl={tag:"span",target:this.target||"_self",actionName:this.actionName||""},c.superclass.initComponent.apply(this,arguments)},updateStatus:function(a){this.rendered&&this.el.update(a||this.text||"&nbsp;")},onClick:function(){this.handler&&this.handler.call(this.scope||this,this)},afterRender:function(){c.superclass.afterRender.apply(this,arguments),this.el.addClass("x-field-linkref sim-link"),this.updateStatus(this.text),this.mon(this.el,"click",this.onClick,this)}});Ext.reg("link",c),b.exports=c});
define("common/widget/form/MonthField/MonthPicker.js",[],function(require,a,b){var c=[_("\u4e00\u6708"),_("\u4e8c\u6708"),_("\u4e09\u6708"),_("\u56db\u6708"),_("\u4e94\u6708"),_("\u516d\u6708"),_("\u4e03\u6708"),_("\u516b\u6708"),_("\u4e5d\u6708"),_("\u5341\u6708"),_("\u5341\u4e00\u6708"),_("\u5341\u4e8c\u6708")],d="x-month-selected",e=Ext.extend(Ext.BoxComponent,{initComponent:function(){this.callParent(arguments)},onRender:function(a,b){var d=['<table cellspacing="0">','<tr><td class="x-date-left"><a title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0">'];d[d.length]="<tbody><tr>";var e;for(e=0;e<c.length;e++)e%4===0&&0!==e&&(d[d.length]="</tr><tr>"),d[d.length]='<td><a hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>';d.push('</tr></tbody><div class="x-date-mp"></div>');var f=document.createElement("div");f.className="x-date-picker",f.innerHTML=d.join(""),a.dom.insertBefore(f,b),this.el=Ext.get(f),this.eventEl=Ext.get(f.firstChild),this.prevRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevYear,scope:this,preventDefault:!0,stopDefault:!0}),this.nextRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextYear,scope:this,preventDefault:!0,stopDefault:!0}),this.keyNav=new Ext.KeyNav(this.eventEl,{left:function(){this.showPrevYear()},right:function(){this.showNextYear()},scope:this}),this.el.unselectable(),this.cells=this.el.select("table.x-date-inner tbody td"),this.textNodes=this.el.query("table.x-date-inner tbody span"),this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",!0)}),this.mbtn.el.child("em").addClass("x-btn-arrow"),this.mon(this.eventEl,"click",this.handleDateClick,this,{delegate:"a.x-date-date"}),this.onEnable(!0),this.setValue(this.value)},renderBody:function(a,b,e){var f=function(c,f){c.firstChild.yearValue=e,c.firstChild.monthValue=f,f===(new Date).getMonth()+1&&e===(new Date).getFullYear()&&(c.className+=" x-date-today",c.title=_("\u5f53\u524d\u6708")),b===f&&e===a&&(c.className+=" "+d,this.cancelFocus||Ext.fly(c.firstChild).focus(50))};a=a||(new Date).format("Y"),b=b||(new Date).getMonth(),e=e||a,this.activeYear=e,this.mbtn.setText(e),this.cells.removeClass(d,"x-date-today");for(var g=0;g<c.length;g++)this.textNodes[g].innerHTML=c[g],f.call(this,this.cells.elements[g],g+1)},showPrevYear:function(){this.renderBody(this.value.y,this.value.m,this.activeYear-1)},showNextYear:function(){this.renderBody(this.value.y,this.value.m,this.activeYear+1)},handleDateClick:function(a,b){this.setValue({y:b.yearValue,m:b.monthValue}),this.fireEvent("select",this,this.value)},setValue:function(a){this.value=a,this.rendered&&this.renderBody(a&&a.y,a&&a.m)},getValue:function(){return this.value},destroy:function(){Ext.destroyMembers(this,"cells","mbtn"),this.callParent(arguments)}});b.exports=e});
define("common/widget/form/MonthField/Menu.js",["./MonthPicker"],function(require,a,b){var c=require("./MonthPicker"),d=Ext.extend(Ext.menu.DateMenu,{initComponent:function(){this.on("beforeshow",this.onBeforeShow,this),this.strict=Ext.isIE7&&Ext.isStrict,this.strict&&this.on("show",this.onShow,this,{single:!0,delay:20}),Ext.apply(this,{plain:!0,showSeparator:!1,items:this.picker=new c(Ext.applyIf({internalRender:this.strict||!Ext.isIE,ctCls:"x-menu-date-item",id:this.pickerId},this.initialConfig))}),this.picker.purgeListeners(),Ext.menu.DateMenu.superclass.initComponent.call(this),this.relayEvents(this.picker,["select"]),this.on("show",this.picker.focus,this.picker),this.on("select",this.menuHide,this),this.handler&&this.on("select",this.handler,this.scope||this)},onBeforeShow:function(){}});b.exports=d});
define("common/widget/form/MonthField/index.js",["./Menu","common/util/Format","./index.css"],function(require,a,b){var c=require("./Menu"),d=require("common/util/Format");require("./index.css");var e=Ext.extend(Ext.form.TriggerField,{editable:!1,initEvents:function(){Ext.form.DateField.superclass.initEvents.call(this),this.keyNav=new Ext.KeyNav(this.el,{down:function(){this.onTriggerClick()},scope:this,forceKeyDown:!0})},initComponent:function(){this.ctCls="acdc-month-date-field",this.values=this.value||this.defaultValue||{y:(new Date).getFullYear(),m:(new Date).getMonth()+1},this.callParent(arguments)},onTriggerClick:function(){this.disabled||(this.menu||(this.menu=new c({cls:"acdc-date-menu-month",hideOnClick:!1,focusOnSelect:!1})),this.onFocus(),this.menu.picker.setValue(this.getValue()||{y:(new Date).getFullYear(),m:(new Date).getMonth()+1}),this.menu.show(this.el,"tl-bl?"),this.menuEvents("on"))},menuEvents:function(a){this.menu[a]("select",this.onSelect,this),this.menu[a]("hide",this.onMenuHide,this),this.menu[a]("show",this.onFocus,this)},onSelect:function(a,b){this.setValue(b),this.fireEvent("select",this,b),this.menu.hide()},onMenuHide:function(){this.focus(!1,60),this.menuEvents("un")},setDisplayValue:function(a){this.clearEmptyText(),Ext.form.TextField.prototype.setValue.call(this,[a.start,_("\u81f3"),a.end].join(" ")),this.applyEmptyText(),this.autoSize(),this.value=new Date(d.getTime(a.start))},getValue:function(){return this.value},setValue:function(a){var b;a&&(b=d.getTime([a.y,a.m,1].join("-")),b=this.getStartEnd(new Date(b)),this.setDisplayValue(b)),this.value=a},getStartEnd:function(a){var b={},c=a.getDaysInMonth();return c=new Date(d.getTime([a.getFullYear(),a.getMonth()+1,c].join("-"))),b.start=a.format("Y-m-d"),b.end=c.format("Y-m-d"),b},onDestroy:function(){Ext.destroy(this.menu,this.keyNav),this.callParent(arguments)}});b.exports=e});
define("common/widget/form/MultiSingleLineField/index.js",["./index.css"],function(require,a,b){require("./index.css");var c=Ext.extend(Ext.form.Field,{defaultAutoCreate:{tag:"div"},initComponent:function(){this.initItems(),this.callParent(arguments)},applyDefaults:function(a){var b=this.defaults;return b&&(Ext.isFunction(b)&&(b=b.call(this,a)),Ext.isString(a)?(a=Ext.ComponentMgr.get(a),Ext.apply(a,b)):a.events?Ext.apply(a,b):Ext.applyIf(a,b)),a},lookupComponent:function(a){return Ext.isString(a)?Ext.ComponentMgr.get(a):a.events?a:this.createComponent(a)},createComponent:function(a,b){var c=a.render?a:Ext.create(Ext.apply({ownerCt:this},a),b||this.defaultType);return delete c.ownerCt,c},initItems:function(){Ext.each(this.items,function(a,b){this.items[b]=this.lookupComponent(this.applyDefaults(a))},this)},createChildrenElConfig:function(){var a=[];return Ext.each(this.items,function(b,c){var d={tag:"div",cls:"acdc-multi-single-line-field-item"};c?c===this.items.length-1&&(d.cls+=" acdc-multi-single-line-field-item-last"):d.cls+=" acdc-multi-single-line-field-item-first",a.push(d)},this),a},onRender:function(){if(this.callParent(arguments),!this.wrap){var a=Ext.DomHelper.append(this.el,{tag:"div",cls:"acdc-multi-single-line-field-wrap",children:this.createChildrenElConfig()});Ext.each(a.children,function(a,b){var c=this.items[b];c&&c.render(Ext.fly(a))},this),Ext.DomHelper.append(a,{tag:"div",cls:"x-form-clear-left"}),this.wrap=a}},cascadeItems:function(a,b){Ext.isFunction(a)&&Ext.each(this.items,function(c,d){return a.call(b||this,c,d)},this)},disable:function(){this.callParent(arguments),this.cascadeItems(function(a){a.disable()})},enable:function(){this.callParent(arguments),this.cascadeItems(function(a){a.enable()})},setReadOnly:function(a){this.callParent(arguments),this.cascadeItems(function(b){b.setReadOnly(a)})},getJsonValue:function(){var a={};return this.cascadeItems(function(b){b.name&&b.getJsonValue&&(a[b.name]=b.getJsonValue())}),a},setJsonValue:function(a){a&&this.cascadeItems(function(b){b.name&&b.setJsonValue&&b.setJsonValue(a[b.name])})},isValid:function(a){var b=!0;return this.cascadeItems(function(c){var d;c.isValid&&(d=c.isValid(a),d||(b=!1))}),b},validate:function(){var a=!0;return this.cascadeItems(function(b){var c;b.validate&&(c=b.validate(),c||(a=!1))}),a},getInvalid:function(){var a=[];return this.cascadeItems(function(b){if(b.getInvalid){var c=b.getInvalid();c&&a.push(c)}}),a.join("\n")},markInvalid:function(a){return Ext.isObject(a)?void this.cascadeItems(function(b){b.name&&b.markInvalid&&b.markInvalid(a[b.name])}):void SF.warn("markInvalid: must be an object")},clearInvalid:function(){this.callParent(arguments),this.cascadeItems(function(a){a.clearInvalid&&a.clearInvalid()})},destroy:function(){Ext.each(this.items,function(a){Ext.destroy(a)},this),Ext.destroy(this.wrap),this.wrap=null,this.items=null,this.callParent(arguments)}});b.exports=c});
define("common/widget/form/SearchField/index.js",[],function(require,a,b){var c=Ext.extend(Ext.form.TwinTriggerField,{trigger1Class:"x-form-clear-trigger",trigger2Class:"x-form-search-trigger",hideTrigger1:!0,width:120,emptyText:_("\u6a21\u7cca\u67e5\u8be2"),maxLength:95,maxLengthText:_("\u641c\u7d22\u5185\u5bb9\u8f93\u5165\u7684\u6700\u5927\u957f\u5ea6\u4e3a95\u4e2a\u5b57\u7b26"),regex:/^[^`~!#$%^&*+\\|{};:"',/<>?]*$/,regexText:_("\u641c\u7d22\u540d\u79f0\u4e0d\u80fd\u542b\u6709`~!#$%^&*+\\|{};:\"',/<>?\u7b49\u7279\u6b8a\u5b57\u7b26"),initComponent:function(){c.superclass.initComponent.apply(this,arguments),this.on("specialkey",function(a,b){b.getKey()===b.ENTER&&this.onTrigger2Click()&&Ext.isFunction(this.searchFn)&&this.searchFn.call(this.scope,this,this.getValue())},this)},onTrigger1Click:function(){this.disabled||(this.clearInvalid(),this.reset(),Ext.isFunction(this.searchFn)&&this.searchFn.call(this.scope,this,this.getValue()))},onTrigger2Click:function(){return this.disabled?void 0:this.isValid()?(this.triggers[0].show(),Ext.isFunction(this.searchFn)&&this.searchFn.call(this.scope,this,this.getValue()),!0):(SF.showErr(this.getInvalid()),!1)},reset:function(){this.el.dom.value="",this.triggers[0].hide()}});b.exports=c});
define("common/widget/form/SelectField/List.tpl",[],function(require,a,b){b.exports='<ol class="acdc-select-field-list">\n    <tpl for=".">\n        <li class="acdc-select-field-list-item {[values.selected ? \'selected\' : \'\']} {values.cls}" data-id="{values.id}">\n            {values.text}\n        </li>\n    </tpl>\n</ol>'});
define("common/widget/form/SelectField/List.js",["./List.tpl","./List.css"],function(require,a,b){var c="acdc-select-field-list-item",d=require("./List.tpl");require("./List.css");var e=Ext.extend(Ext.BoxComponent,{tpl:d,autoSelectFirst:!0,initComponent:function(){this.listData=this.data,this.callParent(arguments),void 0!==this.value&&null!==this.value?this.lastSelected=this.value:this.autoSelectFirst&&this.listData&&(this.lastSelected=this.listData[0].id)},afterRender:function(){this.callParent(arguments),this.bindSelectEvent(),void 0!==this.lastSelected&&null!==this.lastSelected&&this.select(this.lastSelected)},bindSelectEvent:function(){this.el.on("click",function(a){var b,d;this.disabled||(d=Ext.fly(a.target),d.hasClass(c)&&(b=d.getAttribute("data-id"),this.select(b)))},this)},select:function(a){var b;this.lastSelected=a,this.rendered&&!Ext.isEmpty(this.listData)&&(Ext.each(this.listData,function(a){a.selected=!1},this),b=this.getItemData(a),b||(b=this.listData[0]),b.selected=!0,this.lastSelected=b.id,this.reload(),this.fireEvent("select",this,this.lastSelected))},loadData:function(a){var b;this.listData=this.data=a,void 0!==this.lastSelected&&null!==this.lastSelected&&(b=this.getItemData(this.lastSelected),b||Ext.isEmpty(this.listData)||(b=this.listData[0]),b&&(b.selected=!0,this.lastSelected=b.id)),this.rendered&&this.tpl.overwrite(this.el,a)},load:function(a){this.loadData(a)},reload:function(){this.loadData(this.listData)},getItemData:function(a){var b;return Ext.each(this.listData,function(c){return c.id===a?(b=c,!1):void 0},this),b},setJsonValue:function(a){this.select(a)},getJsonValue:function(){return this.lastSelected}});b.exports=e});
define("common/widget/form/SelectField/index.js",["./List"],function(require,a,b){var c=require("./List"),d=Ext.extend(Ext.form.Field,{defaultAutoCreate:{tag:"div"},initComponent:function(){this.createList(),this.callParent(arguments),this.relayEvents(this.listField,"select")},createList:function(){this.listField=new c({data:this.data,value:this.value||this.defaultValue}),this.lastData=this.data},onRender:function(){this.callParent(arguments);var a=Ext.DomHelper.append(this.el,{tag:"div",cls:"acdc-select-field"});this.listField.render(Ext.fly(a))},loadData:function(a){this.lastData=a,this.listField.loadData(a)},disable:function(){this.callParent(arguments),this.listField.disable()},enable:function(){this.callParent(arguments),this.listField.enable()},getValue:function(){return this.listField.getJsonValue()},setValue:function(a){this.listField.setJsonValue(a)},getDisplayValue:function(){var a=this.getValue(),b="";return Ext.each(this.listField.listData,function(c){c.id===a&&(b=c.text)},this),b},onDestroy:function(){this.lastData=null,this.callParent(arguments)}});SF.applyInterface(d,SF.form.JsonField),b.exports=d});
define("common/widget/form/Spinner/index.js",["./index.css"],function(require,a,b){require("./index.css");var c=Ext.extend(Ext.util.Observable,{incrementValue:1,alternateIncrementValue:5,triggerClass:"x-form-spinner-trigger",splitterClass:"x-form-spinner-splitter",alternateKey:Ext.EventObject.shiftKey,defaultValue:0,accelerate:!1,constructor:function(a){c.superclass.constructor.call(this,a),Ext.apply(this,a),this.mimicing=!1},init:function(a){this.field=a,a.afterMethod("onRender",this.doRender,this),a.afterMethod("onEnable",this.doEnable,this),a.afterMethod("onDisable",this.doDisable,this),a.afterMethod("afterRender",this.doAfterRender,this),a.afterMethod("onResize",this.doResize,this),a.afterMethod("onFocus",this.doFocus,this),a.beforeMethod("onDestroy",this.doDestroy,this)},doRender:function(){var a=this.el=this.field.getEl(),b=this.field;b.wrap?this.wrap=b.wrap.addClass("x-form-field-wrap"):b.wrap=this.wrap=a.wrap({cls:"x-form-field-wrap"}),this.trigger=this.wrap.createChild({tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.triggerClass}),b.width||this.wrap.setWidth(a.getWidth()+this.trigger.getWidth()),this.splitter=this.wrap.createChild({tag:"div",cls:this.splitterClass,style:"width:13px; height:2px;"}),this.splitter.setRight(Ext.isIE?1:2).setTop(10).show(),this.proxy=this.trigger.createProxy("",this.splitter,!0),this.proxy.addClass("x-form-spinner-proxy"),this.proxy.setStyle("left","0px"),this.proxy.setSize(14,1),this.proxy.hide(),this.dd=new Ext.dd.DDProxy(this.splitter.dom.id,"SpinnerDrag",{dragElId:this.proxy.id}),this.initTrigger(),this.initSpinner()},doAfterRender:function(){var a;Ext.isIE&&this.el.getY()!==(a=this.trigger.getY())&&(this.el.position(),this.el.setY(a))},doEnable:function(){this.wrap&&this.wrap.removeClass(this.field.disabledClass)},doDisable:function(){this.wrap&&(this.wrap.addClass(this.field.disabledClass),this.el.removeClass(this.field.disabledClass))},doResize:function(a){"number"==typeof a&&this.el.setWidth(a-this.trigger.getWidth()),this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth())},doFocus:function(){this.mimicing||(this.wrap.addClass("x-trigger-wrap-focus"),this.mimicing=!0,Ext.get(Ext.isIE?document.body:document).on("mousedown",this.mimicBlur,this,{delay:10}),this.el.on("keydown",this.checkTab,this))},checkTab:function(a){a.getKey()===a.TAB&&this.triggerBlur()},mimicBlur:function(a){!this.wrap.contains(a.target)&&this.field.validateBlur(a)&&this.triggerBlur()},triggerBlur:function(){this.mimicing=!1,Ext.get(Ext.isIE?document.body:document).un("mousedown",this.mimicBlur,this),this.el.un("keydown",this.checkTab,this),this.field.beforeBlur(),this.wrap.removeClass("x-trigger-wrap-focus"),this.field.onBlur.call(this.field)},initTrigger:function(){this.trigger.addClassOnOver("x-form-trigger-over"),this.trigger.addClassOnClick("x-form-trigger-click")},initSpinner:function(){this.field.addEvents({spin:!0,spinup:!0,spindown:!0}),this.keyNav=new Ext.KeyNav(this.el,{up:function(a){a.preventDefault(),this.onSpinUp()},down:function(a){a.preventDefault(),this.onSpinDown()},pageUp:function(a){a.preventDefault(),this.onSpinUpAlternate()},pageDown:function(a){a.preventDefault(),this.onSpinDownAlternate()},scope:this}),this.repeater=new Ext.util.ClickRepeater(this.trigger,{accelerate:this.accelerate}),this.field.mon(this.repeater,"click",this.onTriggerClick,this,{preventDefault:!0}),this.field.mon(this.trigger,{mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousemove:this.onMouseMove,mousedown:this.onMouseDown,mouseup:this.onMouseUp,scope:this,preventDefault:!0}),this.field.mon(this.wrap,"mousewheel",this.handleMouseWheel,this),this.dd.setXConstraint(0,0,10),this.dd.setYConstraint(1500,1500,10),this.dd.endDrag=this.endDrag.createDelegate(this),this.dd.startDrag=this.startDrag.createDelegate(this),this.dd.onDrag=this.onDrag.createDelegate(this)},onMouseOver:function(){if(!this.disabled){var a=this.getMiddle();this.tmpHoverClass=Ext.EventObject.getPageY()<a?"x-form-spinner-overup":"x-form-spinner-overdown",this.trigger.addClass(this.tmpHoverClass)}},onMouseOut:function(){this.trigger.removeClass(this.tmpHoverClass)},onMouseMove:function(){this.disabled||this.getMiddle()},onMouseDown:function(){if(!this.disabled){var a=this.getMiddle();this.tmpClickClass=Ext.EventObject.getPageY()<a?"x-form-spinner-clickup":"x-form-spinner-clickdown",this.trigger.addClass(this.tmpClickClass)}},onMouseUp:function(){this.trigger.removeClass(this.tmpClickClass)},onTriggerClick:function(){if(!this.disabled&&!this.el.dom.readOnly){var a=this.getMiddle(),b=Ext.EventObject.getPageY()<a?"Up":"Down";this["onSpin"+b]()}},getMiddle:function(){var a=this.trigger.getTop(),b=this.trigger.getHeight();return a+b/2},isSpinnable:function(){return this.disabled||this.el.dom.readOnly?(Ext.EventObject.preventDefault(),!1):!0},handleMouseWheel:function(a){if(this.wrap.hasClass("x-trigger-wrap-focus")){var b=a.getWheelDelta();b>0?(this.onSpinUp(),a.stopEvent()):0>b&&(this.onSpinDown(),a.stopEvent())}},startDrag:function(){this.proxy.show(),this._previousY=Ext.fly(this.dd.getDragEl()).getTop()},endDrag:function(){this.proxy.hide()},onDrag:function(){if(!this.disabled){var a=Ext.fly(this.dd.getDragEl()).getTop(),b="";this._previousY>a&&(b="Up"),this._previousY<a&&(b="Down"),b&&this["onSpin"+b](),this._previousY=a}},onSpinUp:function(){if(this.isSpinnable()){if(Ext.EventObject.shiftKey)return void this.onSpinUpAlternate();this.spin(!1,!1),this.field.fireEvent("spin",this),this.field.fireEvent("spinup",this)}},onSpinDown:function(){if(this.isSpinnable()){if(Ext.EventObject.shiftKey)return void this.onSpinDownAlternate();this.spin(!0,!1),this.field.fireEvent("spin",this),this.field.fireEvent("spindown",this)}},onSpinUpAlternate:function(){this.isSpinnable()&&(this.spin(!1,!0),this.field.fireEvent("spin",this),this.field.fireEvent("spinup",this))},onSpinDownAlternate:function(){this.isSpinnable()&&(this.spin(!0,!0),this.field.fireEvent("spin",this),this.field.fireEvent("spindown",this))},spin:function(a,b){var c=parseFloat(this.field.getValue()),d=b?this.alternateIncrementValue:this.incrementValue;a?c-=d:c+=d,c=isNaN(c)?this.defaultValue:c,c=this.fixBoundries(c),this.field.setRawValue(c)},fixBoundries:function(a){var b=a;return void 0!==this.field.minValue&&b<this.field.minValue&&(b=this.field.minValue),void 0!==this.field.maxValue&&b>this.field.maxValue&&(b=this.field.maxValue),this.fixPrecision(b)},fixPrecision:function(a){var b=isNaN(a);return this.field.allowDecimals&&-1!==this.field.decimalPrecision&&!b&&a?parseFloat(parseFloat(a).toFixed(this.field.decimalPrecision)):b?"":a},doDestroy:function(){this.trigger&&this.trigger.remove(),this.wrap&&(this.wrap.remove(),delete this.field.wrap),this.splitter&&this.splitter.remove(),this.dd&&(this.dd.unreg(),this.dd=null),this.proxy&&this.proxy.remove(),this.repeater&&this.repeater.purgeListeners()}});b.exports=c});
define("common/widget/form/SpinnerField/index.js",["common/widget/form/Spinner/index"],function(require,a,b){var c=require("common/widget/form/Spinner/index"),d=Ext.extend(Ext.form.NumberField,{actionMode:"wrap",deferHeight:!0,autoSize:Ext.emptyFn,onBlur:Ext.emptyFn,adjustSize:Ext.BoxComponent.prototype.adjustSize,constructor:function(a){var b=Ext.copyTo({},a,"incrementValue,alternateIncrementValue,accelerate,defaultValue,triggerClass,splitterClass"),e=this.spinner=new c(b),f=a.plugins?Ext.isArray(a.plugins)?a.plugins.push(e):[a.plugins,e]:e;d.superclass.constructor.call(this,Ext.apply(a,{plugins:f}))},getResizeEl:function(){return this.wrap},getPositionEl:function(){return this.wrap},alignErrorIcon:function(){this.wrap&&this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])},validateBlur:function(){return!0}});Ext.reg("spinnerfield",d),b.exports=d});
define("common/widget/form/TextFieldButton/index.js",["common/widget/form/MultiSingleLineField/index","./index.css"],function(require,a,b){var c=require("common/widget/form/MultiSingleLineField/index");require("./index.css");var d=Ext.extend(c,{cls:"acdc-search-and-button-field",textFieldWidth:350,emptyText:_("\u6a21\u7cca\u67e5\u8be2"),btnText:_("\u5f00\u59cb\u641c\u7d22"),initComponent:function(){this.createItems(),d.superclass.initComponent.apply(this,arguments),this.textField.on("specialkey",function(a,b){b.getKey()===b.ENTER&&this.onTrigger2Click()},this)},createItems:function(){var a={width:this.textFieldWidth};this.validator&&(a.validator=this.validator,delete this.validator),this.items=[this.textField=new Ext.form.TextField(a),this.searchBtn=new Ext.Button({text:this.btnText,handler:this.onTrigger2Click,scope:this})]},onTrigger2Click:function(){return this.textField.isValid()?void(Ext.isFunction(this.searchFn)&&this.searchFn.call(this.scope,this,this.textField.getValue())):void SF.showErr(this.textField.getInvalid())},getJsonValue:function(){return this.textField.getJsonValue()},setJsonValue:function(a){this.textField.setJsonValue(a)}});b.exports=d});
define("common/widget/form/UnitButton/index.js",["./index.css"],function(require,a,b){require("./index.css");var c=Ext.extend(Ext.Button,{unitArray:["Kbps","Mbps"],unitRtn:!1,initComponent:function(){this.cls=(this.cls||"")+" acdc-unit-button",this.parseUnitArray(),this.unitArray.length>0&&(this.text=this.unitArray[0].text,this.dataId=this.unitArray[0].id),this.menu=new Ext.menu.Menu({items:this.createUnitItem(),listeners:{beforeshow:function(){this.updateItemCheckState()},scope:this}}),c.superclass.initComponent.call(this)},parseUnitArray:function(){Ext.each(this.unitArray,function(a,b){var c;"string"==typeof a&&(c={text:a},c.id=this.unitRtn?b:a,this.unitArray[b]=c)},this)},createUnitItem:function(){var a=[];return Ext.each(this.unitArray,function(b){a.push(new Ext.menu.CheckItem({checked:b.text===this.text,text:b.text,dataId:b.id,handler:this.onItemClick,scope:this}))},this),a},onItemClick:function(a){var b,c,d,e;b=this.getText(),c=a.text,d=this.dataId,e=a.dataId,this.setText(c),this.dataId=e,this.fireEvent("unitchanged",this,a.text,b,e,d)},updateItemCheckState:function(){this.menu.items.each(function(a){a.setChecked(a.dataId===this.dataId)},this)},setJsonValue:function(a){this.dataId=a;for(var b=0;b<this.unitArray.length;b++)if(a===this.unitArray[b].id){this.setText(this.unitArray[b].text);break}},getJsonValue:function(){return this.dataId}});SF.applyInterface(c,SF.form.JsonField),b.exports=c});
define("common/widget/form/UpDownNumberField/index.js",["./index.css"],function(require,a,b){require("./index.css");var c=Ext.extend(Ext.form.Field,{leftPad:0,defaultAutoCreate:{tag:"div"},constructor:function(a){var b;a=a||{},b=a.listeners,delete a.listeners,a.listeners=a.fieldListeners,this.createNumField(a),a.listeners=b,this.callParent(arguments)},createNumField:function(a){var b=this;this.numField=new Ext.form.TextField(Ext.apply({vtype:"number",minText:_("\u8be5\u8f93\u5165\u9879\u7684\u6700\u5c0f\u503c\u662f {0}"),maxText:_("\u8be5\u8f93\u5165\u9879\u7684\u6700\u5927\u503c\u662f {0}"),parseValue:function(a){return a=parseFloat(String(a).replace(this.decimalSeparator,".")),isNaN(a)?"":a},validateValue:function(a){if(!Ext.form.TextField.superclass.validateValue.call(this,a))return!1;if(a.length<1)return!0;if(a=String(a).replace(this.decimalSeparator,"."),isNaN(a))return this.markInvalid(String.format(this.nanText,a)),!1;var b=this.parseValue(a);return b<this.minValue?(this.markInvalid(String.format(this.minText,this.minValue)),!1):b>this.maxValue?(this.markInvalid(String.format(this.maxText,this.maxValue)),!1):!0},setValue:function(a){a=parseInt(a,10),isNaN(a)&&(a=0),a=String(a),b.leftPad&&(a=String.leftPad(a,b.leftPad,"0")),Ext.form.TextField.prototype.setValue.call(this,a)},getValue:function(){var a=Ext.form.TextField.prototype.getValue.apply(this,arguments);return parseInt(a,10)}},a||{})),this.numField.on("blur",function(){var a=this.numField.getJsonValue();this.numField.setValue(a)},this)},onRender:function(){this.callParent(arguments);var a=Ext.DomHelper.append(this.el,{tag:"div",cls:"dc-up-down-field-wrap",children:[{tag:"div",cls:"dc-up-field-btn dc-field-btn"+(this.disabled?"disabled":"")},{tag:"div",cls:"dc-up-down-field"},{tag:"div",cls:"dc-down-field-btn dc-field-btn"+(this.disabled?"disabled":"")}]});this.numField.render(Ext.fly(a).child(".dc-up-down-field"));var b=function(a){var b=a.el;b.hasClass("disabled")||(b.hasClass("dc-up-field-btn")?this.onUp():this.onDown())};new Ext.util.ClickRepeater(Ext.fly(a).child(".dc-up-field-btn").dom).on("click",b,this),new Ext.util.ClickRepeater(Ext.fly(a).child(".dc-down-field-btn").dom).on("click",b,this),Ext.fly(a).on("mousewheel",this.handleMouseWheel,this)},onUp:function(){this.doUpDown(1)},onDown:function(){this.doUpDown(-1)},doUpDown:function(a){var b,c;(!this.numField.getJsonValue()||this.numField.validate())&&(b=this.numField.getJsonValue()||this.minValue&&this.minValue-a||0,c=b+a,void 0!==this.minValue&&null!==this.minValue&&void 0!==this.maxValue&&null!==this.maxValue&&(c<this.minValue&&(c+=this.maxValue-this.minValue+1),c>this.maxValue&&(c-=this.maxValue-this.minValue+1)),void 0!==this.minValue&&null!==this.minValue&&c<this.minValue||void 0!==this.maxValue&&null!==this.maxValue&&c>this.maxValue||(this.numField.setJsonValue(c),this.fireEvent("spin",this,c,b)))},handleMouseWheel:function(a){var b=a.getWheelDelta();b>0?(this.onUp(),a.stopEvent()):0>b&&(this.onDown(),a.stopEvent())},setUpDownDisable:function(a){var b,c;this.rendered&&(b=this.el.child(".dc-up-field-btn"),c=this.el.child(".dc-down-field-btn"),b&&b[a?"addClass":"removeClass"]("disabled"),c&&c[a?"addClass":"removeClass"]("disabled"))},disable:function(){this.callParent(arguments),this.numField.disable(),this.setUpDownDisable(!0)},enable:function(){this.callParent(arguments),this.numField.enable(),this.setUpDownDisable(!1)},setReadOnly:function(a){this.callParent(arguments),this.numField.setReadOnly(a)},getRawValue:function(){return this.numField.getRawValue()},setRawValue:function(a){this.numField.setRawValue(a)},isValid:function(a){return this.numField.isValid(a)},validate:function(){return this.numField.validate()},getInvalid:function(){return this.numField.getInvalid()},markInvalid:function(a){return this.numField.markInvalid(a)},clearInvalid:function(){this.callParent(arguments),this.numField.clearInvalid()},getValue:function(){var a=this.getRawValue();return parseInt(a,10)||""},setValue:function(a){this.setRawValue(a)}});SF.applyInterface(c,SF.form.JsonField),Ext.reg("updownnumberfield",c),b.exports=c});
define("common/widget/form/UxSpinner/Spinner.js",[],function(require,a,b){Ext.namespace("Ext.ux.form"),Ext.ux.form.Spinner=function(a){Ext.ux.form.Spinner.superclass.constructor.call(this,a),this.addEvents({spinup:!0,spindown:!0})},Ext.extend(Ext.ux.form.Spinner,Ext.form.TriggerField,{triggerClass:"x-form-spinner-trigger",splitterClass:"x-form-spinner-splitter",alternateKey:Ext.EventObject.shiftKey,strategy:void 0,onRender:function(a,b){Ext.ux.form.Spinner.superclass.onRender.call(this,a,b),this.splitter=this.wrap.createChild({tag:"div",cls:this.splitterClass,style:"width:13px; height:2px;"}),this.splitter.show().setRight(Ext.isIE?1:2),this.splitter.show().setTop(10),this.proxy=this.trigger.createProxy("",!1,!0),this.proxy.addClass("x-form-spinner-proxy"),this.proxy.hide(),this.dd=new Ext.dd.DDProxy(this.splitter.dom.id,"SpinnerDrag",{dragElId:this.proxy.id}),this.initSpinner()},initTrigger:Ext.emptyFn,initSpinner:function(){this.keyNav=new Ext.KeyNav(this.el,{up:function(){this.onSpinUp()},down:function(){this.onSpinDown()},pageUp:function(){this.onSpinUpAlternate()},pageDown:function(){this.onSpinDownAlternate()},scope:this}),this.repeater=new Ext.util.ClickRepeater(this.trigger.dom),this.repeater.on("click",this.onTriggerClick,this,{preventDefault:!0}),this.trigger.on("mouseover",this.onMouseOver,this,{preventDefault:!0}),this.trigger.on("mouseout",this.onMouseOut,this,{preventDefault:!0}),this.trigger.on("mousemove",this.onMouseMove,this,{preventDefault:!0}),this.trigger.on("mousedown",this.onMouseDown,this,{preventDefault:!0}),this.trigger.on("mouseup",this.onMouseUp,this,{preventDefault:!0}),this.wrap.on("mousewheel",this.handleMouseWheel,this),this.dd.setXConstraint(0,0,10),this.dd.setYConstraint(1500,1500,10),this.dd.endDrag=this.endDrag.createDelegate(this),this.dd.startDrag=this.startDrag.createDelegate(this),this.dd.onDrag=this.onDrag.createDelegate(this),(void 0===this.strategy||null===this.strategy)&&(this.strategy=new Ext.ux.form.Spinner.NumberStrategy)},onMouseOver:function(){if(!this.disabled){var a=this.getMiddle();this.__tmphcls=Ext.EventObject.getPageY()<a?"x-form-spinner-overup":"x-form-spinner-overdown",this.trigger.addClass(this.__tmphcls)}},onMouseOut:function(){this.trigger.removeClass(this.__tmphcls)},onMouseMove:function(){},onMouseDown:function(){if(!this.disabled){var a=this.getMiddle();this.__tmpccls=Ext.EventObject.getPageY()<a?"x-form-spinner-clickup":"x-form-spinner-clickdown",this.trigger.addClass(this.__tmpccls)}},onMouseUp:function(){this.trigger.removeClass(this.__tmpccls)},onTriggerClick:function(){if(!this.disabled){var a=this.getMiddle(),b=Ext.EventObject.getPageY()<a?"Up":"Down";this["onSpin"+b]()}},getMiddle:function(){var a=this.trigger.getTop(),b=this.trigger.getHeight(),c=a+b/2;return c},handleMouseWheel:function(a){var b=a.getWheelDelta();b>0?(this.onSpinUp(),a.stopEvent()):0>b&&(this.onSpinDown(),a.stopEvent())},startDrag:function(){this.proxy.show(),this._previousY=Ext.fly(this.dd.getDragEl()).getTop()},endDrag:function(){this.proxy.hide()},onDrag:function(){if(!this.disabled){var a=Ext.fly(this.dd.getDragEl()).getTop(),b="";this._previousY>a&&(b="Up"),this._previousY<a&&(b="Down"),""!==b&&this["onSpin"+b](),this._previousY=a}},onSpinUp:function(){return Ext.EventObject.shiftKey?void this.onSpinUpAlternate():(this.strategy.onSpinUp(this),void this.fireEvent("spinup",this))},onSpinDown:function(){return Ext.EventObject.shiftKey?void this.onSpinDownAlternate():(this.strategy.onSpinDown(this),void this.fireEvent("spindown",this))},onSpinUpAlternate:function(){this.strategy.onSpinUpAlternate(this),this.fireEvent("spinup",this)},onSpinDownAlternate:function(){this.strategy.onSpinDownAlternate(this),this.fireEvent("spindown",this)},getJsonValue:function(){return this.strategy?this.strategy.getRawValue():this.value}}),b.exports=Ext.ux.form.Spinner});
define("common/widget/form/UxSpinner/Strategy.js",["common/widget/form/UxSpinner/Spinner"],function(require,a,b){Ext.ns("Ext.ux.form"),Ext.ns("Ext.ux.form.Strategy"),Ext.ux.form.Spinner=require("common/widget/form/UxSpinner/Spinner"),Ext.ux.form.Spinner.Strategy=function(a){Ext.apply(this,a)},Ext.extend(Ext.ux.form.Spinner.Strategy,Ext.util.Observable,{defaultValue:0,minValue:void 0,maxValue:void 0,incrementValue:1,alternateIncrementValue:5,onSpinUp:function(a){this.spin(a,!1,!1)},onSpinDown:function(a){this.spin(a,!0,!1)},onSpinUpAlternate:function(a){this.spin(a,!1,!0)},onSpinDownAlternate:function(a){this.spin(a,!0,!0)},spin:function(){},fixBoundries:function(a){return a}}),Ext.ux.form.Spinner.NumberStrategy=function(a){Ext.ux.form.Spinner.NumberStrategy.superclass.constructor.call(this,a)},Ext.extend(Ext.ux.form.Spinner.NumberStrategy,Ext.ux.form.Spinner.Strategy,{spin:function(a,b,c){Ext.ux.form.Spinner.NumberStrategy.superclass.spin.call(this,a,b,c);var d=parseFloat(a.getValue()),e=c?this.alternateIncrementValue:this.incrementValue;b?d-=e:d+=e,d=isNaN(d)?this.defaultValue:d,d=this.fixBoundries(d),a.setRawValue(d)},fixBoundries:function(a){var b=a;return void 0!==this.minValue&&b<this.minValue&&(b=this.minValue),void 0!==this.maxValue&&b>this.maxValue&&(b=this.maxValue),b}}),Ext.ux.form.Spinner.DateStrategy=function(a){Ext.ux.form.Spinner.DateStrategy.superclass.constructor.call(this,a)},Ext.extend(Ext.ux.form.Spinner.DateStrategy,Ext.ux.form.Spinner.Strategy,{defaultValue:new Date,format:"Y-m-d",incrementValue:1,incrementConstant:Date.DAY,alternateIncrementValue:1,alternateIncrementConstant:Date.MONTH,spin:function(a,b,c){Ext.ux.form.Spinner.DateStrategy.superclass.spin.call(this);var d=a.getValue();d=Date.parseDate(d,this.format);var e=b?-1:1,f=c?this.alternateIncrementValue:this.incrementValue,g=c?this.alternateIncrementConstant:this.incrementConstant;"string"==typeof this.defaultValue&&(this.defaultValue=Date.parseDate(this.defaultValue,this.format)),d=d?d.add(g,e*f):this.defaultValue,d=this.fixBoundries(d),a.setRawValue(d.format(this.format))},fixBoundries:function(a){var b=a,c="string"==typeof this.minValue?Date.parseDate(this.minValue,this.format):this.minValue,d="string"==typeof this.maxValue?Date.parseDate(this.maxValue,this.format):this.maxValue;return void 0!==this.minValue&&c>b&&(b=c),void 0!==this.maxValue&&b>d&&(b=d),b}}),Ext.ux.form.Spinner.TimeStrategy=function(a){Ext.ux.form.Spinner.TimeStrategy.superclass.constructor.call(this,a)},Ext.extend(Ext.ux.form.Spinner.TimeStrategy,Ext.ux.form.Spinner.DateStrategy,{format:"H:i",incrementValue:1,incrementConstant:Date.MINUTE,alternateIncrementValue:1,alternateIncrementConstant:Date.HOUR}),b.exports=Ext.ux.form.Spinner.TimeStrategy});
define("common/widget/form/WeekField/WeekPicker.js",[],function(require,a,b){var c=Ext.extend(Ext.DatePicker,{update:function(a,b){if(this.rendered){Ext.each(this.el.query(".x-date-inner tr"),function(a){Ext.fly(a).removeClass("x-week-selected")});var c=this.activeDate,d=this.isVisible();if(this.activeDate=a,!b&&c&&this.el){var e=a.getTime();if(c.getMonth()===a.getMonth()&&c.getFullYear()===a.getFullYear())return this.cells.removeClass("x-date-selected"),void this.cells.each(function(a){return a.dom.firstChild.dateValue===e?(a.addClass("x-date-selected"),a.parent().addClass("x-week-selected"),d&&!this.cancelFocus&&Ext.fly(a.dom.firstChild).focus(50),!1):void 0},this)}var f=a.getDaysInMonth(),g=a.getFirstDateOfMonth(),h=g.getDay()-this.startDay;0>h&&(h+=7),f+=h;var i=a.add("mo",-1),j=i.getDaysInMonth()-h,k=this.cells.elements,l=this.textNodes,m=new Date(i.getFullYear(),i.getMonth(),j).clearTime(),n=(new Date).clearTime().getTime(),o=(this.value||a).clearTime(!0).getTime(),p=this.minDate?this.minDate.clearTime(!0):Number.NEGATIVE_INFINITY,q=this.maxDate?this.maxDate.clearTime(!0):Number.POSITIVE_INFINITY,r=this.disabledDatesRE,s=this.disabledDatesText,t=this.disabledDays?this.disabledDays.join(""):!1,u=this.disabledDaysText,v=this.format;if(this.showToday){var w=(new Date).clearTime(),x=p>w||w>q||r&&v&&r.test(w.dateFormat(v))||t&&-1!==t.indexOf(w.getDay());this.disabled||(this.todayBtn.setDisabled(x),this.todayKeyListener[x?"disable":"enable"]())}for(var y=function(a,b){b.title="";var c=m.getTime();if(b.firstChild.dateValue=c,c===n&&(b.className+=" x-date-today",b.title=a.todayText),c===o&&(b.className+=" x-date-selected",Ext.fly(b).parent().addClass("x-week-selected"),d&&Ext.fly(b.firstChild).focus(50)),p>c)return b.className=" x-date-disabled",void(b.title=a.minText);if(c>q)return b.className=" x-date-disabled",void(b.title=a.maxText);if(t&&-1!==t.indexOf(m.getDay())&&(b.title=u,b.className=" x-date-disabled"),r&&v){var e=m.dateFormat(v);r.test(e)&&(b.title=s.replace("%0",e),b.className=" x-date-disabled")}},z=0;h>z;z++)l[z].innerHTML=++j,m.setDate(m.getDate()+1),k[z].className="x-date-prevday",y(this,k[z]);for(;f>z;z++){var A=z-h+1;l[z].innerHTML=A,m.setDate(m.getDate()+1),k[z].className="x-date-active",y(this,k[z])}for(var B=0;42>z;z++)l[z].innerHTML=++B,m.setDate(m.getDate()+1),k[z].className="x-date-nextday",y(this,k[z]);if(this.mbtn.setText(this.monthNames[a.getMonth()]+" "+a.getFullYear()),!this.internalRender){var C=this.el.dom.firstChild,D=C.offsetWidth;this.el.setWidth(D+this.el.getBorderWidth("lr")),Ext.fly(C).setWidth(D),this.internalRender=!0,Ext.isOpera&&!this.secondPass&&(C.rows[0].cells[1].style.width=D-(C.rows[0].cells[0].offsetWidth+C.rows[0].cells[2].offsetWidth)+"px",this.secondPass=!0,this.update.defer(10,this,[a]))}}}});b.exports=c});
define("common/widget/form/WeekField/Menu.js",["./WeekPicker"],function(require,a,b){var c=require("./WeekPicker"),d=Ext.extend(Ext.menu.DateMenu,{initComponent:function(){this.on("beforeshow",this.onBeforeShow,this),this.strict=Ext.isIE7&&Ext.isStrict,this.strict&&this.on("show",this.onShow,this,{single:!0,delay:20}),Ext.apply(this,{plain:!0,showSeparator:!1,items:this.picker=new c(Ext.applyIf({internalRender:this.strict||!Ext.isIE,ctCls:"x-menu-date-item",id:this.pickerId},this.initialConfig))}),this.picker.purgeListeners(),Ext.menu.DateMenu.superclass.initComponent.call(this),this.relayEvents(this.picker,["select"]),this.on("show",this.picker.focus,this.picker),this.on("select",this.menuHide,this),this.handler&&this.on("select",this.handler,this.scope||this)}});b.exports=d});
define("common/widget/form/WeekField/index.js",["./Menu","common/util/Format","./index.css"],function(require,a,b){var c=require("./Menu"),d=require("common/util/Format"),e=864e5;require("./index.css");var f=Ext.extend(Ext.form.DateField,{startDay:ACDC.data.startDay,editable:!1,initComponent:function(){this.callParent(arguments)},validateValue:function(a){return Ext.form.DateField.superclass.validateValue.call(this,a)?!0:!1},onTriggerClick:function(){this.disabled||(this.menu||(this.menu=new c({cls:"acdc-date-menu-week",hideOnClick:!1,focusOnSelect:!1})),this.onFocus(),Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,startDay:this.startDay,showToday:!1,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))}),this.menu.picker.setValue(this.getValue()||new Date),this.menu.show(this.el,"tl-bl?"),this.menuEvents("on"))},onSelect:function(a,b){this.setDisplayValue(this.getStartEnd(b)),this.fireEvent("select",this,b),this.menu.hide()},setDisplayValue:function(a){this.clearEmptyText(),Ext.form.TextField.prototype.setValue.call(this,[a.start,_("\u81f3"),a.end].join(" ")),this.applyEmptyText(),this.autoSize(),this.value=new Date(d.getTime(a.start))},setValue:function(a){var b=a;Ext.isString(a)&&(a=new Date(d.getTime(a))),a instanceof Date&&(b=this.getStartEnd(a)),this.setDisplayValue(b)},getValue:function(){return this.value},setJsonValue:function(a){a&&this.setValue(a)},getJsonValue:function(){return this.getStartEnd(this.getValue())},getStartEnd:function(a){var b,c,d=this.startDay||0,f={};return a=a||new Date,b=a.getDay(),d>b&&(b+=7),c=b-d,f.start=new Date(+a-c*e).format("Y-m-d"),f.end=new Date(+a+(7-c-1)*e).format("Y-m-d"),f}});b.exports=f});
define("common/widget/grid/column/RowIndex.js",[],function(require,a,b){var c=Ext.extend(Object,{header:_("\u5e8f\u53f7"),headerText:_("\u5e8f\u53f7"),width:70,sortable:!1,constructor:function(a){Ext.apply(this,a),this.rowspan&&(this.renderer=this.renderer.createDelegate(this))},dataIndex:"",rowspan:void 0,renderer:function(a,b,c,d,e,f){var g=f.paramNames,h=f.lastOptions&&f.lastOptions.params;return this.rowspan&&(b.cellAttr='rowspan="'+this.rowspan+'"'),h?(h[g.start]||0)+d+1:d+1}});Ext.reg("rowIndex-column",c),b.exports=c});
define("common/widget/grid/plugins/Column.js",[],function(require,a,b){var c=Ext.extend(Ext.util.Observable,{init:function(a){this.grid=a,this.initToolBar()},initToolBar:function(){var a=this.grid.getTopToolbar(),b=!1;a?(a.items.each(function(a){return a instanceof Ext.Toolbar.Fill?(b=!0,!1):void 0},this),b||a.add("->"),a.add({xtype:"button",iconCls:"sf-ico-trigger-columns",menu:this.initMenu(),text:_("\u663e\u793a/\u9690\u85cf")})):SF.error("you had to add a toolbar to the grid")},initMenu:function(){return this.btnMenu||(this.btnMenu=new Ext.menu.Menu({hideOnClick:!1,items:this.initMenuConfig()}),this.btnMenu.on("itemclick",function(a){var b=this.grid.getColumnModel(),c=a.checked,d=a.id.match(/^.+-column-(\d+)$/)[1];void 0!==d&&-1!==d&&b.setHidden(d,c)},this),this.btnMenu.on("beforeshow",function(){this.btnMenu.removeAll(),Ext.each(this.initMenuConfig(),function(a){this.btnMenu.add(new Ext.menu.CheckItem(a))},this)},this)),this.btnMenu},initMenuConfig:function(){var a=this.grid.getColumnModel().config,b=[];return Ext.each(a,function(a){b.push({text:a.headerText||a.header,checked:!a.hidden,hideOnClick:!1,id:Ext.id()+"-column-"+a.id})},this),b},destroy:function(){}});Ext.preg("hide-show-column-plugin",c),b.exports=c});
define("common/widget/grid/plugins/ColumnExpander.js",[],function(require,a,b){var c=Ext.extend(Object,{expandText:_("\u8c03\u6574\u8be5\u5217\u4e3a\u5408\u9002\u5927\u5c0f"),expandAllText:_("\u8c03\u6574\u6240\u6709\u5217\u4e3a\u5408\u9002\u5927\u5c0f"),maxExpandWidth:1500,minExpandWidth:50,constructor:function(a){Ext.apply(this,a),c.superclass.constructor.apply(this,arguments)},init:function(a){this.view=a.getView(),this.view.onHeaderClick=this.view.onHeaderClick.createInterceptor(this.interceptHeaderClick,this),this.grid=a,this.cm=this.grid.getColumnModel(),this.delaySortTask=new Ext.util.DelayedTask,a.on("headerdblclick",this.onHeaderDblClick,this),a.on("viewready",this.onGridViewReady,this),a.on("destroy",this.destroy,this,{single:!0})},interceptHeaderClick:function(a,b,c,d){return!1!==d?(this.delaySortTask.delay(300,this.view.onHeaderClick,this.view,[a,b,c,!1]),!1):void 0},expandColumn:function(a){if(!this.isColumnExpandable(a))return!1;var b=this.getColMaxWidth(a);this.setColumnWidth(a,b)},expandAllColumns:function(){for(var a=this.cm,b=a.getColumnCount(),c=0,d=[];b>c;c++)this.isColumnExpandable(c)&&d.push(this.getColMaxWidth(c),c);for(this.view.mainBody.update("");d.length>0;)this.setColumnWidth(d.pop(),d.pop());this.view.userResized=!0,this.view.refresh(!0)},isColumnExpandable:function(a){return!this.cm.isFixed(a)&&!this.cm.isHidden(a)},resetMetrics:function(a,b){if(this.grid.hideHeaders)this.metrics.bind(this.grid.view.mainBody);else{var c=this.grid.getStore();this.metrics.bind(b||c.getCount()<=0?this.grid.view.getHeaderCell(a):this.grid.view.getCell(0,a))}},getColMaxWidth:function(a){var b=45,c=0,d=null,e=this.cm.getColumnId(a);if(this.grid.hideHeaders?b=0:(this.resetMetrics(a,!0),b+=this.getTextWidth(this.cm.getColumnHeader(a))),this.resetMetrics(a),d=this.grid.body.query("div[class$=x-grid3-col-"+e+"]"),!d.length)return b;for(var f=d.length,g=[];f--;)g.push('<div class="x-grid3-cell-inner">',d[f].innerHTML,"</div>");return c=this.getTextWidth(g.join(""))+10,c=Math.max(c,b,this.minExpandWidth),Math.min(this.maxExpandWidth,c)},getTextWidth:function(a){return a=(a||"").trim(),this.metrics.getWidth(a)},setColumnWidth:function(a,b,c){b>0&&b!==this.cm.getColumnWidth(a)&&this.cm.setColumnWidth(a,b,c)},getPreviousVisible:function(a){for(var b=this.cm;a>0&&(a-=1,b.isHidden(a)););return a},onGridViewReady:function(){this.metrics=Ext.util.TextMetrics.createInstance(this.grid.body),this.grid.enableHdMenu!==!1&&(this.addExpandItem(),this.view.hmenu.on("beforeshow",this.onHdMenuBeforeShow,this))},onHdMenuBeforeShow:function(){var a=this.view,b=this.cm.isFixed(a.hdCtxIndex),c=a.hmenu;c.get("expandcol").setDisabled(b);var d=c.get("expandcol").previousSibling();this.__hasVisibleItemBefore(d)?d.show():d.hide()},__hasVisibleItemBefore:function(a){for(;a=a.previousSibling();)if(!a.hidden)return!0;return!1},addExpandItem:function(){var a=this.grid,b=this.view,c=b.hmenu,d=["-",{itemId:"expandcol",text:this.expandText,handler:this.handleExpand,scope:this}];if(b.forceFit||d.push({itemId:"expandallcol",text:this.expandAllText,handler:this.handleExpandAll,scope:this}),a.enableColumnHide!==!1){var e=c.items.getCount()-2;Ext.each(d,function(a){c.insert(e++,a)})}else c.add(d)},handleExpand:function(){this.expandColumn(this.view.hdCtxIndex)},handleExpandAll:function(){this.expandAllColumns()},adjustIndex:function(a,b){var c=b.getTarget();if("TD"===c.tagName&&!/resize/.test(c.style.cursor))return!1;if("DIV"===c.tagName&&(c=c.parentNode,!/resize/.test(c.style.cursor)))return!1;var d=b.getPageX(),e=this.grid.view.activeHdRegion.left,f=this.grid.view.splitHandleWidth;return d-e>=f?a+1:a},onHeaderDblClick:function(a,b,c){!1!==(b=this.adjustIndex(b,c))&&(this.delaySortTask.cancel(),b=this.getPreviousVisible(b),this.expandColumn(b))},destroy:function(){this.grid&&(delete this.view,delete this.cm,this.delaySortTask.cancel(),delete this.delaySortTask,Ext.destroy(this.metrics),delete this.metrics,this.grid.un("headerdblclick",this.onHeaderDblClick,this),delete this.grid)}});Ext.preg("grid.columnexpander",c),b.exports=c});
define("common/widget/grid/view/MixedWidthView.js",[],function(require,a,b){!function(){var a=Ext.grid.ColumnModel.prototype;a.getColumnMinWidth||(a.getColumnMinWidth=function(a){return this.config[a].minWidth})}();var c=Ext,d=c.extend(c.grid.GridView,{minColumnWidth:70,layout:function(a){if(this.mainBody){var b,c,d,e=this.grid,f=e.getGridEl(),g=f.getSize(!0),h=g.width,i=g.height,j=this.scroller;20>h||20>i||(e.autoHeight?(b=j.dom.style,b.overflow="visible",Ext.isWebKit&&(b.position="static")):(this.el.setSize(h,i),c=this.mainHd.getHeight(),d=i-c,j.setSize(h,d),this.innerHd&&(this.innerHd.style.width=h+"px")),a===!0?this.lastViewWidth!==h&&(this.fitColumns(!1,!1),this.lastViewWidth=h):(this.autoExpand(),this.syncHeaderScroll()),this.onLayout(h,d))}},render:function(){var a=this.grid.ownerCt;a&&a.getLayout()&&a.on("afterlayout",function(){this.fitColumns(!0,!0),this.updateHeaders(),this.updateHeaderSortState()},this,{single:!0}),this.renderUI()},getGridInnerWidth:function(){return this.grid.getGridEl().getWidth(!0)-(this.grid.autoHeight?0:this.getScrollOffset())},getScrollOffset:function(){return Ext.num(this.scrollOffset,Ext.getScrollBarWidth())},fitColumns:function(a){var b,c,d,e=this.cm,f=e.getTotalWidth(!1),g=this.getGridInnerWidth(),h=g-f,i=[],j=0,k=this.minColumnWidth,l=g;if(20>g||0===h)return!1;var m=e.getColumnCount(!1),n=!1;for(d=0;m>d;d++)b=e.getColumnWidth(d),n=e.isHidden(d),1>=b?(i.push(d,b),n||(j+=b)):n||(l-=b,e.setColumnWidth(d,b,!0));for(c=l/j;i.length;)b=i.pop(),d=i.pop(),b=Math.max(e.getColumnMinWidth(d)||k,Math.floor(c*b)),e.setColumnWidth(d,b,!0);return a!==!0&&this.updateAllColumnWidths(),!0},reFixColumn:function(){var a,b,c,d=this.cm,e=d.getTotalWidth(!1),f=this.getGridInnerWidth(),g=[],h=f,i=d.getColumnCount(!1);for(c=0;i>c;c++)d.isHidden(c)||(a=d.getColumnWidth(c),g.push(c,a));for(b=h/e;g.length;)a=g.pop(),c=g.pop(),a=Math.floor(b*a),d.setColumnWidth(c,a,!0);return this.updateAllColumnWidths(),!0}});b.exports=d});
define("common/widget/layout/AnchorLayout+.js",[],function(require,a,b){var c="anchor+",d=Ext.extend(Ext.layout.AnchorLayout,{onLayout:function(a,b){Ext.layout.AnchorLayout.superclass.onLayout.call(this,a,b);var c={width:(a.body||b).dom.clientWidth-(a.body||b).getPadding("lr"),height:(a.body||b).dom.clientHeight-(a.body||b).getPadding("bt")},d=c.width,e=c.height;if(!(20>d&&20>e)){var f,g;a.anchorSize?"number"==typeof a.anchorSize?f=a.anchorSize:(f=a.anchorSize.width,g=a.anchorSize.height):(f=a.initialConfig.width,g=a.initialConfig.height);var h,i,j,k,l,m,n,o=a.items.items,p=o.length;for(h=0;p>h;h++)i=o[h],m=i.getPositionEl(),i.anchor&&(j=i.anchorSpec,j||(n=i.anchor.split(" "),i.anchorSpec=j={right:this.parseAnchor(n[0],i.initialConfig.width,f),bottom:this.parseAnchor(n[1],i.initialConfig.height,g)}),k=j.right?this.adjustWidthAnchor(j.right(d)-m.getMargins("lr"),i):void 0,l=j.bottom?this.adjustHeightAnchor(j.bottom(e)-m.getMargins("tb"),i):void 0,(k||l)&&i.setSize(k||void 0,l||void 0))}}});Ext.Container.LAYOUTS[c]=d,b.exports=d});
define("common/widget/layout/ColumnLayout+.js",[],function(require,a,b){var c="column+",d=Ext.extend(Ext.layout.ColumnLayout,{onLayout:function(a,b){var c,d,e=a.items.items,f=e.length;this.innerCt||(this.innerCt=b.createChild({cls:"x-column-inner"}),this.innerCt.createChild({cls:"x-clear"})),this.renderAll(a,this.innerCt);var g={width:(a.body||b).dom.clientWidth,height:(a.body||b).dom.clientHeight};if(!(g.width<1&&g.height<1)){var h=g.width-this.scrollOffset,i=h;for(this.innerCt.setWidth(h),d=0;f>d;d++)c=e[d],c.columnWidth||(i-=c.getSize().width+c.getPositionEl().getMargins("lr"));for(i=0>i?0:i,d=0;f>d;d++)c=e[d],c.columnWidth&&c.setSize(Math.floor(c.columnWidth*i)-c.getPositionEl().getMargins("lr"))}}});Ext.Container.LAYOUTS[c]=d,b.exports=d});
define("common/widget/layout/FloatBorderLayout.js",[],function(){var a="floatborder",b=Ext.extend(Ext.layout.BorderLayout,{getLayoutTargetSize:function(){var a=this.container.getLayoutTarget();return a?a.getViewSize():{}},onLayout:function(a,b){var c,d,e,f,g,h,i,j;if(!this.rendered){var k=a.items.items;for(c=[],i=0,j=k.length;j>i;i++){f=k[i];var l=f.region;f.collapsed&&c.push(f),f.collapsed=!1,f.rendered||(f.render(b,i),f.getPositionEl().addClass("x-border-panel")),this[l]="center"!==l&&f.split?new Ext.layout.BorderLayout.SplitRegion(this,f.initialConfig,l):new Ext.layout.BorderLayout.Region(this,f.initialConfig,l),this[l].render(b,f)}this.rendered=!0}var m=b.getViewSize(!1);if(m.width<20||m.height<20)return void(c&&(this.restoreCollapsed=c));this.restoreCollapsed&&(c=this.restoreCollapsed,delete this.restoreCollapsed);var n=m.width,o=m.height,p=n,q=o,r=0,s=0,t=this.north,u=this.south,v=this.west,w=this.east;if(f=this.center,!f&&Ext.layout.BorderLayout.WARN!==!1)throw"No center region defined in BorderLayout "+a.id;if(t&&t.isVisible()&&(g=t.getSize(),h=t.getMargins(),g.width=n-(h.left+h.right),g.x=h.left,g.y=h.top,r=g.y+h.bottom,g.height=this.container.body.getHeight(),q-=r,t.applyLayout(g)),u&&u.isVisible()&&(g=u.getSize(),h=u.getMargins(),g.width=n-(h.left+h.right),g.x=h.left,e=g.height+h.top+h.bottom,g.y=o-e+h.top,q-=e,u.applyLayout(g)),v&&v.isVisible()&&(g=v.getSize(),h=v.getMargins(),g.height=q-(h.top+h.bottom),g.x=h.left,g.y=r+h.top,d=g.width+h.left+h.right,s+=d,p-=d,v.applyLayout(g)),w&&w.isVisible()&&(g=w.getSize(),h=w.getMargins(),g.height=q-(h.top+h.bottom),d=g.width+h.left+h.right,g.x=n-d+h.left,g.y=r+h.top,p-=d,w.applyLayout(g)),f){h=f.getMargins();var x={x:s+h.left,y:r+h.top,width:p-(h.left+h.right),height:q-(h.top+h.bottom)};f.applyLayout(x)}if(c)for(i=0,j=c.length;j>i;i++)c[i].collapse(!1);Ext.isIE&&Ext.isStrict&&b.repaint()}});Ext.Container.LAYOUTS[a]=b});
define("common/widget/list/Accordion/index.tpl",[],function(require,a,b){b.exports='<ul class="acdc-accordion">\n    <tpl for=".">\n        <tpl if="!values.hidden">\n            <tpl if="values.leaf">\n                <li data-id="{values.id:htmlEncode}" class="acdc-accordion-sub-item x-unselectable">\n                    <div class="acdc-accordion-sub-item-title {values.iconCls}" qtip="{values.name:htmlEncode}">{values.name}</div>\n                </li>\n            </tpl>\n            <tpl if="!values.leaf">\n                <li data-id="{values.id:htmlEncode}" class="acdc-accordion-item {[values.expanded ? \'expanded\' : \'\']}">\n                    <div class="acdc-accordion-item-title">\n                        <button class="acdc-accordion-item-toggle-btn"></button>\n                        <div class="acdc-accordion-item-text {values.iconCls}">{values.name}</div>\n                    </div>\n                    <tpl if="values.expanded">\n                        <ul>\n                            <tpl if="Ext.isEmpty(values.children)">\n                                <div class="acdc-accordion-item-empty">'+_("\u7a7a")+'</div>\n                            </tpl>\n                            <tpl if="!Ext.isEmpty(values.children)">\n                                <tpl for="children">\n                                    <tpl if="!values.hidden">\n                                        <li data-id="{values.id:htmlEncode}" class="acdc-accordion-sub-item x-unselectable">\n                                            <div class="acdc-accordion-sub-item-title {values.iconCls}"  qtip="{values.name:htmlEncode}">{values.name}</div>\n                                        </li>\n                                    </tpl>\n                                </tpl>\n                            </tpl>\n                        </ul>\n                    </tpl>\n                </li>\n            </tpl>\n        </tpl>\n    </tpl>\n</ul>'});
define("common/widget/list/Accordion/plugins/Drag.js",[],function(require,a,b){var c=".acdc-accordion-sub-item",d=Ext.extend(Ext.util.Observable,{init:function(a){this.comp=a,this.initDragZone()},initDragZone:function(){this.comp.on("afterrender",function(){var a=this;this.dragZone=new Ext.dd.DragZone(this.comp.getEl(),{proxy:new Ext.dd.StatusProxy({dropNotAllowed:"x-dd-drop-nodrop acdc-accordion-drop-nodrop"}),getDragData:function(b){var d,e=b.getTarget(c,10);return e?(d=e.cloneNode(!0),d.id=Ext.id(),a.dragData={sourceEl:e,repairXY:Ext.fly(e).getXY(),ddel:d,data:a.getDragData(Ext.fly(e).getAttribute("data-id"))},a.dragData):void 0},getRepairXY:function(){return this.dragData.repairXY}})},this)},getDragData:function(a){var b;return this.comp.cascadeItem(this.comp.values,function(c){return c.id===a?(b=c,!1):void 0},this),Ext.isFunction(this.comp.getDragData)&&(b=this.comp.getDragData.call(this.comp,b)),b}});b.exports=d});
define("common/widget/list/Accordion/index.js",["./index.tpl","ajax","./plugins/Drag","./index.css","./index.en.css"],function(require,a,b){var c=require("./index.tpl"),d=require("ajax"),e=require("./plugins/Drag");require("./index.css"),require("./index.en.css");var f=Ext.extend(Ext.BoxComponent,{dragable:!0,expandTrigger:"title",initComponent:function(){this.values&&(this.data=this.values),this.values=this.data,this.createDrag(),this.createTpl(),this.callParent(arguments),this.load(),this.bindEvent()},createTpl:function(){this.tpl=new Ext.XTemplate(c,{})},createDrag:function(){this.dragable&&(this.plugins=this.plugins||[],this.plugins.push(this.dragPlugin=new e(this)))},bindEvent:function(){this.on("afterrender",function(){this.el.on("click",function(a,b){var c,d=Ext.fly(b).parent(".acdc-accordion-item");if(d&&(c=d.getAttribute("data-id"))){if(d=this.getItemData(c),!d)return;d.expanded?this.collapse(d):this.expand(d)}},this,{delegate:"btn"===this.expandTrigger?".acdc-accordion-item-toggle-btn":".acdc-accordion-item-title"}),this.el.addClass("btn"===this.expandTrigger?"acdc-accordion-trigger-btn":"acdc-accordion-trigger-title")},this)},expand:function(a){a&&Ext.isString(a)&&(a=this.getItemData(a)),a&&!a.expanded&&(a.expanded=!0,this.reload(!1),this.fireEvent("expand",a))},collapse:function(a){a&&Ext.isString(a)&&(a=this.getItemData(a)),a&&a.expanded&&(a.expanded=!1,this.reload(!1),this.fireEvent("collapse",a))},getItemData:function(a){var b;return this.cascadeItem(this.values,function(c){return c.id===a?(b=c,!1):void 0},this),b},cascadeItem:function(a,b,c){var d=!0;return Ext.isFunction(b)?(Ext.each(a,function(e,f){var g=b.call(c||this,e,f,a);return Ext.isEmpty(e.children)||g===!1||(g=this.cascadeItem(e.children,b,c)),g===!1&&(d=!1),g},this),d):d},load:function(){this.url&&(this.ajaxId=d({url:this.url,params:this.params||this.jsonData}),this.ajaxId.success(function(a){var b=this.formatData(a.data);this.loadData(b)},this).failure(function(a){SF.showErr(a&&a.msg||_("\u6570\u636e\u52a0\u8f7d\u5931\u8d25"))},this).callback(function(){this.ajaxId=null},this))},formatData:function(a){return a},reload:function(a){return a!==!1?void this.load():void this.setJsonValue(this.values)},loadData:function(a){this.setJsonValue(a)},setJsonValue:function(a){this.values=a,this.data=a,this.rendered&&this.update(a)},destroy:function(){this.ajaxId&&(this.ajaxId.abort(),delete this.ajaxId),this.callParent(arguments)}});b.exports=f});
define("common/widget/list/MenuView/index.tpl",[],function(require,a,b){b.exports='<ul class="sf-tpl-menuview-ct">\n    <tpl for=".">\n        <li {[values.hidden ? \'style="display:none;"\' : \'\']} sf:index="{[xindex-1]}" class="sf-tpl-menuview-item {[values.selected ? \'selected\' : \'\']} {[values.disabled ? \'disabled\' : \'\']} ">\n            <tpl if="values.iconCls">\n                <div class="sf-tpl-menuview-item-ico {iconCls}"></div>\n            </tpl>\n            <span class="sf-tpl-menuview-item-text">\n                <span class="sf-tpl-menuview-item-text-inner" ext:qtip="{title:htmlEncode}" ext:qclass="no-wrap">{str}</span>\n            </span>\n        </li>\n    </tpl>\n</ul>'});
define("common/widget/list/MenuView/index.js",["./index.css","./index.tpl"],function(require,a,b){require("./index.css");var c=require("./index.tpl"),d=Ext.extend(Ext.BoxComponent,{overClass:"sf-tpl-menuview-item-over",itemSelector:".sf-tpl-menuview-item",trackOver:!0,displayField:"text",idField:"id",defaultIconCls:"sf-tpl-menuview-ico-default",animate:!1,animateClass:"sf-tpl-menuview-animate",initComponent:function(){this.cls=this.cls||"",this.animate&&(this.cls=this.cls+" "+this.animateClass),this.tpl||(this.tpl=new Ext.XTemplate(c)),this.callParent(arguments),this.setMenuItems(this.menu||[])},afterRender:function(){this.callParent(arguments);var a,b=this,c=b.el;a={click:b.onClick,scope:b,delegate:b.itemSelector},b.trackOver&&(a.mouseover=b.onMouseOver,a.mouseout=b.onMouseOut),b.mon(c,a)},onClick:function(a,b){var c=Ext.get(b),d=parseInt(c.getAttribute("sf:index"),10),e=this.menu[d];e.disabled||(this.select(d),a.preventDefault())},onMouseOver:function(a,b){var c=Ext.get(b),d=parseInt(c.getAttribute("sf:index"),10),e=this.menu[d];e.disabled||c!==this.lastActiveEl&&(this.lastActiveEl=c,c.addClass(this.overClass))},onMouseOut:function(a,b){var c=Ext.get(b);c===this.lastActiveEl&&(c.removeClass(this.overClass),this.lastActiveEl=null)},setMenuItems:function(a){a=a||[],this.menu=a;var b=this._collectData(a),c={},d=this.idField;Ext.each(a,function(a,b){var e=a[d];c[e]=b}),this.menuIdMap=c,this.selectedIndex=null,this.rendered?this.update(b):this.data=b},_collectData:function(a){var b=this,c=[],d=this.idField,e=this.displayField;return Ext.each(a,function(a){c.push({id:a[d],str:a[e],title:a.title||a[e],selected:a.selected,disabled:a.disabled,iconCls:a.iconCls||b.defaultIconCls,hidden:a.hidden})}),c},_refreshMenuItem:function(a){var b=this.menu[a],c=this._collectData([b]);this.data&&(this.data[a]=c[0]);var d,e,f;this.rendered&&(d=document.createElement("div"),this.tpl.overwrite(d,c),e=Ext.query(this.itemSelector,d)[0],e.setAttribute("sf:index",a),f=Ext.query(this.itemSelector,this.el.dom)[a],f.parentNode.insertBefore(e,f),Ext.removeNode(f),Ext.removeNode(d))},_getItemIndex:function(a){var b,c=this.menuIdMap;return Ext.isNumber(a)?0>a||a>=this.menu.length?null:a:(Ext.isObject(a)?b=a[this.idField]:Ext.isString(a)&&(b=a),c.hasOwnProperty(b)?c[b]:null)},select:function(a,b){var c,d,e=this.menu;c=this._getItemIndex(a),null!==c&&(d=this.selectedIndex,c!==d&&(e[c].selected=!0,this._refreshMenuItem(c),e[d]&&(e[d].selected=!1,this._refreshMenuItem(d)),this.selectedIndex=c,b!==!0&&this.fireEvent("menuselected",this,c,e[c][this.idField])))},disableMenuItem:function(a){var b,c=this._getItemIndex(a);null!==c&&(b=this.menu[c],b.disabled=!0,b.selected=!1,this._refreshMenuItem(c))},enableMenuItem:function(a){var b,c=this._getItemIndex(a);null!==c&&(b=this.menu[c],b.disabled=!1,this._refreshMenuItem(c))},setJsonValue:function(){return this.setMenuItems.apply(this,arguments)}});b.exports=d});
define("common/widget/list/Tree/index.js",["common/widget/tree/XTree/XTreePanel","common/widget/tree/XTree/XTreeView","./index.css"],function(require,a,b){var c=require("common/widget/tree/XTree/XTreePanel"),d=require("common/widget/tree/XTree/XTreeView");require("./index.css");var e=Ext.extend(d,{getListHtml:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=this.controller,p=o.lastSelectId,q=0;for(b=[],g=this.getTreeData(),d=this.getTreeDatasLength(g),c=g.length,e=this.getVisibledRowCount()+a,e>c&&(e=c),m={"":"","|":"SF-Xtree-elbow-line","|-":"SF-Xtree-elbow","+|-":"SF-Xtree-plus SF-Xtree-elbow-plus","-|-":"SF-Xtree-minus SF-Xtree-elbow-minus","+L":"SF-Xtree-plus SF-Xtree-elbow-end-plus","-L":"SF-Xtree-minus SF-Xtree-elbow-end-minus",L:"SF-Xtree-elbow-end"},h=a;c>h&&!(q>=e-a);h++)if(n=g[h],f=n.data,j=n.lines,f.visible!==!1){for(q++,j||(j=o.getNodeLines(n)),k=j.length,l=['<dd unselectable="on" class="SF-XTree-row ',f.rowCls?f.rowCls:" ",f.disabled?" "+this.disabledCls:" ",'" idx=',h,">"],n.id===p&&(l=['<dd unselectable="on" class="SF-XTree-row ',this.selectedCls," ",f.rowCls?f.rowCls:" ",f.disabled?" "+this.disabledCls:" ",'" idx=',h,">"]),l.push('<div class="sf-ico sf-ico-delete"></div>'),l.push('<div class="sf-tree-context">'),i=0;k>i;i++)l.push('<span class="line '+m[j[i]]+'"></span>');f.checkState&&l.push('<span ext:qtip="'+Ext.util.Format.htmlEncode(Ext.util.Format.htmlEncode(f.checkStateTip||""))+'" class="ico SF-XTree-check SF-XTree-'+f.checkState+'"></span>'),f.iconCls?l.push('<span ext:qtip="'+Ext.util.Format.htmlEncode(Ext.util.Format.htmlEncode(f.iconTip||""))+'" class="ico '+f.iconCls+'"></span>'):f.iconBase64&&l.push('<img src="data:image/png;base64, '+f.iconBase64+'"></img>'),l.push('<span ext:qtip="'+Ext.util.Format.htmlEncode(Ext.util.Format.htmlEncode(f.textTip||""))+'" class="label">'+this.highLight(f.isExcluded?_("\u5df2\u6392\u9664\uff1a")+f.text:f.text)+"</span></div></dd>"),b.push(l.join(""))}return this.checkUseFillRow(e,this.getTreeDatasLength(g))&&b.push('<div style="width:'+this.fillWidth+'px;"></div>'),b.join("")},delegateClick:function(a,b){var c=this.getTreeData(),d=parseInt(b.getAttribute("idx")),f=c[d],g=a.getTarget("div.sf-ico-delete",1);return g?void this.fireEvent("removenode",f):void e.superclass.delegateClick.apply(this,arguments)}}),f=Ext.extend(c,{showTopBar:!0,titleText:_("\u5df2\u9009\u5217\u8868\uff1a"),cls:"sfis-tree-list-view",initTbar:function(){this.showTopBar&&(this.tbar=new Ext.Toolbar({items:[this.titleText,"->",new Ext.BoxComponent({cls:"clear-all",html:'<span class="sim-link" actionName="clearSelcted">'+_("\u6e05\u7a7a")+"</span>",listeners:{scope:this,afterrender:function(){this.mon(this.el,"click",function(a){Ext.fly(a.getTarget()).getAttribute("actionName")&&(this.getController().loadData([]),this.fireEvent("clearnode"))},this)}}})]}))},initTree:function(){this.treeView=new e({lineHeight:22,listeners:{scope:this,removenode:this.removeNode}}),f.superclass.initTree.apply(this,arguments)},removeNode:function(a){this.treeController.removeNode(a),this.fireEvent("removenode",a)},getJsonValue:function(){return this.values},setJsonValue:function(a){this.values=a,this.treeView.rendered?(this.treeController.loadData(a,!0),this.fireEvent("selectchange")):this.on("afterrender",function(){this.setJsonValue(a)},this,{single:!0})}});b.exports=f});
define("common/widget/selector/SingleSelectTree/Detail.js",[],function(require,a,b){var c=Ext.extend(Ext.BoxComponent,{cls:"acdc-application-detail",initComponent:function(){this.createTpl(),c.superclass.initComponent.apply(this,arguments)},createTpl:function(){this.tpl||(this.tpl=new Ext.XTemplate(["<ul>",'<tpl for=".">','<li class="item {values.cls}">',"<label>{values.label:htmlEncode}</label>",_("\uff1a"),"<span>{values.text}</span>","</tpl>","</li>","</ul>"]))}});b.exports=c});
define("common/widget/selector/SingleSelectTree/List.js",["common/widget/list/Tree/index"],function(require,a,b){var c=require("common/widget/list/Tree/index"),d=Ext.extend(c,{});b.exports=d});
define("common/widget/selector/SingleSelectTree/Tree.js",["common/widget/form/SearchField/index","common/widget/tree/XTree/XTreePanel","common/widget/tree/XTree/XTreeController","ajax"],function(require,a,b){var c=require("common/widget/form/SearchField/index"),d=require("common/widget/tree/XTree/XTreePanel"),e=require("common/widget/tree/XTree/XTreeController"),f=require("ajax"),g=Ext.extend(d,{autoSelectParent:!0,border:!0,checkAble:!0,showFilter:!0,showSearch:!0,initTbar:function(){var a=[];this.search&&(this.treeTitle&&a.push(this.treeTitle),this.showFilter&&(a.push(_("\u7b5b\u9009\uff1a")),a.push(this.filterField=new Ext.form.ComboBox({width:90,mode:"local",valueField:"id",displayField:"text",editable:!1,typeAhead:!0,triggerAction:"all",forceSelection:!0,value:"",autoSelectFirst:!0,store:new Ext.data.JsonStore({fields:["id","text"],data:[{id:"",text:_("\u663e\u793a\u5168\u90e8")},{id:"checkAll",text:_("\u663e\u793a\u5df2\u9009")},{id:"checkNone",text:_("\u663e\u793a\u672a\u9009")}]}),listeners:{select:this.filterNode,scope:this}}))),this.showSearch&&(a.push("->",_("\u6a21\u7cca\u641c\u7d22\uff1a")),a.push(this.searchField=new c({width:100,searchFn:this.filterNode,scope:this}))),this.tbar=new Ext.Toolbar({items:a}))},filterNode:function(){var a="",b="";this.showSearch&&(a=this.searchField.getJsonValue()),this.showFilter&&(b=this.filterField.getJsonValue()),this.treeController.search(a,!0,b)},initTree:function(){this.autoSelectParent||(this.treeController=new e({checkAble:this.checkAble,getNodeLines:function(a){var b,c,d=[],e=a.parent,f=this.rootId;if(c=this.view.getTreeDatasLength(e.children),d.unshift(e.children.indexOf(a)!==c-1?a.children?a.expanded?"-|-":"+|-":"|-":a.children?a.expanded?"-L":"+L":"L"),e.id===f)return d;for(;e&&e.id!==f;){if(b=e.parent,b&&d.unshift(b.children.indexOf(e)!==this.view.getTreeDatasLength(b.children)-1?"|":""),e.inheriteLines){d=e.inheriteLines.concat(d);break}e=b}return a.lines=d,a.inheriteLines=d.slice(0,-1),d}})),this.callParent(arguments)},initComponent:function(){g.superclass.initComponent.apply(this,arguments),this.getController().on("check",function(a){this.autoSelectParent||"checkNone"===a.data.checkState&&this.autoUnCheckNewNode(a,"checkAll")},this)},load:function(a,b){this.url?(this.ajaxId=f({url:this.url,jsonData:this.jsonData}),this.ajaxId.success(function(a){this.loadData(a.data)},this).failure(function(a){SF.showErr(a&&a.msg||"\u6570\u636e\u52a0\u8f7d\u5931\u8d25")}).callback(function(){this.ajaxId=null},this).callback(function(){Ext.isFunction(a)&&a.apply(b||this,arguments)})):this.data&&(this.loadData(this.data),Ext.isFunction(a)&&a.apply(b||this,arguments))},loadData:function(a){var b,c;this.parseData(a),this.data=a,b=this.getController(),b.loadData(a),this.values&&this.setJsonValue(this.values),a&&a.length&&(c=b.getNodeById(a[0].id),c&&b.expand(c))},parseData:function(a){return a},getJsonValue:function(){var a=this.getController().getValue(),b=[];return Ext.each(a,function(a){"new"!==a.type&&b.push(a)},this),b},autoUnCheckNewNode:function(a,b){var c,d=!1;if("checkAll"===b){for(var e=a,f=e.parent;f;){var g=f.children[f.children.length-1];if(c=!0,!g||"new"!==g.data.type||"checkAll"!==g.data.checkState)break;if(Ext.each(f.children,function(a){return"new"!==a.data.type&&a!==e&&"checkNone"!==a.data.checkState?(c=!1,!1):void 0},this),!c)break;d=!0,g.data.checkState="checkNone",f.data.checkState="checkNone",e=f,f=f.parent}d&&this.treeController.viewRefresh()}},setJsonValue:function(a){this.values=a,this.treeView.rendered?(this.getController().clearCheck(),this.getController().setValue(a)):this.treeView.on("afterrender",function(){this.setJsonValue(a)},this,{single:!0})},getSubmitValue:function(){function a(d,e){var f,g,h=e.length,i=[],j=[],k=[];for(f=0;h>f;f++)g=e[f],("new"!==g.type||b.autoSelectParent)&&(delete g.__exclude__,"checkAll"===g.checkState?i.push(g):"checkPart"===g.checkState?j.push(g):k.push(g));i.length&&j.length+k.length<10&&i.length!==h&&i.length>=10?(d.__exclude__=j.concat(k),c.push(d)):Array.prototype.push.apply(c,i),Ext.each(j,function(b){a(b,b.children)},this)}var b=this,c=[],d=this.getController().getRootNode();return d&&a(d.data,d.data.children),c},destroy:function(){this.ajaxId&&(this.ajaxId.abort(),this.ajaxId=null),g.superclass.destroy.apply(this,arguments)}});b.exports=g});
define("common/widget/selector/SingleSelectTree/index.js",["./List","./Tree","./Detail","./index.css"],function(require,a,b){var c=require("./List"),d=require("./Tree"),e=require("./Detail");require("./index.css");var f=Ext.extend(Ext.Container,{bodyStyle:"padding: 0",layout:"border",width:720,height:560,autoLoadData:!0,url:"",autoMask:!0,excludeSelector:!1,initComponent:function(){this.createItems(),f.superclass.initComponent.apply(this,arguments),this.bindMaskEvent(),this.bindTreeSelectEvent(),this.bindListRemoveEvent()},bindMaskEvent:function(){this.autoMask&&this.on("afterrender",function(){this.isLoading&&this.el.mask(_("\u6b63\u5728\u52a0\u8f7d\u4e2d..."))},this)},syncTreeList:function(){var a=[],b=["checkState","children","parent"],c=this.getJsonValue();Ext.each(c,function(c){var d={};for(var e in c)c.hasOwnProperty(e)&&!~b.indexOf(e)&&(d[e]=c[e]);d.text=this.getDisplayText(c),d.textTip=d.text,a.push(d)},this),this.updateListData(a)},bindTreeSelectEvent:function(){this.treePanel.getController().on("check",function(){this.syncTreeList()},this),this.showDetail&&this.treePanel.getController().on("select",function(a){var b=this.renderDetail(a.data);this.detail.update(b)},this)},bindListRemoveEvent:function(){this.listPanel.on("removenode",function(a){var b=a.id;this.treePanel.getController().uncheckNode(b,!0),this.treePanel.getController().viewRefresh()},this),this.listPanel.on("clearnode",function(){this.treePanel.getController().clearCheck()},this),this.showDetail&&this.listPanel.getController().on("select",function(a){var b=this.renderDetail(a.data);this.detail.update(b)},this)},getDisplayText:function(a){for(var b=[];a;)b.push(a.text),a=a.parent;return b.pop(),b.reverse().join("/")},createItems:function(){this.createTreePanel(),this.createListPanel(),this.items=[this.treePanel,this.listPanel],this.showDetail&&(this.createDetailPanel(),this.items=[this.treePanel,{xtype:"panel",border:!0,layout:{type:"vbox",align:"stretch"},region:"center",margins:"5 5 5 0",items:[this.listPanel,this.detailPanel]}])},createTreePanel:function(){this.treePanel||(this.treePanel=new d(Ext.apply({url:this.url,jsonData:this.jsonData,border:!0,name:this.name,margins:"5 5 5 5",width:(this.width-15)/2,region:"west"},this.treeCfg||{}))),this.autoLoadData&&this.load()},createListPanel:function(){this.listPanel=new c({region:"center",border:!this.showDetail,flex:1.5,margins:this.showDetail?"0 0 0 0":"5 5 5 0"})},createDetailPanel:function(){this.detailPanel=new Ext.Panel({border:!1,region:"south",flex:1,layout:"fit",tbar:[this.detailTitle],items:[this.detail=new e]})},renderDetail:function(a){return[{label:_("\u540d\u79f0"),text:a.text,cls:"test-cls"}]},load:function(a,b){this.autoMask&&this.rendered&&this.getEl().mask(_("\u6b63\u5728\u52a0\u8f7d\u4e2d...")),this.isLoading=!0,this.treePanel.load(function(){this.isLoading=!1,this.values&&this.setJsonValue(this.values),this.autoMask&&this.rendered&&this.getEl().unmask(),Ext.isFunction(a)&&a.apply(b||this,arguments)},this)},updateListData:function(a){this.listPanel.setJsonValue(a)},getJsonValue:function(){return this.treePanel.getJsonValue()},getSubmitValue:function(){var a={};return this.excludeSelector?(a.real=this.getJsonValue(),a.exclude=this.treePanel.getSubmitValue(),a.nodeHash=this.treePanel.getController().nodeHash):(a.real=this.getJsonValue(),a.exclude=a.real,a.nodeHash=this.treePanel.getController().nodeHash),a},setJsonValue:function(a){this.values=a,this.treePanel.setJsonValue(a),this.syncTreeList()},destroy:function(){f.superclass.destroy.apply(this,arguments)}});SF.applyInterface(f,SF.form.JsonField),b.exports=f});
define("common/widget/tips/ClickTip.js",["common/widget/tips/ToolTip"],function(require,a,b){!function(){var a=require("common/widget/tips/ToolTip"),c=Ext.extend(a,{autoHeight:!1,isBind:!1,initTarget:function(a){if(a){var b=Ext.get(a);this.isBind&&(this.target&&this.mun(b,"click",this.onTargetClick,this),this.mon(b,{click:this.onTargetClick,scope:this})),this.target=b,this.anchorTarget=this.target}},onTargetClick:function(a){if(!this.disabled&&!a.within(this.target.dom,!0)){var b=a.getTarget(this.delegate);b&&this.show()}},showByEl:function(a){this.initTarget(a),this.show()},onHide:function(){this.isBind||(delete this.target,delete this.anchorTarget),c.superclass.onHide.call(this)}});b.exports=c}()});
define("common/widget/tips/ToolTip.js",["./ToolTip.css"],function(require,a,b){!function(){require("./ToolTip.css");var a=Ext.extend(Ext.ToolTip,{initComponent:function(){this.cls=(this.cls||"")+" acdc-tip-panel",a.superclass.initComponent.call(this),this.addEvents("lastShow"),this.initAnchorHash()},onShow:function(){a.superclass.onShow.call(this),-1e3===this.getPosition()[0]&&(Ext.getDoc().on("mousedown",this.onDocMouseDown,this),this.fireEvent("lastShow",this),this.onLastShow())},onLastShow:Ext.emptyFn,initAnchorHash:function(){this.anchorHash={LT:{align:"tl-tr",anchorPos:"r",targetPos:"tl",anchorOffset:[2,11+this.anchorOffset],tipOffset:[9,0]},LB:{align:"bl-br",anchorPos:"r",targetPos:"bl",anchorOffset:[2,-11-this.anchorOffset],tipOffset:[9,0]},RT:{align:"tr-tl",anchorPos:"l",targetPos:"tr",anchorOffset:[-2,11+this.anchorOffset],tipOffset:[-13,0]},RB:{align:"br-bl",anchorPos:"l",targetPos:"br",anchorOffset:[-2,-11-this.anchorOffset],tipOffset:[-13,0]},TL:{align:"tl-bl",anchorPos:"b",targetPos:"tl",anchorOffset:[20+this.anchorOffset,2],tipOffset:[0,9]},TR:{align:"tr-br",anchorPos:"b",targetPos:"tr",anchorOffset:[-20+this.anchorOffset,2],tipOffset:[0,9]},BL:{align:"bl-tl",anchorPos:"t",targetPos:"bl",anchorOffset:[20+this.anchorOffset,-2],tipOffset:[0,-13]},BR:{align:"br-tr",anchorPos:"t",targetPos:"br",anchorOffset:[-20+this.anchorOffset,-2],tipOffset:[0,-13]}}},getTargetXY:function(){if(this.delegate&&(this.anchorTarget=this.triggerElement),this.anchor){this.targetCounter++;var a=this.getOffsets(),b=this.anchorToTarget&&!this.trackMouse?this.el.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY,c=Ext.lib.Dom.getViewWidth(),d=Ext.lib.Dom.getViewHeight(),e=document.documentElement,f=document.body,g=e.scrollLeft||f.scrollLeft||0,h=e.scrollTop||f.scrollTop||0,i=[b[0]+a[0],b[1]+a[1]],j=this.getSize();if(this.anchorEl.removeClass(this.anchorCls),this.targetCounter<=2){if(i[0]<g&&1===this.targetCounter)return this.adjustAnchorTypeType("L"),this.getTargetXY();if(i[0]+j.width>c&&1===this.targetCounter)return this.adjustAnchorTypeType("R"),this.getTargetXY();if(i[1]<h)return this.adjustAnchorTypeType("T"),this.targetCounter=3,this.getTargetXY();if(i[1]+j.height>d)return this.adjustAnchorTypeType("B"),this.targetCounter=3,this.getTargetXY()}return this.anchorCls="x-tip-anchor-"+this.getAnchorPosition(),this.anchorEl.addClass(this.anchorCls),this.targetCounter=0,i}var k=this.getMouseOffset();return[this.targetXY[0]+k[0],this.targetXY[1]+k[1]]},syncAnchor:function(){var a=this.getAnchorType().value;this.anchorEl.alignTo(this.el,a.anchorPos+"-"+a.targetPos,a.anchorOffset)},getAnchorPosition:function(){if(this.anchor)this.getAnchorAlign(),this.tipAnchor=this.anchorType.type.charAt(0).toLowerCase();else{var a=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!a)throw"AnchorTip.defaultAlign is invalid";this.tipAnchor=a[1].charAt(0)}switch(this.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){return this.getAnchorType().value.align},getAnchorType:function(){return this.anchorType?this.anchorType:this.setAnchorType()},setAnchorType:function(a){if(!a)switch(this.anchor){case"top":a="TL";break;case"left":a="LT";break;case"right":a="RT";break;default:a="BL"}return this.anchorType={type:a,value:this.anchorHash[a]},this.anchorType},getOffsets:function(){var a,b;if(this.anchorToTarget&&!this.trackMouse)a=this.getAnchorType().value.tipOffset;else switch(b=this.getAnchorPosition().charAt(0)){case"t":a=[-15-this.anchorOffset,30];break;case"b":a=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case"r":a=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:a=[25,-13-this.anchorOffset]}var c=this.getMouseOffset();return a[0]+=c[0],a[1]+=c[1],a},adjustAnchorTypeType:function(a){var b=this.anchorType.type,c={L:"R",R:"L",T:"B",B:"T"},d=c[a];b=b.replace(d,a),this.setAnchorType(b)}});b.exports=a}()});
define("common/widget/toolbar/page/PageList.js",[],function(require,a,b){var c=Ext.extend(Ext.BoxComponent,{pageBtnLength:10,initComponent:function(){this.cacheInfo={},this.createTpl(),c.superclass.initComponent.apply(this,arguments)},createTpl:function(){this.tpl||(this.tpl=new Ext.XTemplate('<ol class="acdc-page-list">','<li data-id="prev" qtip="'+_("\u4e0a\u4e00\u9875")+'" class="acdc-page-list-item opr-item prev-item"></li>','<tpl for=".">','<li data-id="{values.id}" [{values.showTip ? \'qtip="{values.text}"\' : \'\'}] class="acdc-page-list-item paging-item {values.cls}">',"{values.text}","</li>","</tpl>",'<li data-id="next" qtip="'+_("\u4e0b\u4e00\u9875")+'" class="acdc-page-list-item opr-item next-item"></li>',"</ol>"))},initStoreEvent:function(){this.store.on({scope:this,beforeload:this.beforeStoreLoad,load:this.storeLoad,exception:this.storeException})},beforeStoreLoad:function(){},storeLoad:function(a,b,c){return this.rendered?void this.updateToolbar():void this.on("afterrender",function(){this.storeLoad(a,b,c)},this,{single:!0})},updateToolbar:function(){var a,b,c;return a=this.pagingBar.getPageData(),b=a.activePage,c=a.pages,b>c?void this.pagingBar.goToPage(c-1):(this.updatePageBtn(a),this.setOprDisabled("prev",1===b),void this.setOprDisabled("next",b>=c))},storeException:function(){},afterRender:function(){c.superclass.afterRender.apply(this,arguments),this.el.on("click",function(a,b){var c=Ext.fly(b).getAttribute("data-id");Ext.fly(b).hasClass("showmore")||this.select(c)},this,{delegate:".paging-item"}),this.el.on("click",function(a,b){var c=Ext.fly(b).getAttribute("data-id");this.doOpr(c,b)},this,{delegate:".opr-item"}),this.cur&&this.select(this.cur)},select:function(a){var b=this.cur;return this.doSelect(a)?(this.fireEvent("select",this,a,b),!0):!1},doSelect:function(a){var b,c;if(this.rendered){if(c=this.el.child('[data-id="'+a+'"]'),!c||c.hasClass("disabled"))return!1;void 0!==this.cur&&null!==this.cur&&(b=this.el.child('[data-id="'+this.cur+'"]'),b&&b.removeClass("selected")),c.addClass("selected")}return this.cur===a?!1:(this.cur=a,!0)},setOprDisabled:function(a,b){var c;this.rendered&&(c=this.el.child('[data-id="'+a+'"]'),c&&c[b?"addClass":"removeClass"]("disabled"))},doOpr:function(a,b){Ext.fly(b).hasClass("disabled")||Ext.isFunction(this[a])&&this[a]()},prev:function(){return this.cur?this.select(parseInt(this.cur,10)-1):!1},next:function(){return this.cur?this.select(parseInt(this.cur,10)+1):!1},updatePageBtn:function(a){var b=this.createPageData(a);this.setJsonValue(b),this.doSelect(String(a.activePage))},createPageItemData:function(a,b,c,d){return b=b||a,{id:a,text:b,showTip:c!==!1,cls:d||""}},createPageData:function(a,b,c){var d,e,f=!0,g=!0,h=Math.ceil(this.pageBtnLength/2),i=[];if(a.activePage>a.pages&&(a.activePage=a.pages),(a.activePage<h+1||a.pages<this.pageBtnLength)&&(f=!1),(a.pages-a.activePage<h||a.pages<this.pageBtnLength)&&(g=!1),f)for(b!==!1&&i.push(this.createPageItemData(1)),d=h-2,g||(d+=h-(a.pages-a.activePage)-1),i.push(this.createPageItemData(Math.ceil((a.activePage-d-1)/2)+1,"...",!1,"showmore")),e=a.activePage-d;e<a.activePage+1;e++)i.push(this.createPageItemData(e));else for(e=1;e<a.activePage+1;e++)i.push(this.createPageItemData(e));if(g){for(d=h-2,f||(d+=h-a.activePage),e=1;d+1>e;e++)i.push(this.createPageItemData(a.activePage+e));i.push(this.createPageItemData(Math.floor((a.pages-a.activePage-d)/2)+a.activePage+d,"...",!1,"showmore")),c!==!1&&i.push(this.createPageItemData(a.pages))}else for(e=a.activePage;e<a.pages;e++)i.push(this.createPageItemData(e+1));return i},setJsonValue:function(a){this.data=a,this.rendered&&this.update(a)}});b.exports=c});
define("common/widget/toolbar/page/index.js",["./PageList","./index.css"],function(require,a,b){var c=require("./PageList");require("./index.css");var d=Ext.extend(Ext.PagingToolbar,{pageSize:50,pageSizeWidth:70,pageBtnLength:10,pageSizeText:_("\u6bcf\u9875\u663e\u793a\u6761\u6570\uff1a"),start_limit_mode:!0,firstText:_("\u7b2c\u4e00\u9875"),prevText:_("\u4e0a\u4e00\u9875"),nextText:_("\u4e0b\u4e00\u9875"),lastText:_("\u6700\u540e\u4e00\u9875"),displayInfo:!0,showDisplayMsg:!0,showSize:!0,initComponent:function(){this.cls=this.cls||"",this.cls+=" acdc-paging-toolbar",this.createItems(),Ext.PagingToolbar.superclass.initComponent.apply(this,arguments),this.addEvents("change","beforechange"),this.on("afterlayout",this.onFirstLayout,this,{single:!0}),this.cursor=0,this.bindStore(this.store,!0),this.pageItem.initStoreEvent()},createItems:function(){this.items=[],this.createInputItem(),this.createSizeItem(),this.createPageItem(),this.showSize&&this.items.push(this.pageSizeText,this.sizeItem),this.items.push("->",this.pageItem)},createInputItem:function(){this.inputItem=new Ext.form.NumberField({cls:"x-tbar-page-number",allowDecimals:!1,allowNegative:!1,enableKeyEvents:!0,selectOnFocus:!0,submitValue:!1,listeners:{scope:this,keydown:this.onPagingKeyDown,blur:this.onPagingBlur}})},createSizeItem:function(){this.sizeItem=new Ext.form.ComboBox({width:this.pageSizeWidth||70,store:new Ext.data.JsonStore({autoLoad:!0,fields:["id"],data:[{id:10},{id:20},{id:50},{id:100}]}),editable:!1,mode:"local",value:this.pageSize,forceSelection:!0,triggerAction:"all",valueField:"id",displayField:"id",vtype:"number",listeners:{scope:this,select:this.onPagingSelect}})},createPageItem:function(){this.pageItem=new c({pageBtnLength:this.pageBtnLength||10,height:28,store:this.store,pagingBar:this}),this.pageItem.on({scope:this,select:this.onPageChange}),this.pageItem.updateToolbar()},setPageSize:function(a){this.sizeItem.setJsonValue(a),this.pageSize=a},onPagingSelect:function(a,b){var c=b.get("id"),d=this.getPageData(),e=d.activePage;this.pageSize=c,this.goToPage(Math.max(0,e-1),!0)},onPageChange:function(a,b){this.goToPage(parseInt(b,10)-1)},goToPage:function(a){a=a||0,this.doLoad(a*this.pageSize)},onLoadError:function(){},doLoad:function(a){var b={},c=this.getParams();this.start_limit_mode===!1?(b.cur_page=a/this.pageSize,b.per_page=this.pageSize):(b[c.start]=a,b[c.limit]=this.pageSize),this.fireEvent("beforechange",this,b)!==!1&&(this.store.baseParams=Ext.apply(this.store.baseParams||{},b),this.store.load({params:b}))},onLoad:function(a,b,c){if(!this.rendered)return void(this.dsLoaded=[a,b,c]);var d=this.getParams();this.cursor=c.params&&c.params[d.start]?c.params[d.start]:0,this.start_limit_mode===!1&&(this.cursor=c.params&&c.params.cur_page?c.params.cur_page:0);var e=this.getPageData(),f=e.activePage;this.inputItem.setValue(f),this.updateInfo(),this.fireEvent("change",this,e)},movePrevious:function(){return this.pageItem.prev()},moveNext:function(){return this.pageItem.next()}});b.exports=d});
define("common/widget/tree/XTree/XTreeNode.js",[],function(require,a,b){function c(a,b){this.data=a,this.parent=null,this.expanded=a.expanded||b,this.id=a.id}c.prototype={rootId:"__xtreeRoot__",getPath:function(){for(var a=this,b=[];a&&a.id!==this.rootId;)b.unshift(a.data.text),a=a.parent;return b.join("/").replace(/^\/\//,"/")}},b.exports=c});
define("common/widget/tree/XTree/XTreeController.js",["./XTreeNode"],function(require,a,b){var c=require("./XTreeNode"),d="checkAll",e="checkPart",f="checkNone",g=c.prototype.rootId,h=function(a){a=a||{},Ext.apply(this,a),this.treeData=[],this.curSearchText="",this.curFilterCheckState="",this.addEvents("select"),h.superclass.constructor.call(this)},i=function(a,b,c){var d=a.splice(0,b),e=a;return d.concat(c).concat(e)};Ext.extend(h,Ext.util.Observable,{viewRefresh:function(){this.view&&this.view.refresh()},viewReload:function(){this.view&&this.view.reload()},setRootNode:function(a,b,c){return this.rootNode=a,b||(delete this.backupData,delete this.nodeHash),this.getTreeData(),c?void this.viewRefresh():void this.viewReload()},backup:function(){this.backupData||(this.backupData={rootNode:this.rootNode,treeData:this.treeData})},recover:function(){this.backupData&&(Ext.apply(this,this.backupData),this.backupData=null,this.needReGetTreeData&&this.getTreeData(),this.viewReload())},getTreeData:function(){var a=this.getExpandChild(this.rootNode,this.rootNode.children);this.treeData=a},createData:function(a){delete this.backupData,this.rootNode={id:g,children:[],expanded:!0,data:{id:g,children:[]}},this.treeData=[],this.nodeHash={};var b=this.expandHash||{},c=this.checkAble;this.makeupXnode(this.rootNode,-1,a,this.nodeHash,this.treeData,c,b),delete this.expandHash},makeupXnode:function(a,b,d,e,g,h,j){function k(a,b,d,e,g){var i,j=0,l=b.length,m=a.expanded;for(j=0;l>j;j++){i=b[j];var n=new c(i);g[n.id]&&(n.expanded=!0),h&&(i.checkState=f),e[n.id]=n,a&&(n.parent=a,i.parent=a.data,a.children.push(n)),m&&d&&d.push(n),i.children&&(n.children=[],k(n,i.children,d,e,g))}}var l,m,n={expanded:a.expanded,children:[]},o=a.children;if(j||(j={}),b>o-1&&(b=o-1),0>b)return k(a,d,g,e,j),void(a.data.children=a.data.children.concat(d));for(k(n,d,g,e,j),l=n.children.length;l--;)m=n.children[l],m.parent=a,m.data.parent=a.data;a.children=i(o,b,n.children),a.data.children=i(a.data.children,b,d)},getExpandHash:function(){function a(c){if(c){var d,e=c.length,f=0;for(f=0;e>f;f++)d=c[f],d.expanded&&(b[d.id]=!0,a(d.children))}}var b={},c=this.getRootNode();return c&&a(c.children),b},setExpandHash:function(a){this.expandHash=a},loadData:function(a,b){var c,d;return b?(this.expandHash=this.getExpandHash(),this.createData(a),c=this.getSearchText(),d=this.getFilterCheckState(),void(c||d?this.search(c,!0,d):this.viewRefresh())):(this.curSearchText="",this.curFilterCheckState="",delete this.lastSelectId,this.createData(a),void this.viewReload())},expand:function(a,b){a.expanded=!0,delete a.lines,void 0===b&&(b=this.treeData.indexOf(a));var c=this.treeData,d=this.getExpandChild(a,a.children);this.treeData=i(c,b+1,d),this.viewRefresh()},getExpandChild:function(a,b){function c(a,b){if(b){var e,f=b.length,g=0,h=a.expanded;for(g=0;f>g;g++)e=b[g],h&&d.push(e),e.expanded&&c(e,e.children)}}var d=[];return c(a,b),d},collapse:function(a,b){a.expanded=!1,delete a.lines,this.treeData.splice(b+1,this.getcascadeChildrenCount(a.children)),this.viewRefresh()},getcascadeChildrenCount:function(a){function b(a){if(a){var d,e=a.length,f=0;for(f=0;e>f;f++)d=a[f],c++,d.expanded&&b(d.children)}}var c=0;return b(a),c},selectByNode:function(a,b){a.selected=!0,this.lastSelectId=a.id,b||(this.viewRefresh(),this.fireEvent("select",a))},selectById:function(a){var b=this.getNodeById(a);return b?void this.selectToNode(b):!1},selectToNode:function(a){(this.getSearchText()||this.getFilterCheckState())&&this.search("");for(var b=a.parent;b;)b.expanded=!0,b=b.parent;this.getTreeData(),this.selectByNode(a,!0),this.view.rendered&&this.view.scrollTo(a),this.fireEvent("select",a)},addNode:function(a,b,c,d){if(a){void 0===c&&(c=-1);var e={},f=this.checkAble;a=this.nodeHash[a.id]||a,a.children||(a.children=[],a.data.children=[],this.view&&a.data.iconCls===this.view.leafIcon&&(a.data.iconCls=this.view.parentIcon)),this.clearNodeLines(a),this.makeupXnode(a,c,b,this.nodeHash,null,f,e),this.refreshChange(d)}},refreshChange:function(a){return this.curSearchText||this.curFilterCheckState?(this.needReGetTreeData=!0,void(a||this.search(this.curSearchText,!0,this.curFilterCheckState))):(this.getTreeData(),void(a||this.viewRefresh()))},clearNodeLines:function(a){for(var b=a.children,c=b.length;c--;)delete b[c].lines},removeNode:function(a,b){function c(a,b){if(a){var d,e=a.length,f=0;for(f=0;e>f;f++)d=a[f],delete b[d.id],c(d.children,b)}}if(a&&this.nodeHash[a.id]){var d=this.nodeHash,e=a.parent,f=a.data;delete d[a.id],c(f.children,d),e.children.remove(a),e.data.children.remove(a.data),this.clearNodeLines(e),0===e.children.length&&(delete e.children,delete e.lines),this.refreshChange(b)}},getNodeById:function(a){return this.createNodeHash(),this.nodeHash&&this.nodeHash[a]},createNodeHash:function(){function a(c,d){var e,f=d.length,g=0;for(g=0;f>g;g++)e=d[g],b[e.id]=e,e.children&&a(e,e.children)}if(!this.nodeHash&&this.rootNode){var b={};a(this.rootNode,this.rootNode.children),this.nodeHash=b}},getNodeLines:function(a){var b,c,d=[],e=a.parent;if(c=e.children.length,d.unshift(e.children.indexOf(a)!==c-1?a.children?a.expanded?"-|-":"+|-":"|-":a.children?a.expanded?"-L":"+L":"L"),e.id===g)return d;for(;e&&e.id!==g;){if(b=e.parent,b&&d.unshift(b.children.indexOf(e)!==b.children.length-1?"|":""),e.inheriteLines){d=e.inheriteLines.concat(d);break}e=b}return a.lines=d,a.inheriteLines=d.slice(0,-1),d},getRootNode:function(){var a=this.rootNode;return this.backupData&&(a=this.backupData.rootNode),a},getSearchText:function(){return this.curSearchText},getFilterCheckState:function(){return this.curFilterCheckState},search:function(a,b,d){function e(a){for(var b;a;){var d=i[a.id];if(d||(d=new c(a.data,!0),i[a.id]=d),b=a.parent,!b)return;var e=i[b.id];if(e||(e=i[b.id]=new c(b.data,!0)),d.parent=e,e.children||(e.children=[],j[e.id]={}),j[e.id][d.id])return;e.children.push(d),j[e.id][d.id]=!0,a=b}}function f(b,c){var g,h=c.length,i=0;for(i=0;h>i;i++)g=c[i],a?String(g.data.text).toLowerCase().indexOf(String(a).toLowerCase())>-1&&(d&&g.data.checkState!==d||e(g)):d&&g.data.checkState!==d||e(g),g.children&&f(g,g.children)}if(a=a.trim(),this.curSearchText=a.trim(),this.curFilterCheckState=d||"",""===a&&!d)return void this.recover();var h={id:g,expanded:!0,data:{}},i={};i[g]=h;var j={},k=this.getRootNode();k&&(f(k,k.children),this.backup(),this.setRootNode(h,!0,b))},clickCheckBox:function(a){a.data.checkState===d?this.setNodeCheckState(a,f):this.setNodeCheckState(a,d),this.fireEvent("check",a)},setNodeCheckState:function(a,b){a.data.checkState=b,this._parentCheck(a.data,b),this._chilrenCheck(a.data.children,b)},_parentCheck:function(a,b){var c,g,h,i;for(i=a.parent;i&&i.checkState;){if(h=i.children,g=h.length,c=b,b===d){for(;g--;)if(h[g].checkState!==d){c=e;break}}else for(;g--;)if(h[g].checkState!==f){c=e;break}if(c===e&&i.checkState===e)return;i.checkState=c===b?b:e,i=i.parent}},_chilrenCheck:function(a,b){function c(a){var d,e=a.length,f=0;for(f=0;e>f;f++)d=a[f],d.checkState!==b&&(d.checkState=b,d.children&&c(d.children))}a&&c(a)},clearCheck:function(){var a=this.getRootNode();a&&(this._chilrenCheck(a.data.children,f),this.viewRefresh())},getValue:function(){function a(c){var d,e=c.length,f=0;for(f=0;e>f;f++)d=c[f],"checkAll"!==d.checkState?d.children&&a(d.children):b.push(d)}var b=[],c=this.getRootNode();return c&&a(c.data.children),b},setValue:function(a){for(var b,c=a&&a.length||0;c--;)b=this.getNodeById(a[c].id),b&&(b.parent.data.checkState!==e?this.setNodeCheckState(b,d):(b.data.checkState=d,this._chilrenCheck(b.data.children,d)));this.viewRefresh()},checkNode:function(a,b){a=a instanceof c?a:this.getNodeById(a),a&&a.data.checkState!==d&&(this.setNodeCheckState(a,d),!0!==b&&this.fireEvent("checkchange",a,!0))},uncheckNode:function(a,b){a=a instanceof c?a:this.getNodeById(a),a&&a.data.checkState!==f&&(this.setNodeCheckState(a,f),!0!==b&&this.fireEvent("checkchange",a,!1))},destroy:function(){}}),h.insertArr=i,b.exports=h});
define("common/widget/tree/XTree/XTreeView.js",["./XTreeView.css"],function(require,a,b){require("./XTreeView.css");var c=Ext.extend(Ext.BoxComponent,{leafIcon:"SF-XTree-leaf",parentIcon:"SF-XTree-file",selectedCls:"selected",lineHeight:24,yScWidth:18,xScHieght:17,fillWidth:0,disabledCls:"SF-XTree-row-disabled",initComponent:function(){c.superclass.initComponent.call(this)},getTreeData:function(){return this.controller.treeData},checkUseFillRow:function(a,b){var c=this.getViewHeight(),d=b*this.lineHeight;return this.fillWidth>0&&a===b&&d+this.xScHieght>c},onRender:function(a,b){c.superclass.onRender.call(this,a,b);var d=Ext.DomHelper.append(this.el,{tag:"div",cls:"SF-Xtree-treeView"},!0);this.viewWrap=d;var e=Ext.DomHelper.append(d,{tag:"dl"},!0);this.viewCt=e;var f=Ext.DomHelper.append(this.el,{tag:"div",cls:"SF-Xtree-sc"},!0);this.sc=f,this.scInner=Ext.DomHelper.append(f,{tag:"div",cls:"SF-Xtree-scInner"},!0),this.mon(d,"mousewheel",this.viewMousewheel,this),this.mon(f,"scroll",this.viewScroll,this,{buffer:50}),this.mon(e,{scope:this,mouseover:this.delegateOver,mouseout:this.delegateOut,click:this.delegateClick,delegate:"dd"})},onDestroy:function(){Ext.each(["scInner","sc","viewCt","viewWrap"],function(a){this[a]&&(Ext.fly(this[a]).remove(),delete this[a])},this),this.controller=null,c.superclass.onDestroy.call(this)},viewMousewheel:function(a){this.sc.dom.scrollTop=this.sc.dom.scrollTop-120*a.getWheelDelta()},delegateClick:function(a,b){var c=this.getTreeData(),d=parseInt(b.getAttribute("idx")),e=this.controller,f=c[d];if(!f.data.disabled){var g=a.getTarget("span.SF-Xtree-plus",1);if(g)return void e.expand(f,d);if(g=a.getTarget("span.SF-Xtree-minus",1))return void e.collapse(f,d);g=a.getTarget("span.SF-XTree-check",1),g&&e.clickCheckBox(f,d),this.controller.selectByNode(f)}},delegateOver:function(a,b){var c=Ext.fly(b);c.hasClass(this.disabledCls)||c.addClass("over")},delegateOut:function(a,b){var c=Ext.fly(b);c.hasClass(this.disabledCls)||c.removeClass("over")},getViewHeight:function(){var a=this.getHeight();return a?this.lastHeight=a:a=this.lastHeight||0,a},getViewWidth:function(){var a=this.getWidth();return a?this.lastWidth=a:a=this.lastWidth||0,a},getViewCtWidth:function(){var a,b=this.viewCt.down("table");return b&&(a=this.viewCt.down("table").getWidth()),a?this.lastViewCtWidth=a:a=this.lastViewCtWidth||0,a},getViewWrapWidth:function(){var a=this.viewWrap.getWidth();return a?this.lastViewWrapWidth=a:a=this.lastViewWrapWidth||0,a},getVisibledRowCount:function(){return Math.ceil(this.getViewHeight()/this.lineHeight)},adjViewHeight:function(){var a=this.getViewHeight();this.sc.setHeight(a),this.viewWrap.setHeight(a)},adjRenderView:function(){var a=this.getViewHeight(),b=this.getTreeData(),c=this.getViewWidth(),d=this.getTreeDatasLength(b)*this.lineHeight,e=this.yScWidth,f=this.xScHieght;a>=d?(this.sc.setDisplayed(!1),this.viewWrap.setWidth(c)):(this.sc.setDisplayed(!0),this.viewWrap.setWidth(c-e));var g=this.getViewCtWidth(),h=this.getViewWrapWidth();g>h?(d+f>a&&(this.sc.setDisplayed(!0),this.viewWrap.setWidth(c-e)),this.fillWidth=g,this.sc.setHeight(a-f)):(this.sc.setHeight(a),this.fillWidth=0),Ext.isIE&&(this.viewWrap.hide(),this.viewWrap.show())},viewScroll:function(a){var b=this.sc.getScroll().top;if(b!==this.lastTop||a===!0){this.lastTop=b;var c=Math.ceil(b/this.lineHeight),d=this.getTreeData(),e=0;Ext.each(d,function(a,b){return a.data.visible!==!1?(e++,e===c?(c=b+1,!1):void 0):void 0},this),this.viewCt.update(this.getListHtml(c)),this.adjRenderView()}},onResize:function(a,b){c.superclass.onResize.apply(this,arguments),this.adjViewHeight(),this.adjRenderView(),(a||b)&&this.refresh()},reload:function(){this.rendered&&(this.sc.dom.scrollTop=0,this.refresh())},refresh:function(){var a=this.getTreeData();this.scInner.setHeight(this.getTreeDatasLength(a)*this.lineHeight),this.viewScroll(!0)},scrollTo:function(a){var b=this.getTreeData(),c=b.indexOf(a);this.adjRenderView(),this.scInner.setHeight(this.getTreeDatasLength(b)*this.lineHeight),this.sc.dom.scrollTop=(c-3)*this.lineHeight,this.viewScroll(!0)},highLight:function(a){var b,c,d=this.controller.getSearchText();return""===d?Ext.util.Format.htmlEncode(a):(c=d.length,b=String(a).toLowerCase().indexOf(String(d).toLowerCase()),b>-1&&(a=Ext.util.Format.htmlEncode(a.slice(0,b))+"<span class='SF-XTree-highLight'>"+Ext.util.Format.htmlEncode(a.slice(b,b+c))+"</span>"+Ext.util.Format.htmlEncode(a.slice(b+c))),a)},getListHtml:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=this.controller,p=o.lastSelectId,q=0;for(b=['<table style="width:100%"><tr><td>'],g=this.getTreeData(),c=g.length,d=this.getTreeDatasLength(g),e=this.getVisibledRowCount()+a,e>c&&(e=c),m={"":"","|":"SF-Xtree-elbow-line","|-":"SF-Xtree-elbow","+|-":"SF-Xtree-plus SF-Xtree-elbow-plus","-|-":"SF-Xtree-minus SF-Xtree-elbow-minus","+L":"SF-Xtree-plus SF-Xtree-elbow-end-plus","-L":"SF-Xtree-minus SF-Xtree-elbow-end-minus",L:"SF-Xtree-elbow-end"},h=a;c>h&&!(q>=e-a);h++)if(n=g[h],f=n.data,j=n.lines,f.visible!==!1){for(q++,j||(j=o.getNodeLines(n)),k=j.length,l=['<dd unselectable="on" class="SF-XTree-row ',f.rowCls?f.rowCls:" ",f.disabled?" "+this.disabledCls:" ",f.noParent?"first-content":"",'" idx=',h,">"],n.id===p&&(l=['<dd unselectable="on" class="SF-XTree-row ',this.selectedCls," ",f.rowCls?f.rowCls:" ",f.disabled?" "+this.disabledCls:" ",f.noParent?"first-content":"",'" idx=',h,">"]),i=0;k>i;i++)l.push('<span class="line '+m[j[i]]+'"></span>');f.checkState&&f.checkAble!==!1&&l.push('<span ext:qtip="'+Ext.util.Format.htmlEncode(f.checkStateTip||"")+'" class="ico SF-XTree-check SF-XTree-'+f.checkState+'"></span>'),f.iconCls&&l.push('<span ext:qtip="'+Ext.util.Format.htmlEncode(f.iconTip||"")+'" class="ico '+f.iconCls+'"></span>'),l.push('<span ext:qtip="'+Ext.util.Format.htmlEncode(f.textTip||"")+'" class="label">'+this.highLight(f.text,f)+"</span></dd>"),b.push(l.join(""))}return b.push("</td></tr></table>"),this.checkUseFillRow(e,d)&&b.push('<div style="width:'+this.fillWidth+'px;"></div>'),b.join("")},getTreeDatasLength:function(a){var b=0;return Ext.each(a,function(a){a.data.visible!==!1&&b++},this),b}});b.exports=c});
define("common/widget/tree/XTree/XTreePanel.js",["./XTreeView","./XTreeController","common/widget/form/SearchField/index"],function(require,a,b){var c=require("./XTreeView"),d=require("./XTreeController"),e=require("common/widget/form/SearchField/index"),f=Ext.extend(Ext.Panel,{search:!0,layout:"fit",showTbar:!0,initComponent:function(){this.showTbar&&this.initTbar(),this.initTree(),this.data&&(this.loadData(this.data),delete this.data),f.superclass.initComponent.call(this)},initTbar:function(){this.search&&(this.tbar=new Ext.Toolbar({layout:"fit",items:[this.searchField=new e({searchFn:this.searchByField,scope:this})]}))},getController:function(){return this.treeController},getView:function(){return this.treeView},loadData:function(a){this.treeController.loadData(a)},searchByField:function(a){this.treeController.search(a.getValue())},initTree:function(){this.treeView=this.treeView||new c,this.treeController=this.treeController||new d({view:this.treeView,checkAble:this.checkAble}),this.treeView.controller=this.treeController,this.treeController.view=this.treeView,this.items=this.treeView},onDestroy:function(){this.treeController.destroy(),this.treeController=null,f.superclass.onDestroy.call(this)}});b.exports=f});
define("common/widget/tree/XTree/asyn/XTreeController.js",["../XTreeController"],function(require,a,b){var c=require("../XTreeController"),d=Ext.extend(c,{expand:function(a,b,c){var e=arguments;a.expanded||a.data.loading||(a.data.loaded?d.superclass.expand.apply(this,e):(a.data.realIconCls||(a.data.realIconCls=a.data.iconCls),a.data.iconCls="SF-XTree-loading",a.data.loading=!0,this.viewRefresh(),this.getAsynNodeData(a,{success:function(b){return b=this.formatExpandData(b,a),Ext.isEmpty(b)?(a.data.leaf=!0,delete a.data.children,delete a.children,a.data.loaded=!0,a.data.iconCls=a.data.realIconCls,delete a.data.iconTip,a.parent&&this.clearNodeLines(a.parent),this.viewRefresh(),void(c&&Ext.isFunction(c.success)&&c.success.call(c.scope||this,a,b))):(this.checkAble&&"checkPart"===a.data.checkState&&this.updateNodeChildrenCheckStatus([],a.data,b),this.addNode(a,b,0,!0),a.data.loaded=!0,a.data.iconCls=a.data.realIconCls,delete a.data.iconTip,this.checkAble&&"checkAll"===a.data.checkState&&this._chilrenCheck(a.data.children,"checkAll"),d.superclass.expand.apply(this,e),void(c&&Ext.isFunction(c.success)&&c.success.call(c.scope||this,a,b)))},failure:function(b){a.data.iconCls=a.data.realIconCls+"-err",a.data.iconTip=b.msg||_("\u52a0\u8f7d\u6570\u636e\u5931\u8d25"),this.viewRefresh(),c&&Ext.isFunction(c.failure)&&c.failure.call(c.scope||this,a,b)}},this)))},abortExpandNode:function(a){!a.data.loaded&&a.data.loading&&a.data.expandrequestid&&(Ext.Ajax.abort(a.data.expandrequestid),delete a.data.expandrequestid,delete a.data.loading)},getAsynNodeData:function(a,b,c){var d=this.getNodeData(this.setAjaxOption(a,{url:this.url,jsonData:Ext.apply({},Ext.apply(this.params||{},{path:this.getPathFromNode(a)})),scope:c||this,timeout:3e5,callback:function(e,f,g){var h=g.getJsonData()||{success:!1};this.expandIDList.remove(d),delete a.data.loading,delete a.data.expandrequestid,h.success!==!1?b.success.apply(c||this,[h]):b.failure.apply(c||this,[h])}}));return a.data.expandrequestid=d,d},getNodeData:function(a){var b=Ext.Ajax.request(a);return this.expandIDList=this.expandIDList||[],this.expandIDList.push(b),b},getPathFromNode:function(a){for(var b=a,c=[];b;)c.push(b.id),b=b.parent;return c.reverse()},setAjaxOption:function(a,b){return b},formatExpandData:function(a){return a},isTheSubPath:function(a,b){for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!this.isPathEqual(a,b)},isPathEqual:function(a,b){var c=0;if(a.length===b.length){for(;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return!1},updateNodeChildrenCheckStatus:function(a,b,c){var d=this.getPathFromNode(b),e=function(a,b){return{id:a[b.length],hasChild:!!a[b.length+1]}};Ext.each(a,function(a){var b;this.isTheSubPath(d,a)&&(b=e(a,d),b&&Ext.each(c,function(a){a.id===b.id&&(a.checkState=b.hasChild?"checkPart":"checkAll")},this))},this)},abortExpand:function(){for(var a in this.nodeHash)this.nodeHash.hasOwnProperty(a)&&this.nodeHash[a].loading&&this.nodeHash[a].expandrequestid&&delete this.nodeHash[a].expandrequestid;Ext.each(this.expandIDList,function(a){Ext.Ajax.abort(a)},this),this.expandIDList=[]},destroy:function(){this.abortExpand(),delete this.expandIDList,d.superclass.destroy.apply(this,arguments)}});b.exports=d});
define("common/widget/tree/XTree/asyn/XTreeView.js",["../XTreeView"],function(require,a,b){var c=require("../XTreeView"),d=Ext.extend(c,{delegateClick:function(a,b){var c,d=this.getTreeData(),e=parseInt(b.getAttribute("idx")),f=this.controller,g=d[e];if(!g.data.disabled){var h=a.getTarget("span.SF-Xtree-plus",1);if(h)return void f.expand(g,e);if(h=a.getTarget("span.SF-Xtree-minus",1))return void f.collapse(g,e);if(h=a.getTarget("span.SF-XTree-check",1)){var i=g.data.checkState;this.fireEvent("beforenodecheck",this,g,i,a),f.clickCheckBox(g,e),c="checkAll"===g.data.checkState,this.fireEvent("nodecheck",this,g,c,a,i)}this.controller.selectByNode(g),this.fireEvent("nodeclick",this,g,a)}}});b.exports=d});
define("common/widget/tree/XTree/asyn/XTreePanel.js",["../XTreePanel","./XTreeController","./XTreeView"],function(require,a,b){var c=require("../XTreePanel"),d=require("./XTreeController"),e=require("./XTreeView"),f=Ext.extend(c,{searchByField:function(a){this.treeController.abortExpand(),this.treeController.search(a.getValue())},initTree:function(){var a=this;this.treeView=this.treeView||new e,this.treeController=this.treeController||new d({view:this.treeView,checkAble:this.checkAble,asyn:!0,url:this.url,params:this.params,formatExpandData:function(b,c){return b=a.formatExpandData(b,c),d.prototype.formatExpandData.apply(this,arguments)},setAjaxOption:function(b,c){return c=a.setAjaxOption(b,c),d.prototype.setAjaxOption.apply(this,arguments)}}),this.mon(this.treeView,"nodeclick",this.onViewNodeClick,this),this.mon(this.treeView,"nodecheck",this.onViewNodeCheck,this),this.mon(this.treeView,"beforenodecheck",this.onBeforeViewNodeCheck,this),f.superclass.initTree.apply(this,arguments)},setAjaxOption:function(a,b){return b},formatExpandData:function(a){return a},onViewNodeClick:function(a,b,c){this.fireEvent("nodeclick",a,b,c)},onViewNodeCheck:function(a,b,c,d,e){this.fireEvent("nodecheck",a,b,c,d,e)},onBeforeViewNodeCheck:function(a,b,c,d){this.fireEvent("beforenodecheck",a,b,c,d)}});b.exports=f});
define("common/widget/trigger/Factory.js",[],function(require,a,b){function c(a,b){var c=[];return Ext.each(a,function(a){c.push(a[b])}),c}var d="selector";b.exports=function(a){var b=Ext.extend(Ext.form.TriggerField,{editable:!1,initComponent:function(){b.superclass.initComponent.apply(this,arguments),this.values&&this.values.length&&this.setJsonValue(this.values)},createWindow:function(){return this.selectorWin||(this.selectorWin=new a(Ext.apply({afterclose:!1,title:this.title,name:d,url:this.url,data:this.treeData,jsonData:this.jsonData},this.windowCfg||{}))),this.selectorWin},onTriggerClick:function(){if(!this.disabled){var a=this.createWindow(),b={};a&&(b[d]=this.values,a.open({value:b,confirm:function(a){var b=a.getJsonValue();if(this.allowBlank===!1&&Ext.isEmpty(b[d]))return void SF.showErr(_("\u8be5\u8f93\u5165\u9879\u4e3a\u5fc5\u8f93\u9879"));this.setJsonValue(b[d]),this.selectorWin.hide();var c=this.getSelector();c&&c.getSubmitValue&&this.setSubmitValue(c.getSubmitValue()),this.otherValue=null,this.validate(),this.fireEvent("submit")},scope:this}),this.alwaysLoad&&a.reload())}},setDisplayValue:function(a){var b;b=Ext.isObject(a)&&a.real?c(a.real,"text"):Ext.isArray(a)&&1===a.length&&Ext.isString(a[0])?a:c(a,"text"),this.setValue(b.join(","))},setJsonValue:function(a){var b=!1;if(this.windowCfg&&this.windowCfg.preSetJsonValue&&Ext.isFunction(this.windowCfg.preSetJsonValue)&&(b=this.windowCfg.preSetJsonValue.call(this,a)),!b){var c;c=Ext.isObject(a)&&a.real?a.real:a,this.values=c,this.setDisplayValue(a)}},getJsonValue:function(){return this.getSubmitValue()},getSubmitValue:function(){return this._submitValue||this.getSubmitJsonData()},setSubmitValue:function(a){this._submitValue=a},getSelector:function(){var a=this.createWindow();return a?a.getSelector():void 0},getSubmitJsonData:function(){var a=[],b=["icon","iconCls","id","text"];return Ext.each(this.values,function(c){var d={};for(var e in c)c.hasOwnProperty(e)&&~b.indexOf(e)&&(d[e]=c[e]);a.push(d)},this),a},getIdValue:function(){return c(this.values,"id")},getDisplayValue:function(){return c(this.values,"text")},getOtherValue:function(){return this.otherValue},setOtherValue:function(a){this.otherValue=a},onDestroy:function(){this.selectorWin&&(Ext.destroy(this.selectorWin),this.selectorWin=null)}}),e=function(){return b};return{create:e}}});
define("common/widget/trigger/SelectTree/index.js",["common/widget/window/SelectTree/index","../Factory"],function(require,a,b){var c=require("common/widget/window/SelectTree/index"),d=require("../Factory");b.exports=d(c,{}).create()});
define("common/widget/trigger/SingleTree/index.js",["common/widget/window/SingleTree/index","../Factory"],function(require,a,b){var c=require("common/widget/window/SingleTree/index"),d=require("../Factory");b.exports=d(c).create()});
define("common/widget/window/ProgressWin/SFProgressBar.js",["ajax"],function(require,a,b){var c=require("ajax"),d=Ext.extend(Ext.ProgressBar,{wait:function(a){if(!this.waitTimer){var b=this;a=a||{},this.updateText(a.text),this.waitTimer=new SF.util.IntervalTask({fn:function(){this.ajaxId=c({url:this.win.url,jsonData:a.jsonData}),this.ajaxId.success(function(a){this.win.handlePercent&&this.win.handleFn(a.data),this.updateProgress(a.data),(100===a.data.progress||"100%"===a.data.progress)&&(this.win.callback&&SF.isFunction(this.win.callback)&&this.win.callback(),this.stopRequestProgress())},this).failure(function(){},this).callback(function(){this.ajaxId=null,this.waitTimer&&this.waitTimer.finish()},this)},interval:a.interval||1e3,scope:b}),this.waitTimer.start()}return this},updatePercent:function(a){return this.percent=a||"0",this.rendered&&this.percentEl.update(this.percent+"%"),this},updateProgressInfo:function(a){this.progressInfoObj.dom.innerHTML=this.progressInfo.previous+a+this.progressInfo.behind},updateProgressMsg:function(a){this.progressInfoObj.dom.innerHTML=a},formatProgress:function(a){return"number"==typeof a?a:"string"==typeof a?-1===a.indexOf("%")?a-0:a.split("%")[0]-0:0},updateProgress:function(a){if(a&&(!this.win.handlePercent||0!==a.progress)){if(this.value=a.value||0,a.text&&this.updateText(a.text),a.progress){var b=this.formatProgress(a.progress);if(this._lastPercent){if(!(b>=this._lastPercent))return;this.updatePercent(b),this._lastPercent=b}else this.updatePercent(b),this._lastPercent=b}if(a.current?this.updateProgressInfo(a.current):a.msg&&this.updateProgressMsg(a.msg),this.rendered&&!this.isDestroyed){var c=0;a.progress&&(c=this.barWidth*parseInt(a.progress,10)/100),this.progressBar.setWidth(c,a.animate===!0||a.animate!==!1&&this.animate),this.textTopEl&&this.textTopEl.removeClass("x-hidden").setWidth(c)}return this.fireEvent("update",this,a.value,a.text),this}},cancelQuery:function(a){this.stopUpdate(!1),this.win.cancelCallback.call(this.win.scope||this),this.ajaxId2=this.ajaxId=c({url:this.win.url,jsonData:a}),this.ajaxId2.success(function(){},this).failure(function(a){SF.showErr(a&&a.msg||_("\u6570\u636e\u52a0\u8f7d\u5931\u8d25"))},this).callback(function(){this.ajaxId2=null},this)},stopUpdate:function(a){Ext.getBody().unblock(),this.stopRequestProgress(),this.close(a)},stopRequestProgress:function(){this.waitTimer&&(this.waitTimer.stop(),this.waitTimer=null),this.ajaxId&&(this.ajaxId.abort(),this.ajaxId=null),this._lastPercent=null},destroy:function(){this.ajaxId&&this.ajaxId.abort(),this.ajaxId2&&this.ajaxId2.abort(),this.waitTimer&&this.waitTimer.stop(),this.timer&&(clearTimeout(this.timer),this.timer=null),this.callParent(arguments),this.textEl=null},setSize:function(a,b){if(Ext.ProgressBar.superclass.setSize.call(this,a,b),this.textTopEl){var c=this.el.dom.firstChild;this.textEl.setSize(this.barWidth,c.offsetHeight)}return this.syncProgressBar(),this},onRender:function(a,b){var c=new Ext.Template('<div class="sf-progress-wrap">','<div class="sf-progress-info">',this.progressInfo.previous,this.progressInfo.data,this.progressInfo.behind,"</div>",'<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar sf-',this.colorStyle,'">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>",'<div class="sf-percentinfo">&#160;</div>',"</div>");this.el=b?c.insertBefore(b,{cls:this.baseCls},!0):c.append(a,{cls:this.baseCls},!0),this.id&&(this.el.dom.id=this.id),Ext.get(this.el.dom.childNodes[1]).setWidth(this.barWidth),this.progressInfoObj=Ext.get(this.el.dom.firstChild);var d=this.el.dom.childNodes[1].firstChild;if(this.progressBar=Ext.get(d.firstChild),this.textEl)this.textEl=Ext.get(this.textEl),delete this.textTopEl;else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);var e=Ext.get(d.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden"),this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,e.dom.firstChild]),this.textEl.setWidth(this.barWidth)}this.percentEl=Ext.get(this.el.dom.childNodes[2]),this.percentEl.setStyle("margin-left","10px"),this.progressBar.setHeight(this.barHeight),Ext.get(d).setHeight(this.barHeight)},close:function(a){var b=this;a!==!1?(this.updateProgress({value:100,progress:"100%"}),this.timer=setTimeout(function(){b.win.hide(),b.timer=null},500)):b.win.hide(),this._lastPercent=null}});b.exports=d});
define("common/widget/window/ProgressWin/ProgressWin.js",["./SFProgressBar","./index.css"],function(require,a,b){var c=require("./SFProgressBar");require("./index.css");var d={name:"app.web.common.cancel",options:{}},e=Ext.extend(Ext.Window,{cls:"sf-progress-win",width:470,closable:!1,title:_("\u6b63\u5728\u67e5\u8be2"),progressInfo:{previous:"",data:"",behind:""},text:"",barWidth:310,barHeight:10,colorStyle:"green",showPercent:!0,iconCls:"",iconStyle:"width: 50px; height: 50px; ",url:"",jsonData:"",callback:"",cancelCallback:"",draggable:!1,autoShow:!0,layout:"hbox",align:"middle",defaults:{height:70},updateAuto:!0,handlePercent:!1,handleFn:Ext.emptyFn,basePercent:0,initComponent:function(){this.initialItems(),this.initialBtns(),e.superclass.initComponent.call(this)},initialBtns:function(){this.buttons=[{text:_("\u53d6\u6d88"),scope:this,handler:function(){var a,b=!0;this.updateAuto&&(a=SF.clone(this.jsonData),Ext.apply(a,d)),this.beforeCancelFn&&Ext.isFunction(this.beforeCancelFn)&&(b=this.beforeCancelFn.call(this.scope||this)),b&&this.cancelQuery(a||this.jsonData)}}]},startUpdate:function(a){Ext.getBody().block(null,null,"acdc-progresswin-mask"),this.pbar2.timer&&(clearTimeout(this.pbar2.timer),this.pbar2.timer=null),this.jsonData=a,this.show(),this.pbar2.updateProgressInfo(this.progressInfo.data),this.pbar2.updateProgress({value:0,progress:"0%"}),this.updateAuto&&this.pbar2.wait({duration:this.duration||1e3,interval:this.interval||1e3,animate:this.animate||!1,fn:this.callback,jsonData:a||this.jsonData,scope:this})},setJsonData:function(a){Ext.apply(this.jsonData,a||{})},getJsonData:function(){return this.jsonData},cancelQuery:function(a){this.pbar2.cancelQuery(a||this.jsonData)},stopUpdate:function(a){this.pbar2.stopUpdate(a)},destroy:function(){this.pbar2.destroy(),this.callParent(arguments)},initialItems:function(){this.items=[{xtype:"box",autoEl:{tag:"div","class":"sf-progress-icon "+this.iconCls,style:this.iconStyle}},this.pbar2=new c({win:this,margins:"5 0 0 10",colorStyle:this.colorStyle,progressInfo:this.progressInfo,text:this.text,barWidth:this.barWidth,barHeight:this.barHeight})]},setUpdateAuto:function(a){this.updateAuto=a},setHandleFn:function(a){this.handleFn=a}});b.exports=e});
define("common/widget/window/SelectTree/index.js",["common/widget/selector/SingleSelectTree/index"],function(require,a,b){var c=require("common/widget/selector/SingleSelectTree/index"),d=Ext.extend(SF.form.SubFormWindow,{bodyStyle:"padding: 0",layout:"fit",width:720,height:560,autoLoadData:!0,excludeSelector:!1,url:"",autoMask:!0,initComponent:function(){this.createItems(),d.superclass.initComponent.apply(this,arguments),this.bindMaskEvent()},bindMaskEvent:function(){this.autoMask&&this.on("afterrender",function(){this.triggerPanel.isLoading&&this.el.mask(_("\u6b63\u5728\u52a0\u8f7d\u4e2d..."))},this)},createItems:function(){this.createTrigger(),this.items=[this.triggerPanel]},createTrigger:function(){this.triggerPanel||(this.triggerPanel=new c(Ext.apply({name:this.name,url:this.url,jsonData:this.jsonData,autoLoadData:!1,autoMask:!1,border:!1,excludeSelector:this.excludeSelector,showDetail:this.showDetail,detailTitle:this.detailTitle,renderDetail:this.renderDetail},this.selectorCfg||{}))),this.autoLoadData&&this.load()},load:function(a,b){this.autoMask&&this.rendered&&this.getEl().mask(_("\u6b63\u5728\u52a0\u8f7d\u4e2d...")),this.triggerPanel.load(function(){this.autoMask&&this.rendered&&this.getEl().unmask(),Ext.isFunction(a)&&a.apply(b||this,arguments)},this)},reload:function(){this.load()},getSelector:function(){return this.triggerPanel},destroy:function(){d.superclass.destroy.apply(this,arguments)}});b.exports=d});
define("common/widget/window/SingleTree/Tree.js",["common/widget/tree/XTree/XTreePanel","common/widget/tree/XTree/XTreeController"],function(require,a,b){var c=require("common/widget/tree/XTree/XTreePanel"),d=require("common/widget/tree/XTree/XTreeController"),e=Ext.extend(c,{showTbar:!1,autoSelectParent:this.autoSelectParent,initTree:function(){this.autoSelectParent||(this.treeController=new d({checkAble:this.checkAble,getNodeLines:function(a){var b,c,d=[],e=a.parent,f=this.rootId;if(c=this.view.getTreeDatasLength(e.children),d.unshift(e.children.indexOf(a)!==c-1?a.children?a.expanded?"-|-":"+|-":"|-":a.children?a.expanded?"-L":"+L":"L"),e.id===f)return d;for(;e&&e.id!==f;){if(b=e.parent,b&&d.unshift(b.children.indexOf(e)!==this.view.getTreeDatasLength(b.children)-1?"|":""),e.inheriteLines){d=e.inheriteLines.concat(d);break}e=b}return a.lines=d,a.inheriteLines=d.slice(0,-1),d}})),this.callParent(arguments)},initComponent:function(){e.superclass.initComponent.apply(this,arguments),this.getController().on("check",function(a){this.autoSelectParent||"checkNone"===a.data.checkState&&this.autoUnCheckNewNode(a,"checkAll")},this)},setJsonValue:function(a){this.values=a,this.treeView.rendered?(this.getController().clearCheck(),this.getController().setValue(a)):this.treeView.on("afterrender",function(){this.setJsonValue(a)},this,{single:!0})},autoUnCheckNewNode:function(a,b){var c,d=!1;if("checkAll"===b){for(var e=a,f=e.parent;f;){var g=f.children[f.children.length-1];if(c=!0,!g||"new"!==g.data.type||"checkAll"!==g.data.checkState)break;if(Ext.each(f.children,function(a){return"new"!==a.data.type&&a!==e&&"checkNone"!==a.data.checkState?(c=!1,!1):void 0},this),!c)break;d=!0,g.data.checkState="checkNone",f.data.checkState="checkNone",e=f,f=f.parent}d&&this.treeController.viewRefresh()}},getJsonValue:function(){var a=this.getController().getValue(),b=[];return Ext.each(a,function(a){(this.autoSelectParent||"new"!==a.type)&&b.push(a)},this),b}});SF.applyInterface(e,SF.form.JsonField),b.exports=e});
define("common/widget/window/SingleTree/index.js",["./Tree","ajax"],function(require,a,b){var c=require("./Tree"),d=require("ajax"),e=Ext.extend(SF.form.SubFormWindow,{bodyStyle:"padding: 14px 10px;",layout:"fit",width:640,height:480,autoLoadData:!0,autoSelectParent:!0,url:"",autoMask:!0,checkAble:!0,showTbar:!1,initComponent:function(){this.createItems(),e.superclass.initComponent.apply(this,arguments),this.bindMaskEvent()},bindMaskEvent:function(){this.autoMask&&this.on("afterrender",function(){this.ajaxId&&this.el.mask(_("\u6b63\u5728\u52a0\u8f7d\u4e2d"))},this)},createItems:function(){this.createTreePanel(),this.items=[this.treePanel]},createTreePanel:function(){this.treePanel||(this.treePanel=new c(Ext.apply({showTbar:this.showTbar,title:this.title,checkAble:this.checkAble,autoSelectParent:this.autoSelectParent,name:this.name},this.selectorCfg||{}))),this.autoLoadData&&this.load()},reload:function(){this.load()},load:function(){if(this.url){if(this.ajaxId)return;this.autoMask&&this.rendered&&this.getEl().mask(_("\u6b63\u5728\u52a0\u8f7d\u4e2d...")),this.ajaxId=d({url:this.url,jsonData:this.jsonData}),this.ajaxId.success(function(a){this.loadData(a.data)},this).failure(function(a){SF.showErr(a&&a.msg||"\u6570\u636e\u52a0\u8f7d\u5931\u8d25")}).callback(function(){this.ajaxId=null,this.autoMask&&this.rendered&&this.getEl().unmask()},this)}else this.data&&this.loadData(this.data)},loadData:function(a){var b,c;return this.treePanel.getView().rendered?(this.data=a,a=this.parseData(a),this.autoSelectParent||this.addVisibleNode(a),b=this.treePanel.getController(),b.loadData(a),this.treePanel.values&&this.treePanel.setJsonValue(this.treePanel.values),void(a&&a.length&&(c=b.getNodeById(a[0].id),c&&(c.expanded||b.expand(c))))):void this.treePanel.getView().on("afterrender",function(){this.loadData(a)},this,{single:!0})},addVisibleNode:function(a){var b=function(a){Ext.isEmpty(a)||(Ext.each(a,function(a){a.children&&b(a.children)}),a.push({id:Ext.id(),text:"",visible:!1,type:"new"}))};b(a)},parseData:function(a){return a},getSelector:function(){return this.treePanel},destroy:function(){this.ajaxId&&(this.ajaxId.abort(),this.ajaxId=null),e.superclass.destroy.apply(this,arguments)}});b.exports=e});