window.undefined=window.undefined,Ext={version:"3.1.0"},Ext.apply=function(a,b,c){if(c&&Ext.apply(a,c),a&&b&&"object"==typeof b)for(var d in b)a[d]=b[d];return a},function(){var a=0,b=Object.prototype.toString,c=navigator.userAgent.toLowerCase(),d=function(a){return a.test(c)},e=document,f="CSS1Compat"==e.compatMode,g=d(/opera/),h=d(/chrome/),i=d(/webkit/),j=!h&&d(/safari/),k=j&&d(/applewebkit\/4/),l=j&&d(/version\/3/),m=j&&d(/version\/4/),n=!g&&d(/msie/),o=n&&d(/msie 7/),p=n&&d(/msie 8/),q=n&&!o&&!p,r=!i&&d(/gecko/),s=r&&d(/rv:1\.8/),t=r&&d(/rv:1\.9/),u=n&&!f,v=d(/windows|win32/),w=d(/macintosh|mac os x/),x=d(/adobeair/),y=d(/linux/),z=/^https/i.test(window.location.protocol);if(q)try{e.execCommand("BackgroundImageCache",!1,!0)}catch(A){}Ext.apply(Ext,{SSL_SECURE_URL:z&&n?'javascript:""':"about:blank",isStrict:f,isSecure:z,isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!1,enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,applyIf:function(a,b){if(a)for(var c in b)Ext.isDefined(a[c])||(a[c]=b[c]);return a},id:function(b,c){return(b=Ext.getDom(b)||{}).id=b.id||(c||"ext-gen")+ ++a},extend:function(){var a=function(a){for(var b in a)this[b]=a[b]},b=Object.prototype.constructor;return function(c,d,e){Ext.isObject(d)&&(e=d,d=c,c=e.constructor!=b?e.constructor:function(){d.apply(this,arguments)});var f,g=function(){},h=d.prototype;return g.prototype=h,f=c.prototype=new g,f.constructor=c,c.superclass=h,h.constructor==b&&(h.constructor=d),c.override=function(a){Ext.override(c,a)},f.superclass=f.supr=function(){return h},f.override=a,Ext.override(c,e),c.extend=function(a){return Ext.extend(c,a)},c}}(),override:function(a,b){if(b){var c=a.prototype;Ext.apply(c,b),Ext.isIE&&b.hasOwnProperty("toString")&&(c.toString=b.toString)}},namespace:function(){var a,b;return Ext.each(arguments,function(c){b=c.split("."),a=window[b[0]]=window[b[0]]||{},Ext.each(b.slice(1),function(b){a=a[b]=a[b]||{}})}),a},urlEncode:function(a,b){var c,d=[],e=encodeURIComponent;return Ext.iterate(a,function(a,b){c=Ext.isEmpty(b),Ext.each(c?a:b,function(b){d.push("&",e(a),"=",Ext.isEmpty(b)||b==a&&c?"":Ext.isDate(b)?Ext.encode(b).replace(/"/g,""):e(b))})}),b||(d.shift(),b=""),b+d.join("")},urlDecode:function(a,b){if(Ext.isEmpty(a))return{};var c,d,e={},f=a.split("&"),g=decodeURIComponent;return Ext.each(f,function(a){a=a.split("="),c=g(a[0]),d=g(a[1]),e[c]=b||!e[c]?d:[].concat(e[c]).concat(d)}),e},urlAppend:function(a,b){return Ext.isEmpty(b)?a:a+(-1===a.indexOf("?")?"?":"&")+b},toArray:function(){return n?function(a,b,c,d){d=[];for(var e=0,f=a.length;f>e;e++)d.push(a[e]);return d.slice(b||0,c||d.length)}:function(a,b,c){return Array.prototype.slice.call(a,b||0,c||a.length)}}(),isIterable:function(a){return Ext.isArray(a)||a.callee?!0:/NodeList|HTMLCollection/.test(b.call(a))?!0:(a.nextNode||a.item)&&Ext.isNumber(a.length)},each:function(a,b,c){if(!Ext.isEmpty(a,!0)){(!Ext.isIterable(a)||Ext.isPrimitive(a))&&(a=[a]);for(var d=0,e=a.length;e>d;d++)if(b.call(c||a[d],a[d],d,a)===!1)return d}},iterate:function(a,b,c){if(!Ext.isEmpty(a)){if(Ext.isIterable(a))return void Ext.each(a,b,c);if(Ext.isObject(a))for(var d in a)if(a.hasOwnProperty(d)&&b.call(c||a,d,a[d],a)===!1)return}},getDom:function(a){return a&&e?a.dom?a.dom:Ext.isString(a)?e.getElementById(a):a:null},getBody:function(){return Ext.get(e.body||e.documentElement)},removeNode:n&&!p?function(){var a;return function(b){b&&"BODY"!=b.tagName&&(Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(b,!0):Ext.EventManager.removeAll(b),a=a||e.createElement("div"),a.appendChild(b),a.innerHTML="",delete Ext.elCache[b.id])}}():function(a){a&&a.parentNode&&"BODY"!=a.tagName&&(Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(a,!0):Ext.EventManager.removeAll(a),a.parentNode.removeChild(a),delete Ext.elCache[a.id])},isEmpty:function(a,b){return null===a||void 0===a||Ext.isArray(a)&&!a.length||(b?!1:""===a)},isArray:function(a){return"[object Array]"===b.apply(a)},isDate:function(a){return"[object Date]"===b.apply(a)},isObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isPrimitive:function(a){return Ext.isString(a)||Ext.isNumber(a)||Ext.isBoolean(a)},isFunction:function(a){return"[object Function]"===b.apply(a)},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isString:function(a){return"string"==typeof a},isBoolean:function(a){return"boolean"==typeof a},isElement:function(a){return!!a&&a.tagName},isDefined:function(a){return"undefined"!=typeof a},isOpera:g,isWebKit:i,isChrome:h,isSafari:j,isSafari3:l,isSafari4:m,isSafari2:k,isIE:n,isIE6:q,isIE7:o,isIE8:p,isGecko:r,isGecko2:s,isGecko3:t,isBorderBox:u,isLinux:y,isWindows:v,isMac:w,isAir:x}),Ext.ns=Ext.namespace}(),Ext.ns("Ext.util","Ext.lib","Ext.data"),Ext.elCache={},Ext.apply(Function.prototype,{createInterceptor:function(a,b){var c=this;return Ext.isFunction(a)?function(){var d=this,e=arguments;return a.target=d,a.method=c,a.apply(b||d||window,e)!==!1?c.apply(d||window,e):null}:this},createCallback:function(){var a=arguments,b=this;return function(){return b.apply(window,a)}},createDelegate:function(a,b,c){var d=this;return function(){var e=b||arguments;if(c===!0)e=Array.prototype.slice.call(arguments,0),e=e.concat(b);else if(Ext.isNumber(c)){e=Array.prototype.slice.call(arguments,0);var f=[c,0].concat(b);Array.prototype.splice.apply(e,f)}return d.apply(a||window,e)}},defer:function(a,b,c,d){var e=this.createDelegate(b,c,d);return a>0?setTimeout(e,a):(e(),0)}}),Ext.applyIf(String,{format:function(a){var b=Ext.toArray(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})}}),Ext.applyIf(Array.prototype,{indexOf:function(a,b){var c=this.length;for(b=b||0,b+=0>b?c:0;c>b;++b)if(this[b]===a)return b;return-1},remove:function(a){var b=this.indexOf(a);return-1!=b&&this.splice(b,1),this}}),Ext.ns("Ext.grid","Ext.list","Ext.dd","Ext.tree","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.chart","Ext.direct"),Ext.apply(Ext,function(){var a=Ext,b=null;return{emptyFn:function(){},BLANK_IMAGE_URL:Ext.isIE6||Ext.isIE7||Ext.isAir?"http://extjs.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",extendX:function(a,b){return Ext.extend(a,b(a.prototype))},getDoc:function(){return Ext.get(document)},num:function(a,b){return a=Number(Ext.isEmpty(a)||Ext.isBoolean(a)?0/0:a),isNaN(a)?b:a},value:function(a,b,c){return Ext.isEmpty(a,c)?b:a},escapeRe:function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},sequence:function(a,b,c,d){a[b]=a[b].createSequence(c,d)},addBehaviors:function(a){if(Ext.isReady){var b,c,d,e={};for(c in a)(b=c.split("@"))[1]&&(d=b[0],e[d]||(e[d]=Ext.select(d)),e[d].on(b[1],a[c]));e=null}else Ext.onReady(function(){Ext.addBehaviors(a)})},getScrollBarWidth:function(a){if(!Ext.isReady)return 0;if(a===!0||null===b){var c=Ext.getBody().createChild('<div class="x-hide-offsets" style="width:100px;height:50px;overflow:hidden;"><div style="height:200px;"></div></div>'),d=c.child("div",!0),e=d.offsetWidth;c.setStyle("overflow",Ext.isWebKit||Ext.isGecko?"auto":"scroll");var f=d.offsetWidth;c.remove(),b=e-f+2}return b},combine:function(){for(var a=arguments,b=a.length,c=[],d=0;b>d;d++){var e=a[d];Ext.isArray(e)?c=c.concat(e):void 0===e.length||e.substr?c.push(e):c=c.concat(Array.prototype.slice.call(e,0))}return c},copyTo:function(a,b,c){return Ext.isString(c)&&(c=c.split(/[,;\s]/)),Ext.each(c,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])},this),a},destroy:function(){Ext.each(arguments,function(a){a&&(Ext.isArray(a)?this.destroy.apply(this,a):Ext.isFunction(a.destroy)?a.destroy():a.dom&&a.remove())},this)},destroyMembers:function(a){for(var b=1,c=arguments,d=c.length;d>b;b++)Ext.destroy(a[c[b]]),delete a[c[b]]},clean:function(a){var b=[];return Ext.each(a,function(a){a&&b.push(a)}),b},unique:function(a){var b=[],c={};return Ext.each(a,function(a){c[a]||b.push(a),c[a]=!0}),b},flatten:function(a){function b(a){return Ext.each(a,function(a){Ext.isArray(a)?b(a):c.push(a)}),c}var c=[];return b(a)},min:function(a,b){var c=a[0];return b=b||function(a,b){return b>a?-1:1},Ext.each(a,function(a){c=-1==b(c,a)?c:a}),c},max:function(a,b){var c=a[0];return b=b||function(a,b){return a>b?1:-1},Ext.each(a,function(a){c=1==b(c,a)?c:a}),c},mean:function(a){return Ext.sum(a)/a.length},sum:function(a){var b=0;return Ext.each(a,function(a){b+=a}),b},partition:function(a,b){var c=[[],[]];return Ext.each(a,function(a,d,e){c[b&&b(a,d,e)||!b&&a?0:1].push(a)}),c},invoke:function(a,b){var c=[],d=Array.prototype.slice.call(arguments,2);return Ext.each(a,function(a){c.push(a&&Ext.isFunction(a[b])?a[b].apply(a,d):void 0)}),c},pluck:function(a,b){var c=[];return Ext.each(a,function(a){c.push(a[b])}),c},zip:function(){for(var a=Ext.partition(arguments,function(a){return!Ext.isFunction(a)}),b=a[0],c=a[1][0],d=Ext.max(Ext.pluck(b,"length")),e=[],f=0;d>f;f++)if(e[f]=[],c)e[f]=c.apply(c,Ext.pluck(b,f));else for(var g=0,h=b.length;h>g;g++)e[f].push(b[g][f]);return e},getCmp:function(a){return Ext.ComponentMgr.get(a)},useShims:a.isIE6||a.isMac&&a.isGecko2,type:function(a){if(void 0===a||null===a)return!1;if(a.htmlElement)return"element";var b=typeof a;if("object"==b&&a.nodeName)switch(a.nodeType){case 1:return"element";case 3:return/\S/.test(a.nodeValue)?"textnode":"whitespace"}if("object"==b||"function"==b){switch(a.constructor){case Array:return"array";case RegExp:return"regexp";case Date:return"date"}if(Ext.isNumber(a.length)&&Ext.isFunction(a.item))return"nodelist"}return b},intercept:function(a,b,c,d){a[b]=a[b].createInterceptor(c,d)},callback:function(a,b,c,d){Ext.isFunction(a)&&(d?a.defer(d,b,c||[]):a.apply(b,c||[]))}}}()),Ext.apply(Function.prototype,{createSequence:function(a,b){var c=this;return Ext.isFunction(a)?function(){var d=c.apply(this||window,arguments);return a.apply(b||this||window,arguments),d}:this}}),Ext.applyIf(String,{escape:function(a){return a.replace(/('|\\)/g,"\\$1")},leftPad:function(a,b,c){var d=String(a);for(c||(c=" ");d.length<b;)d=c+d;return d}}),String.prototype.toggle=function(a,b){return this==a?b:a},String.prototype.trim=function(){var a=/^\s+|\s+$/g;return function(){return this.replace(a,"")}}(),Date.prototype.getElapsed=function(a){return Math.abs((a||new Date).getTime()-this.getTime())},Ext.applyIf(Number.prototype,{constrain:function(a,b){return Math.min(Math.max(this,a),b)}}),Ext.util.TaskRunner=function(a){a=a||10;var b=[],c=[],d=0,e=!1,f=function(){e=!1,clearInterval(d),d=0},g=function(){e||(e=!0,d=setInterval(i,a))},h=function(a){c.push(a),a.onStop&&a.onStop.apply(a.scope||a)},i=function(){var a=c.length,d=(new Date).getTime();if(a>0){for(var e=0;a>e;e++)b.remove(c[e]);if(c=[],b.length<1)return void f()}for(var g,i,j,e=0,k=b.length;k>e;++e){if(g=b[e],i=d-g.taskRunTime,g.interval<=i&&(j=g.run.apply(g.scope||g,g.args||[++g.taskRunCount]),g.taskRunTime=d,j===!1||g.taskRunCount===g.repeat))return void h(g);g.duration&&g.duration<=d-g.taskStartTime&&h(g)}};this.start=function(a){return b.push(a),a.taskStartTime=(new Date).getTime(),a.taskRunTime=0,a.taskRunCount=0,g(),a},this.stop=function(a){return h(a),a},this.stopAll=function(){f();for(var a=0,d=b.length;d>a;a++)b[a].onStop&&b[a].onStop();b=[],c=[]}},Ext.TaskMgr=new Ext.util.TaskRunner,function(){function a(a){return c||(c=new Ext.Element.Flyweight),c.dom=a,c}function b(){var a=Function.prototype;delete a.createSequence,delete a.defer,delete a.createDelegate,delete a.createCallback,delete a.createInterceptor,window.detachEvent("onunload",b)}var c;!function(){var b=document,c="CSS1Compat"==b.compatMode,d=Math.max,e=Math.round,f=parseInt;Ext.lib.Dom={isAncestor:function(a,b){var c=!1;if(a=Ext.getDom(a),b=Ext.getDom(b),a&&b){if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(16&a.compareDocumentPosition(b));for(;b=b.parentNode;)c=b==a||c}return c},getViewWidth:function(a){return a?this.getDocumentWidth():this.getViewportWidth()},getViewHeight:function(a){return a?this.getDocumentHeight():this.getViewportHeight()},getDocumentHeight:function(){return d(c?b.documentElement.scrollHeight:b.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return d(c?b.documentElement.scrollWidth:b.body.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?Ext.isStrict?b.documentElement.clientHeight:b.body.clientHeight:self.innerHeight},getViewportWidth:function(){return Ext.isStrict||Ext.isOpera?Ext.isIE?b.documentElement.clientWidth:self.innerWidth:b.body.clientWidth},getY:function(a){return this.getXY(a)[1]},getX:function(a){return this.getXY(a)[0]},getXY:function(c){var d,g,h,i,j,k,l,m,n=0,o=0,p=b.body||b.documentElement,q=[0,0];if(c=Ext.getDom(c),c!=p)if(c.getBoundingClientRect)h=c.getBoundingClientRect(),l=a(document).getScroll(),q=[e(h.left+l.left),e(h.top+l.top)];else{for(d=c,m=a(c).isStyle("position","absolute");d;)g=a(d),n+=d.offsetLeft,o+=d.offsetTop,m=m||g.isStyle("position","absolute"),Ext.isGecko&&(o+=i=f(g.getStyle("borderTopWidth"),10)||0,n+=j=f(g.getStyle("borderLeftWidth"),10)||0,d==c||g.isStyle("overflow","visible")||(n+=j,o+=i)),d=d.offsetParent;for(Ext.isSafari&&m&&(n-=p.offsetLeft,o-=p.offsetTop),Ext.isGecko&&!m&&(k=a(p),n+=f(k.getStyle("borderLeftWidth"),10)||0,o+=f(k.getStyle("borderTopWidth"),10)||0),d=c.parentNode;d&&d!=p;)(!Ext.isOpera||"TR"!=d.tagName&&!a(d).isStyle("display","inline"))&&(n-=d.scrollLeft,o-=d.scrollTop),d=d.parentNode;q=[n,o]}return q},setXY:function(a,b){(a=Ext.fly(a,"_setXY")).position();var c,d=a.translatePoints(b),e=a.dom.style;for(c in d)isNaN(d[c])||(e[c]=d[c]+"px")},setX:function(a,b){this.setXY(a,[b,!1])},setY:function(a,b){this.setXY(a,[!1,b])}}}(),Ext.lib.Dom.getRegion=function(a){return Ext.lib.Region.getRegion(a)},Ext.lib.Event=function(){function a(a){return!b(a.currentTarget,B.getRelatedTarget(a))}function b(a,b){if(a&&a.firstChild)for(;b;){if(b===a)return!0;b=b.parentNode,b&&1!=b.nodeType&&(b=null)}return!1}function c(){var a,b,c,e,f=!1,i=[],m=!h||j>0;if(!l){for(l=!0,b=0,c=k.length;c>b;b++)e=k[b],e&&(a=n.getElementById(e.id))&&(!e.checkReady||h||a.nextSibling||n&&n.body?(a=e.override?e.override===!0?e.obj:e.override:a,e.fn.call(a,e.obj),e=null):i.push(e));j=0===i.length?0:j-1,m?d():(clearInterval(g),g=null),f=!(l=!1)}return f}function d(){if(!g){var a=function(){c()};g=setInterval(a,p)}}function e(){var a=n.documentElement,b=n.body;return a&&(a[v]||a[u])?[a[u],a[v]]:b?[b[u],b[v]]:[0,0]}function f(a,b){a=a.browserEvent||a;var c=a["page"+b];return c||0===c||(c=a["client"+b]||0,Ext.isIE&&(c+=e()["X"==b?0:1])),c}var g,h=!1,i={},j=0,k=[],l=!1,m=window,n=document,o=200,p=20,q=0,r=1,s=2,t=3,u="scrollLeft",v="scrollTop",w="unload",x="mouseover",y="mouseout",z=function(){var b;return b=m.addEventListener?function(b,c,d,e){return"mouseenter"==c?(d=d.createInterceptor(a),b.addEventListener(x,d,e)):"mouseleave"==c?(d=d.createInterceptor(a),b.addEventListener(y,d,e)):b.addEventListener(c,d,e),d}:m.attachEvent?function(a,b,c){return a.attachEvent("on"+b,c),c}:function(){}}(),A=function(){var a;return a=m.removeEventListener?function(a,b,c,d){"mouseenter"==b?b=x:"mouseleave"==b&&(b=y),a.removeEventListener(b,c,d)}:m.detachEvent?function(a,b,c){a.detachEvent("on"+b,c)}:function(){}}(),B={extAdapter:!0,onAvailable:function(a,b,c,e){k.push({id:a,fn:b,obj:c,override:e,checkReady:!1}),j=o,d()},addListener:function(a,b,c){return a=Ext.getDom(a),a&&c?b==w?(void 0===i[a.id]&&(i[a.id]=[]),i[a.id].push([b,c]),c):z(a,b,c,!1):!1},removeListener:function(a,b,c){a=Ext.getDom(a);var d,e,f;if(a&&c){if(b==w){if(void 0!==i[id])for(d=0,e=i[id].length;e>d;d++)f=i[id][d],f&&f[q]==b&&f[r]==c&&i[id].splice(d,1);return}A(a,b,c,!1)}},getTarget:function(a){return a=a.browserEvent||a,this.resolveTextNode(a.target||a.srcElement)},resolveTextNode:Ext.isGecko?function(a){if(a){var b=HTMLElement.prototype.toString.call(a);if("[xpconnect wrapped native prototype]"!=b&&"[object XULElement]"!=b)return 3==a.nodeType?a.parentNode:a}}:function(a){return a&&3==a.nodeType?a.parentNode:a},getRelatedTarget:function(a){return a=a.browserEvent||a,this.resolveTextNode(a.relatedTarget||(a.type==y?a.toElement:a.type==x?a.fromElement:null))},getPageX:function(a){return f(a,"X")},getPageY:function(a){return f(a,"Y")},getXY:function(a){return[this.getPageX(a),this.getPageY(a)]},stopEvent:function(a){this.stopPropagation(a),this.preventDefault(a)},stopPropagation:function(a){a=a.browserEvent||a,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},preventDefault:function(a){a=a.browserEvent||a,a.preventDefault?a.preventDefault():a.returnValue=!1},getEvent:function(a){if(a=a||m.event,!a)for(var b=this.getEvent.caller;b&&(a=b.arguments[0],!a||Event!=a.constructor);)b=b.caller;return a},getCharCode:function(a){return a=a.browserEvent||a,a.charCode||a.keyCode||0},getListeners:function(a,b){Ext.EventManager.getListeners(a,b)},purgeElement:function(a,b,c){Ext.EventManager.purgeElement(a,b,c)},_load:function(a){h=!0;Ext.lib.Event;Ext.isIE&&a!==!0&&A(m,"load",arguments.callee)},_unload:function(a){var b,c,d,e,f,g,h=Ext.lib.Event;for(e in i)for(d=i[e],b=0,f=d.length;f>b;b++)if(c=d[b])try{g=c[t]?c[t]===!0?c[s]:c[t]:m,c[r].call(g,h.getEvent(a),c[s])}catch(j){}i=null,Ext.EventManager._unload(),A(m,w,h._unload)}};return B.on=B.addListener,B.un=B.removeListener,n&&n.body?B._load(!0):z(m,"load",B._load),z(m,w,B._unload),c(),B}(),Ext.lib.Ajax=function(){function a(a){function b(a,b){for(c in b)b.hasOwnProperty(c)&&a.setRequestHeader(c,b[c])}var c,d=a.conn;m.defaultHeaders&&b(d,m.defaultHeaders),m.headers&&(b(d,m.headers),delete m.headers)}function b(a,b,c,d){return{tId:a,status:c?-1:0,statusText:c?"transaction aborted":"communication failure",isAbort:c,isTimeout:d,argument:b}}function c(a,b){(m.headers=m.headers||{})[a]=b}function d(a,b){var c,d,e,f={},g=a.conn;try{c=a.conn.getAllResponseHeaders(),Ext.each(c.replace(/\r\n/g,"\n").split("\n"),function(a){d=a.indexOf(":"),d>=0&&(e=a.substr(0,d).toLowerCase()," "==a.charAt(d+1)&&++d,f[e]=a.substr(d+1))})}catch(h){}return{tId:a.tId,status:g.status,statusText:g.statusText,getResponseHeader:function(a){return f[a.toLowerCase()]},getAllResponseHeaders:function(){return c},responseText:g.responseText,responseXML:g.responseXML,argument:b}}function e(a){a.conn=null,a=null}function f(a,c,f,g){if(!c)return void e(a);var h,i;try{h=void 0!==a.conn.status&&0!=a.conn.status?a.conn.status:13030}catch(j){h=13030}if(h>=200&&300>h||Ext.isIE&&1223==h)i=d(a,c.argument),c.success&&(c.scope?c.success.apply(c.scope,[i]):c.success(i));else switch(h){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:i=b(a.tId,c.argument,f?f:!1,g),c.failure&&(c.scope?c.failure.apply(c.scope,[i]):c.failure(i));break;default:i=d(a,c.argument),c.failure&&(c.scope?c.failure.apply(c.scope,[i]):c.failure(i))}e(a),i=null}function g(a,b){b=b||{};var c=a.conn,d=a.tId,e=m.poll,g=b.timeout||null;g&&(m.timeout[d]=setTimeout(function(){m.abort(a,b,!0)},g)),e[d]=setInterval(function(){c&&4==c.readyState&&(clearInterval(e[d]),e[d]=null,g&&(clearTimeout(m.timeout[d]),m.timeout[d]=null),f(a,b))},m.pollInterval)}function h(b,d,e,f){var h=i()||null;return h&&(h.conn.open(b,d,!0),m.useDefaultXhrHeader&&c("X-Requested-With",m.defaultXhrHeader),!f||!m.useDefaultHeader||m.headers&&m.headers[l]||c(l,m.defaultPostHeader),(m.defaultHeaders||m.headers)&&a(h),g(h,e),h.conn.send(f||null)),h}function i(){var a;try{(a=j(m.transactionId))&&m.transactionId++}catch(b){}finally{return a}}function j(a){var b;try{b=new XMLHttpRequest}catch(c){for(var d=0;d<k.length;++d)try{b=new ActiveXObject(k[d]);break}catch(c){}}finally{return{conn:b,tId:a}}}var k=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],l="Content-Type",m={request:function(a,b,d,e,f){if(f){var g,i=this,j=f.xmlData,k=f.jsonData;Ext.applyIf(i,f),(j||k)&&(g=i.headers,g&&g[l]||c(l,j?"text/xml":"application/json"),e=j||(Ext.isPrimitive(k)?k:Ext.encode(k)))}return h(a||f.method||"POST",b,d,e)},serializeForm:function(a){var b,c,d=a.elements||(document.forms[a]||Ext.getDom(a)).elements,e=!1,f=encodeURIComponent,g="";return Ext.each(d,function(a){b=a.name,c=a.type,!a.disabled&&b&&(/select-(one|multiple)/i.test(c)?Ext.each(a.options,function(a){a.selected&&(g+=String.format("{0}={1}&",f(b),f((a.hasAttribute?a.hasAttribute("value"):null!==a.getAttribute("value"))?a.value:a.text)))}):/file|undefined|reset|button/i.test(c)||/radio|checkbox/i.test(c)&&!a.checked||"submit"==c&&e||(g+=f(b)+"="+f(a.value)+"&",e=/submit/i.test(c)))}),g.substr(0,g.length-1)},useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",poll:{},timeout:{},pollInterval:50,transactionId:0,abort:function(a,b,c){var d=this,e=a.tId,g=!1;return d.isCallInProgress(a)&&(a.conn.abort(),clearInterval(d.poll[e]),d.poll[e]=null,clearTimeout(m.timeout[e]),d.timeout[e]=null,f(a,b,g=!0,c)),g},isCallInProgress:function(a){return a.conn&&!{0:!0,4:!0}[a.conn.readyState]}};return m}(),Ext.lib.Region=function(a,b,c,d){var e=this;e.top=a,e[1]=a,e.right=b,e.bottom=c,e.left=d,e[0]=d},Ext.lib.Region.prototype={contains:function(a){var b=this;return a.left>=b.left&&a.right<=b.right&&a.top>=b.top&&a.bottom<=b.bottom},getArea:function(){var a=this;return(a.bottom-a.top)*(a.right-a.left)},intersect:function(a){var b=this,c=Math.max(b.top,a.top),d=Math.min(b.right,a.right),e=Math.min(b.bottom,a.bottom),f=Math.max(b.left,a.left);return e>=c&&d>=f?new Ext.lib.Region(c,d,e,f):void 0},union:function(a){var b=this,c=Math.min(b.top,a.top),d=Math.max(b.right,a.right),e=Math.max(b.bottom,a.bottom),f=Math.min(b.left,a.left);return new Ext.lib.Region(c,d,e,f)},constrainTo:function(a){var b=this;return b.top=b.top.constrain(a.top,a.bottom),b.bottom=b.bottom.constrain(a.top,a.bottom),b.left=b.left.constrain(a.left,a.right),b.right=b.right.constrain(a.left,a.right),b},adjust:function(a,b,c,d){var e=this;return e.top+=a,e.left+=b,e.right+=d,e.bottom+=c,e}},Ext.lib.Region.getRegion=function(a){var b=Ext.lib.Dom.getXY(a),c=b[1],d=b[0]+a.offsetWidth,e=b[1]+a.offsetHeight,f=b[0];return new Ext.lib.Region(c,d,e,f)},Ext.lib.Point=function(a,b){Ext.isArray(a)&&(b=a[1],a=a[0]);var c=this;c.x=c.right=c.left=c[0]=a,c.y=c.top=c.bottom=c[1]=b},Ext.lib.Point.prototype=new Ext.lib.Region,function(){var a=Ext.lib,b=/width|height|opacity|padding/i,c=/^((width|height)|(top|left))$/,d=/width|height|top$|bottom$|left$|right$/i,e=/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i,f=function(a){return"undefined"!=typeof a},g=function(){return new Date};a.Anim={motion:function(a,b,c,d,e,f){return this.run(a,b,c,d,e,f,Ext.lib.Motion)},run:function(a,b,c,d,e,f,g){g=g||Ext.lib.AnimBase,"string"==typeof d&&(d=Ext.lib.Easing[d]);var h=new g(a,b,c,d);return h.animateX(function(){Ext.isFunction(e)&&e.call(f)}),h}},a.AnimBase=function(a,b,c,d){a&&this.init(a,b,c,d)},a.AnimBase.prototype={doMethod:function(a,b,c){var d=this;return d.method(d.curFrame,b,c-b,d.totalFrames)},setAttr:function(a,c,d){b.test(a)&&0>c&&(c=0),Ext.fly(this.el,"_anim").setStyle(a,c+d)},getAttr:function(a){var b=Ext.fly(this.el),d=b.getStyle(a),f=c.exec(a)||[];return"auto"===d||e.test(d)?f[2]||"absolute"==b.getStyle("position")&&f[3]?b.dom["offset"+f[0].charAt(0).toUpperCase()+f[0].substr(1)]:0:parseFloat(d)},getDefaultUnit:function(a){return d.test(a)?"px":""},animateX:function(a,b){var c=this,d=function(){c.onComplete.removeListener(d),Ext.isFunction(a)&&a.call(b||c,c)};c.onComplete.addListener(d,c),c.animate()},setRunAttr:function(a){var b,c=this,d=this.attributes[a],e=d.to,g=d.by,h=d.from,i=d.unit,j=this.runAttrs[a]={};if(!f(e)&&!f(g))return!1;var k=f(h)?h:c.getAttr(a);if(f(e))b=e;else if(f(g))if(Ext.isArray(k)){b=[];for(var l=0,m=k.length;m>l;l++)b[l]=k[l]+g[l]}else b=k+g;Ext.apply(j,{start:k,end:b,unit:f(i)?i:c.getDefaultUnit(a)})},init:function(b,c,d,e){var f=this,h=0,i=a.AnimMgr;Ext.apply(f,{isAnimated:!1,startTime:null,el:Ext.getDom(b),attributes:c||{},duration:d||1,method:e||a.Easing.easeNone,useSec:!0,curFrame:0,totalFrames:i.fps,runAttrs:{},animate:function(){var a=this,b=a.duration;return a.isAnimated?!1:(a.curFrame=0,a.totalFrames=a.useSec?Math.ceil(i.fps*b):b,void i.registerElement(a))},stop:function(a){var b=this;a&&(b.curFrame=b.totalFrames,b._onTween.fire()),i.stop(b)}});var j=function(){var a,b=this;b.onStart.fire(),b.runAttrs={};for(a in this.attributes)this.setRunAttr(a);b.isAnimated=!0,b.startTime=g(),h=0},k=function(){var a=this;a.onTween.fire({duration:g()-a.startTime,curFrame:a.curFrame});var b=a.runAttrs;for(var c in b)this.setAttr(c,a.doMethod(c,b[c].start,b[c].end),b[c].unit);++h},l=function(){var a=this,b=(g()-a.startTime)/1e3,c={duration:b,frames:h,fps:h/b};a.isAnimated=!1,h=0,a.onComplete.fire(c)};f.onStart=new Ext.util.Event(f),f.onTween=new Ext.util.Event(f),f.onComplete=new Ext.util.Event(f),(f._onStart=new Ext.util.Event(f)).addListener(j),(f._onTween=new Ext.util.Event(f)).addListener(k),(f._onComplete=new Ext.util.Event(f)).addListener(l)}},Ext.lib.AnimMgr=new function(){var a=this,b=null,c=[],d=0;Ext.apply(a,{fps:1e3,delay:1,registerElement:function(b){c.push(b),++d,b._onStart.fire(),a.start()},unRegister:function(b,f){b._onComplete.fire(),f=f||e(b),-1!=f&&c.splice(f,1),--d<=0&&a.stop()},start:function(){null===b&&(b=setInterval(a.run,a.delay))},stop:function(e){if(e)a.unRegister(e);else{clearInterval(b);for(var f=0,g=c.length;g>f;++f)c[0].isAnimated&&a.unRegister(c[0],0);c=[],b=null,d=0}},run:function(){var b,d,e,g;for(d=0,e=c.length;e>d;d++)g=c[d],g&&g.isAnimated&&(b=g.totalFrames,g.curFrame<b||null===b?(++g.curFrame,g.useSec&&f(g),g._onTween.fire()):a.stop(g))}});var e=function(a){var b,d;for(b=0,d=c.length;d>b;b++)if(c[b]===a)return b;return-1},f=function(a){var b=a.totalFrames,c=a.curFrame,d=a.duration,e=c*d*1e3/b,f=g()-a.startTime,h=0;h=1e3*d>f?Math.round((f/e-1)*c):b-(c+1),h>0&&isFinite(h)&&(a.curFrame+h>=b&&(h=b-(c+1)),a.curFrame+=h)}},a.Bezier=new function(){this.getPosition=function(a,b){var c,d,e=a.length,f=[],g=1-b;for(c=0;e>c;++c)f[c]=[a[c][0],a[c][1]];for(d=1;e>d;++d)for(c=0;e-d>c;++c)f[c][0]=g*f[c][0]+b*f[parseInt(c+1,10)][0],f[c][1]=g*f[c][1]+b*f[parseInt(c+1,10)][1];return[f[0][0],f[0][1]]}},a.Easing={easeNone:function(a,b,c,d){return c*a/d+b},easeIn:function(a,b,c,d){return c*(a/=d)*a+b},easeOut:function(a,b,c,d){return-c*(a/=d)*(a-2)+b}},function(){a.Motion=function(b,c,d,e){b&&a.Motion.superclass.constructor.call(this,b,c,d,e)},Ext.extend(a.Motion,Ext.lib.AnimBase);var b=a.Motion.superclass,c=(a.Motion.prototype,/^points$/i);Ext.apply(a.Motion.prototype,{setAttr:function(a,d,e){var f=this,g=b.setAttr;c.test(a)?(e=e||"px",g.call(f,"left",d[0],e),g.call(f,"top",d[1],e)):g.call(f,a,d,e)},getAttr:function(a){var d=this,e=b.getAttr;return c.test(a)?[e.call(d,"left"),e.call(d,"top")]:e.call(d,a)},doMethod:function(d,e,f){var g=this;return c.test(d)?a.Bezier.getPosition(g.runAttrs[d],g.method(g.curFrame,0,100,g.totalFrames)/100):b.doMethod.call(g,d,e,f)},setRunAttr:function(e){if(c.test(e)){var g,h,i,j,k,l=this,m=this.el,n=this.attributes.points,o=n.control||[],p=n.from,q=n.to,r=n.by,s=a.Dom;if(o.length>0&&!Ext.isArray(o[0])&&(o=[o]),Ext.fly(m,"_anim").position(),s.setXY(m,f(p)?p:s.getXY(m)),g=l.getAttr("points"),f(q))for(i=d.call(l,q,g),h=0,j=o.length;j>h;++h)o[h]=d.call(l,o[h],g);else if(f(r))for(i=[g[0]+r[0],g[1]+r[1]],h=0,j=o.length;j>h;++h)o[h]=[g[0]+o[h][0],g[1]+o[h][1]];k=this.runAttrs[e]=[g],o.length>0&&(k=k.concat(o)),k[k.length]=i}else b.setRunAttr.call(this,e)}});var d=function(b,c){var d=a.Dom.getXY(this.el);return[b[0]-d[0]+c[0],b[1]-d[1]+c[1]]}}()}(),function(){var a=Math.abs,b=Math.PI,c=Math.asin,d=Math.pow,e=Math.sin,f=Ext.lib;Ext.apply(f.Easing,{easeBoth:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInStrong:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeOutStrong:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeBothStrong:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},elasticIn:function(f,g,h,i,j,k){if(0==f||1==(f/=i))return 0==f?g:g+h;k=k||.3*i;var l;return j>=a(h)?l=k/(2*b)*c(h/j):(j=h,l=k/4),-(j*d(2,10*(f-=1))*e(2*(f*i-l)*b/k))+g},elasticOut:function(f,g,h,i,j,k){if(0==f||1==(f/=i))return 0==f?g:g+h;k=k||.3*i;var l;return j>=a(h)?l=k/(2*b)*c(h/j):(j=h,l=k/4),j*d(2,-10*f)*e(2*(f*i-l)*b/k)+h+g},elasticBoth:function(f,g,h,i,j,k){if(0==f||2==(f/=i/2))return 0==f?g:g+h;k=k||.3*i*1.5;var l;return j>=a(h)?l=k/(2*b)*c(h/j):(j=h,l=k/4),1>f?-.5*j*d(2,10*(f-=1))*e(2*(f*i-l)*b/k)+g:j*d(2,-10*(f-=1))*e(2*(f*i-l)*b/k)*.5+h+g},backIn:function(a,b,c,d,e){return e=e||1.70158,c*(a/=d)*a*((e+1)*a-e)+b},backOut:function(a,b,c,d,e){return e||(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},backBoth:function(a,b,c,d,e){return e=e||1.70158,(a/=d/2)<1?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},bounceIn:function(a,b,c,d){return c-f.Easing.bounceOut(d-a,0,c,d)+b},bounceOut:function(a,b,c,d){return(a/=d)<1/2.75?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},bounceBoth:function(a,b,c,d){return d/2>a?.5*f.Easing.bounceIn(2*a,0,c,d)+b:.5*f.Easing.bounceOut(2*a-d,0,c,d)+.5*c+b}})}(),function(){function a(a){var b,c,d=parseInt,e=null;return 3==a.length?a:(Ext.each([g,f,h],function(f,g){return b=g%2==0?16:10,c=f.exec(a),c&&4==c.length?(e=[d(c[1],b),d(c[2],b),d(c[3],b)],!1):void 0}),e)}var b=Ext.lib;b.Anim.color=function(a,c,d,e,f,g){return b.Anim.run(a,c,d,e,f,g,b.ColorAnim)},b.ColorAnim=function(a,c,d,e){b.ColorAnim.superclass.constructor.call(this,a,c,d,e)},Ext.extend(b.ColorAnim,b.AnimBase);var c=b.ColorAnim.superclass,d=/color$/i,e=/^transparent|rgba\(0, 0, 0, 0\)$/,f=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,g=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,h=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,i=function(a){return"undefined"!=typeof a};Ext.apply(b.ColorAnim.prototype,{getAttr:function(a){var b,f=this,g=f.el;if(d.test(a))for(;g&&e.test(b=Ext.fly(g).getStyle(a));)g=g.parentNode,b="fff";else b=c.getAttr.call(f,a);return b},doMethod:function(a,b,e){var f,g,h,i=this,j=Math.floor,k=b.length;if(d.test(a)){for(f=[],g=0;k>g;g++)h=b[g],f[g]=c.doMethod.call(i,a,h,e[g]);f="rgb("+j(f[0])+","+j(f[1])+","+j(f[2])+")"}else f=c.doMethod.call(i,a,b,e);return f},setRunAttr:function(b){var e,f=this,g=f.attributes[b],h=g.to,j=g.by;if(c.setRunAttr.call(f,b),e=f.runAttrs[b],d.test(b)){var k=a(e.start),l=a(e.end);if(!i(h)&&i(j)){l=a(j);for(var m=0,n=k.length;n>m;m++)l[m]=k[m]+l[m]}e.start=k,e.end=l}}})}(),function(){var a=Ext.lib;a.Anim.scroll=function(b,c,d,e,f,g){return a.Anim.run(b,c,d,e,f,g,a.Scroll)},a.Scroll=function(b,c,d,e){b&&a.Scroll.superclass.constructor.call(this,b,c,d,e)},Ext.extend(a.Scroll,a.ColorAnim);var b=a.Scroll.superclass,c="scroll";Ext.apply(a.Scroll.prototype,{doMethod:function(a,d,e){var f,g=this,h=g.curFrame,i=g.totalFrames;return f=a==c?[g.method(h,d[0],e[0]-d[0],i),g.method(h,d[1],e[1]-d[1],i)]:b.doMethod.call(g,a,d,e)},getAttr:function(a){var d=this;return a==c?[d.el.scrollLeft,d.el.scrollTop]:b.getAttr.call(d,a)},setAttr:function(a,d,e){var f=this;a==c?(f.el.scrollLeft=d[0],f.el.scrollTop=d[1]):b.setAttr.call(f,a,d,e)}})}(),Ext.isIE&&window.attachEvent("onunload",b)}(),function(){var a,b,c=Ext,d=c.isIE6,e=document.documentMode,f=navigator.userAgent.toLowerCase(),g=function(a){return a.test(f)};a=c.isIE&&g(/msie 6/),b=a!==d,b&&(c.isIE6=a,c.isIE9=c.isIE&&(g(/msie 9/)&&7!=e&&8!=e||9==e),c.BLANK_IMAGE_URL=a||c.isIE7||c.isAir?"http://extjs.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",c.useShims=a||c.isMac&&c.isGecko2)}(),function(){function a(a,b){a&&b&&"object"==typeof b&&(Ext.apply(a,b),b.constructor!==Object&&(a.constructor.$methodName="constructor",b.constructor.$methodName="constructor"))}Ext.apply=function(a,b,c){if(c&&Ext.apply(a,c),a&&b&&"object"==typeof b)for(var d in b)a[d]=b[d],"function"==typeof b[d]&&(a[d].$methodName||(a[d].$methodName=d),b[d].$methodName||(b[d].$methodName=d));return a},Ext.extend=function(){var b=function(b){a(this,b)
},c=Object.prototype.constructor;return function(a,d,e){"object"==typeof d&&(e=d,d=a,a=e.constructor!=c?e.constructor:function(){d.apply(this,arguments)});var f,g=function(){},h=d.prototype;return g.prototype=h,f=a.prototype=new g,f.constructor=a,a.superclass=h,h.constructor==c&&(h.constructor=d),a.override=function(b){Ext.override(a,b)},f.superclass=f.supr=function(){return h},f.override=b,f.callParent=function(a){var b,c=h,d=arguments.callee.caller.$methodName,e=d+"__deep__length__";this[e]=this[e]||0;for(var f=this[e];f-->0;)c=c.supr();return c[d]===arguments.callee.caller&&(c=c.supr()),this[e]=this[e]+1,b=c[d].apply(this,a||[]),delete this[e],b},Ext.override(a,e),a.extend=function(b){return Ext.extend(a,b)},a}}(),Ext.override=function(b,c){if(c){var d=b.prototype;a(d,c),Ext.isIE&&c.hasOwnProperty("toString")&&(d.toString=c.toString)}}}(),Ext.DomHelper=function(){function a(a,c,d,f){var g=e.insertHtml(f,Ext.getDom(a),b(c));return d?Ext.get(g,!0):g}function b(a){var c,d="";if(Ext.isString(a))d=a;else if(Ext.isArray(a))for(var e=0;e<a.length;e++)a[e]&&(d+=b(a[e]));else d+="<"+(a.tag=a.tag||"div"),Ext.iterate(a,function(a,b){/tag|children|cn|html$/i.test(a)||(Ext.isObject(b)?(d+=" "+a+'="',Ext.iterate(b,function(a,b){d+=a+":"+b+";"}),d+='"'):d+=" "+({cls:"class",htmlFor:"for"}[a]||a)+'="'+b+'"')}),g.test(a.tag)?d+="/>":(d+=">",(c=a.children||a.cn)?d+=b(c):a.html&&(d+=a.html),d+="</"+a.tag+">");return d}function c(a,b,c,d){f.innerHTML=[b,c,d].join("");for(var e,g=-1,h=f;++g<a;)h=h.firstChild;if(e=h.nextSibling){for(var i=document.createDocumentFragment();h;)e=h.nextSibling,i.appendChild(h),h=e;h=i}return h}function d(a,b,d,e){var g,h;return f=f||document.createElement("div"),("td"!=a||b!=i&&b!=l)&&(/td|tr|tbody/i.test(a)||b!=k&&b!=j)?(h=b==k?d:b==j?d.nextSibling:b==i?d.firstChild:null,(b==k||b==j)&&(d=d.parentNode),g="td"==a||"tr"==a&&(b==l||b==i)?c(4,q,e,r):"tbody"==a&&(b==l||b==i)||"tr"==a&&(b==k||b==j)?c(3,o,e,p):c(2,m,e,n),d.insertBefore(g,h),g):void 0}var e,f=null,g=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,h=/^table|tbody|tr|td$/i,i="afterbegin",j="afterend",k="beforebegin",l="beforeend",m="<table>",n="</table>",o=m+"<tbody>",p="</tbody>"+n,q=o+"<tr>",r="</tr>"+p;return e={markup:function(a){return b(a)},applyStyles:function(a,b){if(b){var c,d=0;if(a=Ext.fly(a),Ext.isFunction(b)&&(b=b.call()),Ext.isString(b))for(b=b.trim().split(/\s*(?::|;)\s*/),c=b.length;c>d;)a.setStyle(b[d++],b[d++]);else Ext.isObject(b)&&a.setStyle(b)}},insertHtml:function(a,b,c){var e,f,g,m,n,o,p={};if(a=a.toLowerCase(),p[k]=["BeforeBegin","previousSibling"],p[j]=["AfterEnd","nextSibling"],!b.insertAdjacentHTML)return g=b.ownerDocument.createRange(),f="setStart"+(/end/i.test(a)?"After":"Before"),p[a]?(g[f](b),m=g.createContextualFragment(c),b.parentNode.insertBefore(m,a==k?b:b.nextSibling),b[(a==k?"previous":"next")+"Sibling"]):(n=(a==i?"first":"last")+"Child",b.firstChild?(g[f](b[n]),m=g.createContextualFragment(c),a==i?b.insertBefore(m,b.firstChild):b.appendChild(m)):b.innerHTML=c,b[n]);if(h.test(b.tagName)&&(o=d(b.tagName.toLowerCase(),a,b,c)))return o;if(p[i]=["AfterBegin","firstChild"],p[l]=["BeforeEnd","lastChild"],e=p[a])return b.insertAdjacentHTML(e[0],c),b[e[1]];throw'Illegal insertion point -> "'+a+'"'},insertBefore:function(b,c,d){return a(b,c,d,k)},insertAfter:function(b,c,d){return a(b,c,d,j,"nextSibling")},insertFirst:function(b,c,d){return a(b,c,d,i,"firstChild")},append:function(b,c,d){return a(b,c,d,l,"",!0)},overwrite:function(a,c,d){return a=Ext.getDom(a),a.innerHTML=b(c),d?Ext.get(a.firstChild):a.firstChild},createHtml:b}}(),Ext.apply(Ext.DomHelper,function(){function a(a,d,e,f,g,h){a=Ext.getDom(a);var i;return c.useDom?(i=b(d,null),h?a.appendChild(i):("firstChild"==g?a:a.parentNode).insertBefore(i,a[g]||a)):i=Ext.DomHelper.insertHtml(f,a,Ext.DomHelper.createHtml(d)),e?Ext.get(i,!0):i}function b(a,c){var d,e,f,g=document;return Ext.isArray(a)?(d=g.createDocumentFragment(),Ext.each(a,function(a){b(a,d)})):Ext.isString(a)?d=g.createTextNode(a):(d=g.createElement(a.tag||"div"),e=!!d.setAttribute,Ext.iterate(a,function(a,b){/tag|children|cn|html|style/.test(a)||("cls"==a?d.className=b:e?d.setAttribute(a,b):d[a]=b)}),Ext.DomHelper.applyStyles(d,a.style),(f=a.children||a.cn)?b(f,d):a.html&&(d.innerHTML=a.html)),c&&c.appendChild(d),d}var c,d="afterbegin",e="afterend",f="beforebegin",g="beforeend";return c={createTemplate:function(a){var b=Ext.DomHelper.createHtml(a);return new Ext.Template(b)},useDom:!1,insertBefore:function(b,c,d){return a(b,c,d,f)},insertAfter:function(b,c,d){return a(b,c,d,e,"nextSibling")},insertFirst:function(b,c,e){return a(b,c,e,d,"firstChild")},append:function(b,c,d){return a(b,c,d,g,"",!0)},createDom:b}}()),Ext.Template=function(a){var b=this,c=arguments,d=[];Ext.isArray(a)?a=a.join(""):c.length>1&&(Ext.each(c,function(a){Ext.isObject(a)?Ext.apply(b,a):d.push(a)}),a=d.join("")),b.html=a,b.compiled&&b.compile()},Ext.Template.prototype={re:/\{([\w-]+)\}/g,applyTemplate:function(a){var b=this;return b.compiled?b.compiled(a):b.html.replace(b.re,function(b,c){return void 0!==a[c]?a[c]:""})},set:function(a,b){var c=this;return c.html=a,c.compiled=null,b?c.compile():c},compile:function(){function fn(a,b){return b="values['"+b+"']","'"+sep+"("+b+" == undefined ? '' : "+b+")"+sep+"'"}var me=this,sep=Ext.isGecko?"+":",";return eval("this.compiled = function(values){ return "+(Ext.isGecko?"'":"['")+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+(Ext.isGecko?"';};":"'].join('');};")),me},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){b=Ext.getDom(b);var e=Ext.DomHelper.insertHtml(a,b,this.applyTemplate(c));return d?Ext.get(e,!0):e},overwrite:function(a,b,c){return a=Ext.getDom(a),a.innerHTML=this.applyTemplate(b),c?Ext.get(a.firstChild,!0):a.firstChild}},Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate,Ext.Template.from=function(a,b){return a=Ext.getDom(a),new Ext.Template(a.value||a.innerHTML,b||"")},Ext.apply(Ext.Template.prototype,{disableFormats:!1,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,applyTemplate:function(a){function b(b,c,g,h){if(g&&d){if("this."==g.substr(0,5))return f.call(g.substr(5),a[c],a);if(h){var i=/^\s*['"](.*)["']\s*$/;h=h.split(",");for(var j=0,k=h.length;k>j;j++)h[j]=h[j].replace(i,"$1");h=[a[c]].concat(h)}else h=[a[c]];return e[g].apply(e,h)}return void 0!==a[c]?a[c]:""}var c=this,d=c.disableFormats!==!0,e=Ext.util.Format,f=c;return c.compiled?c.compiled(a):c.html.replace(c.re,b)},compile:function(){function fn(a,b,c,d){return c&&useF?(d=d?","+d:"","this."!=c.substr(0,5)?c="fm."+c+"(":(c='this.call("'+c.substr(5)+'", ',d=", values")):(d="",c="(values['"+b+"'] == undefined ? '' : "),"'"+sep+c+"values['"+b+"']"+d+")"+sep+"'"}var me=this,fm=Ext.util.Format,useF=me.disableFormats!==!0,sep=Ext.isGecko?"+":",",body;return Ext.isGecko?body="this.compiled = function(values){ return '"+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+"';};":(body=["this.compiled = function(values){ return ['"],body.push(me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)),body.push("'].join('');};"),body=body.join("")),eval(body),me},call:function(a,b,c){return this[a](b,c)}}),Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate,Ext.DomQuery=function(){function child(a,b){for(var c=0,d=a.firstChild;d;){if(1==d.nodeType&&++c==b)return d;d=d.nextSibling}return null}function next(a){for(;(a=a.nextSibling)&&1!=a.nodeType;);return a}function prev(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a}function children(a){for(var b,c=a.firstChild,d=-1;c;)b=c.nextSibling,3!=c.nodeType||nonSpace.test(c.nodeValue)?c.nodeIndex=++d:a.removeChild(c),c=b;return this}function byClassName(a,b,c){if(!c)return a;for(var d,e=[],f=-1,g=0;d=a[g];g++)-1!=(" "+d.className+" ").indexOf(c)&&(e[++f]=d);return e}function attrValue(a,b){return a.tagName||"undefined"==typeof a.length||(a=a[0]),a?"for"==b?a.htmlFor:"class"==b||"className"==b?a.className:a.getAttribute(b)||a[b]:null}function getNodes(a,b,c){var d,e=[],f=-1;if(!a)return e;if(c=c||"*","undefined"!=typeof a.getElementsByTagName&&(a=[a]),b){if("/"==b||">"==b)for(var g,h,i=c.toUpperCase(),j=0;g=a[j];j++){h=g.childNodes;for(var k,l=0;k=h[l];l++)(k.nodeName==i||k.nodeName==c||"*"==c)&&(e[++f]=k)}else if("+"==b)for(var m,i=c.toUpperCase(),j=0;m=a[j];j++){for(;(m=m.nextSibling)&&1!=m.nodeType;);!m||m.nodeName!=i&&m.nodeName!=c&&"*"!=c||(e[++f]=m)}else if("~"==b)for(var m,i=c.toUpperCase(),j=0;m=a[j];j++)for(;m=m.nextSibling;)(m.nodeName==i||m.nodeName==c||"*"==c)&&(e[++f]=m)}else for(var g,j=0;g=a[j];j++){d=g.getElementsByTagName(c);for(var n,l=0;n=d[l];l++)e[++f]=n}return e}function concat(a,b){if(b.slice)return a.concat(b);for(var c=0,d=b.length;d>c;c++)a[a.length]=b[c];return a}function byTag(a,b){if((a.tagName||a==document)&&(a=[a]),!b)return a;var c=[],d=-1;b=b.toLowerCase();for(var e,f=0;e=a[f];f++)1==e.nodeType&&e.tagName.toLowerCase()==b&&(c[++d]=e);return c}function byId(a,b,c){if((a.tagName||a==document)&&(a=[a]),!c)return a;for(var d,e=[],f=-1,g=0;d=a[g];g++)if(d&&d.id==c)return e[++f]=d,e;return e}function byAttribute(a,b,c,d,e){for(var f,g=[],h=-1,i="{"==e,j=Ext.DomQuery.operators[d],k=0;f=a[k];k++)if(1==f.nodeType){var l;l=i?Ext.DomQuery.getStyle(f,b):"class"==b||"className"==b?f.className:"for"==b?f.htmlFor:"href"==b?f.getAttribute("href",2):f.getAttribute(b),(j&&j(l,c)||!j&&l)&&(g[++h]=f)}return g}function byPseudo(a,b,c){return Ext.DomQuery.pseudos[b](a,c)}function nodupIEXml(a){var b,c=++key;a[0].setAttribute("_nodup",c),b=[a[0]];for(var d=1,e=a.length;e>d;d++){var f=a[d];!f.getAttribute("_nodup")!=c&&(f.setAttribute("_nodup",c),b[b.length]=f)}for(var d=0,e=a.length;e>d;d++)a[d].removeAttribute("_nodup");return b}function nodup(a){if(!a)return[];var b,c,d,e=a.length,f=a,g=-1;if(!e||"undefined"!=typeof a.nodeType||1==e)return a;if(isIE&&"undefined"!=typeof a[0].selectSingleNode)return nodupIEXml(a);var h=++key;for(a[0]._nodup=h,c=1;b=a[c];c++){if(b._nodup==h){f=[];for(var i=0;c>i;i++)f[++g]=a[i];for(i=c+1;d=a[i];i++)d._nodup!=h&&(d._nodup=h,f[++g]=d);return f}b._nodup=h}return f}function quickDiffIEXml(a,b){for(var c=++key,d=[],e=0,f=a.length;f>e;e++)a[e].setAttribute("_qdiff",c);for(var e=0,f=b.length;f>e;e++)b[e].getAttribute("_qdiff")!=c&&(d[d.length]=b[e]);for(var e=0,f=a.length;f>e;e++)a[e].removeAttribute("_qdiff");return d}function quickDiff(a,b){var c=a.length,d=++key,e=[];if(!c)return b;if(isIE&&"undefined"!=typeof a[0].selectSingleNode)return quickDiffIEXml(a,b);for(var f=0;c>f;f++)a[f]._qdiff=d;for(var f=0,g=b.length;g>f;f++)b[f]._qdiff!=d&&(e[e.length]=b[f]);return e}function quickId(a,b,c,d){if(a==c){var e=c.ownerDocument||c;return e.getElementById(d)}return a=getNodes(a,b,"*"),byId(a,null,d)}var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w-\*]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,isIE=window.ActiveXObject?!0:!1,key=30803;return eval("var batch = 30803;"),{getStyle:function(a,b){return Ext.fly(a).getStyle(b)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],q=path,mode,lq,tk=Ext.DomQuery.matchers,tklen=tk.length,mm,lmode=q.match(modeRe);for(lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',q=q.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;q&&lq!=q;){lq=q;var tm=q.match(tagTokenRe);for("select"==type?tm?(fn[fn.length]="#"==tm[1]?'n = quickId(n, mode, root, "'+tm[2]+'");':'n = getNodes(n, mode, "'+tm[2]+'");',q=q.replace(tm[0],"")):"@"!=q.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tm&&(fn[fn.length]="#"==tm[1]?'n = byId(n, null, "'+tm[2]+'");':'n = byTag(n, "'+tm[2]+'");',q=q.replace(tm[0],""));!(mm=q.match(modeRe));){for(var matched=!1,j=0;tklen>j;j++){var t=tk[j],m=q.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(a,b){return m[b]}),q=q.replace(m[0],""),matched=!0;break}}if(!matched)throw'Error parsing selector, parsing failed at "'+q+'"'}mm[1]&&(fn[fn.length]='mode="'+mm[1].replace(trimRe,"")+'";',q=q.replace(mm[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},select:function(a,b){b&&b!=document||(b=document),"string"==typeof b&&(b=document.getElementById(b));for(var c=a.split(","),d=[],e=0,f=c.length;f>e;e++){var g=c[e].replace(trimRe,"");if(!cache[g]&&(cache[g]=Ext.DomQuery.compile(g),!cache[g]))throw g+" is not a valid selector";var h=cache[g](b);h&&h!=document&&(d=d.concat(h))}return c.length>1?nodup(d):d},selectNode:function(a,b){return Ext.DomQuery.select(a,b)[0]},selectValue:function(a,b,c){a=a.replace(trimRe,""),valueCache[a]||(valueCache[a]=Ext.DomQuery.compile(a,"select"));var d,e=valueCache[a](b);return e=e[0]?e[0]:e,"function"==typeof e.normalize&&e.normalize(),d=e&&e.firstChild?e.firstChild.nodeValue:null,null===d||void 0===d||""===d?c:d},selectNumber:function(a,b,c){var d=Ext.DomQuery.selectValue(a,b,c||0);return parseFloat(d)},is:function(a,b){"string"==typeof a&&(a=document.getElementById(a));var c=Ext.isArray(a),d=Ext.DomQuery.filter(c?a:[a],b);return c?d.length==a.length:d.length>0},filter:function(a,b,c){b=b.replace(trimRe,""),simpleCache[b]||(simpleCache[b]=Ext.DomQuery.compile(b,"simple"));var d=simpleCache[b](a);return c?quickDiff(d,a):d},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, null, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, null, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"^=":function(a,b){return a&&a.substr(0,b.length)==b},"$=":function(a,b){return a&&a.substr(a.length-b.length)==b},"*=":function(a,b){return a&&-1!==a.indexOf(b)},"%=":function(a,b){return a%b==0},"|=":function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+"-")},"~=":function(a,b){return a&&-1!=(" "+a+" ").indexOf(" "+b+" ")}},pseudos:{"first-child":function(a){for(var b,c,d=[],e=-1,f=0;c=b=a[f];f++){for(;(b=b.previousSibling)&&1!=b.nodeType;);b||(d[++e]=c)}return d},"last-child":function(a){for(var b,c,d=[],e=-1,f=0;c=b=a[f];f++){for(;(b=b.nextSibling)&&1!=b.nodeType;);b||(d[++e]=c)}return d},"nth-child":function(a,b){for(var c,d=[],e=-1,f=nthRe.exec("even"==b&&"2n"||"odd"==b&&"2n+1"||!nthRe2.test(b)&&"n+"+b||b),g=(f[1]||1)-0,h=f[2]-0,i=0;c=a[i];i++){var j=c.parentNode;if(batch!=j._batch){for(var k=0,l=j.firstChild;l;l=l.nextSibling)1==l.nodeType&&(l.nodeIndex=++k);j._batch=batch}1==g?(0==h||c.nodeIndex==h)&&(d[++e]=c):(c.nodeIndex+h)%g==0&&(d[++e]=c)}return d},"only-child":function(a){for(var b,c=[],d=-1,e=0;b=a[e];e++)prev(b)||next(b)||(c[++d]=b);return c},empty:function(a){for(var b,c=[],d=-1,e=0;b=a[e];e++){for(var f,g=b.childNodes,h=0,i=!0;f=g[h];)if(++h,1==f.nodeType||3==f.nodeType){i=!1;break}i&&(c[++d]=b)}return c},contains:function(a,b){for(var c,d=[],e=-1,f=0;c=a[f];f++)-1!=(c.textContent||c.innerText||"").indexOf(b)&&(d[++e]=c);return d},nodeValue:function(a,b){for(var c,d=[],e=-1,f=0;c=a[f];f++)c.firstChild&&c.firstChild.nodeValue==b&&(d[++e]=c);return d},checked:function(a){for(var b,c=[],d=-1,e=0;b=a[e];e++)1==b.checked&&(c[++d]=b);return c},not:function(a,b){return Ext.DomQuery.filter(a,b,!0)},any:function(a,b){for(var c,d,e=b.split("|"),f=[],g=-1,h=0;d=a[h];h++)for(var i=0;c=e[i];i++)if(Ext.DomQuery.is(d,c)){f[++g]=d;break}return f},odd:function(a){return this["nth-child"](a,"odd")},even:function(a){return this["nth-child"](a,"even")},nth:function(a,b){return a[b-1]||[]},first:function(a){return a[0]||[]},last:function(a){return a[a.length-1]||[]},has:function(a,b){for(var c,d=Ext.DomQuery.select,e=[],f=-1,g=0;c=a[g];g++)d(b,c).length>0&&(e[++f]=c);return e},next:function(a,b){for(var c,d=Ext.DomQuery.is,e=[],f=-1,g=0;c=a[g];g++){var h=next(c);h&&d(h,b)&&(e[++f]=c)}return e},prev:function(a,b){for(var c,d=Ext.DomQuery.is,e=[],f=-1,g=0;c=a[g];g++){var h=prev(c);h&&d(h,b)&&(e[++f]=c)}return e}}}}(),Ext.query=Ext.DomQuery.select,Ext.util.DelayedTask=function(a,b,c){var d,e=this,f=function(){clearInterval(d),d=null,a.apply(b,c||[])};e.delay=function(g,h,i,j){e.cancel(),a=h||a,b=i||b,c=j||c,d=setInterval(f,g)},e.cancel=function(){d&&(clearInterval(d),d=null)}},function(){function a(a,b,c){return function(){b.target==arguments[0]&&a.apply(c,f(arguments))}}function b(a,b,c,d){return c.task=new e.DelayedTask,function(){c.task.delay(b.buffer,a,d,f(arguments))}}function c(a,b,c,d){return function(){return b.removeListener(c,d),a.apply(d,arguments)}}function d(a,b,c,d){return function(){var g=new e.DelayedTask;c.tasks||(c.tasks=[]),c.tasks.push(g),g.delay(b.delay||10,a,d,f(arguments))}}var e=Ext.util,f=Ext.toArray,g=Ext.each,h=Ext.isObject,i=!0,j=!1;e.Observable=function(){var a=this,b=a.events;a.listeners&&(a.on(a.listeners),delete a.listeners),a.events=b||{}},e.Observable.prototype={filterOptRe:/^(?:scope|delay|buffer|single)$/,fireEvent:function(){var a,b,c=f(arguments),d=c[0].toLowerCase(),e=this,g=i,k=e.events[d];if(e.eventsSuspended===i)(a=e.eventQueue)&&a.push(c);else if(h(k)&&k.bubble){if(k.fire.apply(k,c.slice(1))===j)return j;if(b=e.getBubbleTarget&&e.getBubbleTarget(),b&&b.enableBubble)return b.events[d]&&Ext.isObject(b.events[d])&&b.events[d].bubble||b.enableBubble(d),b.fireEvent.apply(b,c)}else h(k)&&(c.shift(),g=k.fire.apply(k,c));return g},addListener:function(a,b,c,d){var f,g,j,k=this;if(h(a)){d=a;for(f in d)g=d[f],k.filterOptRe.test(f)||k.addListener(f,g.fn||g,g.scope||d.scope,g.fn?g:d)}else a=a.toLowerCase(),j=k.events[a]||i,Ext.isBoolean(j)&&(k.events[a]=j=new e.Event(k,a)),j.addListener(b,c,h(d)?d:{})},removeListener:function(a,b,c){var d=this.events[a.toLowerCase()];h(d)&&d.removeListener(b,c)},purgeListeners:function(){var a,b,c=this.events;for(b in c)a=c[b],h(a)&&a.clearListeners()},addEvents:function(a){var b=this;if(b.events=b.events||{},Ext.isString(a))for(var c=arguments,d=c.length;d--;)b.events[c[d]]=b.events[c[d]]||i;else Ext.applyIf(b.events,a)},hasListener:function(a){var b=this.events[a];return h(b)&&b.listeners.length>0},suspendEvents:function(a){this.eventsSuspended=i,a&&!this.eventQueue&&(this.eventQueue=[])},resumeEvents:function(){var a=this,b=a.eventQueue||[];a.eventsSuspended=j,delete a.eventQueue,g(b,function(b){a.fireEvent.apply(a,b)})}};var k=e.Observable.prototype;k.on=k.addListener,k.un=k.removeListener,e.Observable.releaseCapture=function(a){a.fireEvent=k.fireEvent},e.Event=function(a,b){this.name=b,this.obj=a,this.listeners=[]},e.Event.prototype={addListener:function(a,b,c){var d,e=this;b=b||e.obj,e.isListening(a,b)||(d=e.createListener(a,b,c),e.firing&&(e.listeners=e.listeners.slice(0)),e.listeners.push(d))},createListener:function(e,f,g){g=g||{},f=f||this.obj;var h={fn:e,scope:f,options:g},i=e;return g.target&&(i=a(i,g,f)),g.delay&&(i=d(i,g,e,f)),g.single&&(i=c(i,this,e,f)),g.buffer&&(i=b(i,g,e,f)),h.fireFn=i,h},findListener:function(a,b){for(var c,d,e=this.listeners,f=e.length;f--;)if(c=e[f],c&&(d=c.scope,c.fn==a&&(d==b||d==this.obj)))return f;return-1},isListening:function(a,b){return-1!=this.findListener(a,b)},removeListener:function(a,b){var c,d,e,f=this,g=j;if(-1!=(c=f.findListener(a,b))){if(f.firing&&(f.listeners=f.listeners.slice(0)),d=f.listeners[c].fn,d.task&&(d.task.cancel(),delete d.task),e=d.tasks&&d.tasks.length){for(;e--;)d.tasks[e].cancel();delete d.tasks}f.listeners.splice(c,1),g=i}return g},clearListeners:function(){for(var a=this,b=a.listeners,c=b.length;c--;)a.removeListener(b[c].fn,b[c].scope)},fire:function(){var a,b=this,c=f(arguments),d=b.listeners,e=d.length,g=0;if(e>0)for(b.firing=i;e>g;g++)if(a=d[g],a&&a.fireFn.apply(a.scope||b.obj||window,c)===j)return b.firing=j;return b.firing=j,i}}}(),Ext.apply(Ext.util.Observable.prototype,function(){function a(a){var b,c,d,e=(this.methodEvents=this.methodEvents||{})[a],f=this;if(!e){this.methodEvents[a]=e={},e.originalFn=this[a],e.methodName=a,e.before=[],e.after=[];var g=function(a,e,g){Ext.isEmpty(c=a.apply(e||f,g))||(Ext.isObject(c)?(b=Ext.isEmpty(c.returnValue)?c:c.returnValue,d=!!c.cancel):c===!1?d=!0:b=c)};this[a]=function(){var a=Ext.toArray(arguments);return b=c=void 0,d=!1,Ext.each(e.before,function(c){return g(c.fn,c.scope,a),d?b:void 0}),Ext.isEmpty(c=e.originalFn.apply(f,a))||(b=c),Ext.each(e.after,function(c){return g(c.fn,c.scope,a),d?b:void 0}),b}}return e}return{beforeMethod:function(b,c,d){a.call(this,b).before.push({fn:c,scope:d})},afterMethod:function(b,c,d){a.call(this,b).after.push({fn:c,scope:d})},removeMethodListener:function(b,c,d){var e=a.call(this,b),f=!1;Ext.each(e.before,function(a,b,e){return a.fn==c&&a.scope==d?(e.splice(b,1),f=!0,!1):void 0}),f||Ext.each(e.after,function(a,b,e){return a.fn==c&&a.scope==d?(e.splice(b,1),!1):void 0})},relayEvents:function(a,b){function c(a){return function(){return d.fireEvent.apply(d,[a].concat(Ext.toArray(arguments)))}}var d=this;Ext.each(b,function(b){d.events[b]=d.events[b]||!0,a.on(b,c(b),d)})},enableBubble:function(a){var b=this;Ext.isEmpty(a)||(a=Ext.isArray(a)?a:Ext.toArray(arguments),Ext.each(a,function(a){a=a.toLowerCase();var c=b.events[a]||!0;Ext.isBoolean(c)&&(c=new Ext.util.Event(b,a),b.events[a]=c),c.bubble=!0}))}}}()),Ext.util.Observable.capture=function(a,b,c){a.fireEvent=a.fireEvent.createInterceptor(b,c)},Ext.util.Observable.observeClass=function(a,b){return a?(a.fireEvent||(Ext.apply(a,new Ext.util.Observable),Ext.util.Observable.capture(a.prototype,a.fireEvent,a)),Ext.isObject(b)&&a.on(b),a):void 0},Ext.EventManager=function(){function a(a){var b,c=!1,d=0,e=s.length,c=!1,f=!1;if(a){if(a.getElementById||a.navigator){for(;e>d;++d)if(b=s[d],b.el===a){c=b.id;break}c||(c=Ext.id(a),s.push({id:c,el:a}),f=!0)}else c=Ext.id(a);Ext.elCache[c]||(Ext.Element.addToCache(new Ext.Element(a),c),f&&(Ext.elCache[c].skipGC=!0))}return c}function b(b,c,d,e,f){b=Ext.getDom(b);var g,h=a(b),i=Ext.elCache[h].events;if(g=m.on(b,c,e),i[c]=i[c]||[],i[c].push([d,e,f,g]),"mousewheel"==c&&b.addEventListener){var j=["DOMMouseScroll",e,!1];b.addEventListener.apply(b,j),Ext.EventManager.addListener(o,"unload",function(){b.removeEventListener.apply(b,j)})}"mousedown"==c&&b==document&&Ext.EventManager.stoppedMouseDownEvent.addListener(e)}function c(){if(!l){if(Ext.isReady=l=!0,k&&clearInterval(k),(Ext.isGecko||Ext.isOpera)&&n.removeEventListener(q,c,!1),Ext.isIE){var a=n.getElementById(p);a&&(a.onreadystatechange=null,a.parentNode.removeChild(a))}j&&(j.fire(),j.listeners=[])}}function d(){var a="complete";j=new Ext.util.Event,Ext.isGecko||Ext.isOpera?n.addEventListener(q,c,!1):Ext.isIE?(n.write("<script id="+p+' defer="defer" src="//:"></script>'),n.getElementById(p).onreadystatechange=function(){this.readyState==a&&c()}):Ext.isWebKit&&(k=setInterval(function(){n.readyState==a&&c()},10)),m.on(o,"load",c)}function e(a,b){return function(){var c=Ext.toArray(arguments);b.target==Ext.EventObject.setEvent(c[0]).target&&a.apply(this,c)}}function f(a,b,c){c.task=new Ext.util.DelayedTask(a);var d=function(d){c.task.delay(b.buffer,a,null,[new Ext.EventObjectImpl(d)])};return d}function g(a,b,c,d,e){return function(f){Ext.EventManager.removeListener(b,c,d,e),a(f)}}function h(a,b,c){return function(d){var e=new Ext.util.DelayedTask(a);c.tasks||(c.tasks=[]),c.tasks.push(e),e.delay(b.delay||10,a,null,[new Ext.EventObjectImpl(d)])}}function i(a,c,d,i,j){function k(a){if(Ext){a=Ext.EventObject.setEvent(a);var b;if(l.delegate){if(!(b=a.getTarget(l.delegate,m)))return}else b=a.target;l.stopEvent&&a.stopEvent(),l.preventDefault&&a.preventDefault(),l.stopPropagation&&a.stopPropagation(),l.normalized&&(a=a.browserEvent),i.call(j||m,a,b,l)}}var l=Ext.isObject(d)?d:{},m=Ext.getDom(a);if(i=i||l.fn,j=j||l.scope,!m)throw'Error listening for "'+c+'". Element "'+a+"\" doesn't exist.";return l.target&&(k=e(k,l)),l.delay&&(k=h(k,l,i)),l.single&&(k=g(k,m,c,i,j)),l.buffer&&(k=f(k,l,i)),b(m,c,i,k,j),k}var j,k,l=!1,m=Ext.lib.Event,n=(Ext.lib.Dom,document),o=window,p="ie-deferred-loader",q="DOMContentLoaded",r=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,s=[],t={addListener:function(a,b,c,d,e){if(Ext.isObject(b)){var f,g,h=b;for(f in h)g=h[f],r.test(f)||(Ext.isFunction(g)?i(a,f,h,g,h.scope):i(a,f,g))}else i(a,b,e,c,d)},removeListener:function(b,c,d,e){b=Ext.getDom(b);var f,g,h,i,j=a(b),k=b&&Ext.elCache[j].events[c]||[];for(g=0,len=k.length;len>g;g++)if(Ext.isArray(k[g])&&k[g][0]==d&&(!e||k[g][2]==e)){if(d.task&&(d.task.cancel(),delete d.task),h=d.tasks&&d.tasks.length){for(;h--;)d.tasks[h].cancel();delete d.tasks}i=f=k[g][1],m.extAdapter&&(i=k[g][3]),m.un(b,c,i),k.splice(g,1),0===k.length&&delete Ext.elCache[j].events[c];for(h in Ext.elCache[j].events)return!1;return Ext.elCache[j].events={},!1}"mousewheel"==c&&b.addEventListener&&f&&b.removeEventListener("DOMMouseScroll",f,!1),"mousedown"==c&&b==n&&f&&Ext.EventManager.stoppedMouseDownEvent.removeListener(f)},removeAll:function(b){b=Ext.getDom(b);var c,d,e,f,g,h,i=a(b),j=Ext.elCache[i]||{},k=j.events||{};for(f in k)if(k.hasOwnProperty(f))for(c=k[f],d=0,e=c.length;e>d;d++){if(g=c[d][0],g.task&&(g.task.cancel(),delete g.task),g.tasks&&(h=g.tasks.length)){for(;h--;)g.tasks[h].cancel();delete g.tasks}m.un(b,f,m.extAdapter?c[d][3]:c[d][1])}Ext.elCache[i]&&(Ext.elCache[i].events={})},getListeners:function(b,c){b=Ext.getDom(b);var d=a(b),e=Ext.elCache[d]||{},f=e.events||{};return f&&f[c]?f[c]:null},purgeElement:function(b,c,d){b=Ext.getDom(b);var e,f,g,h=a(b),i=Ext.elCache[h]||{},j=i.events||{};if(d){if(j&&j.hasOwnProperty(d))for(f=j[d],e=0,g=f.length;g>e;e++)Ext.EventManager.removeListener(b,d,f[e][0])}else Ext.EventManager.removeAll(b);if(c&&b&&b.childNodes)for(e=0,g=b.childNodes.length;g>e;e++)Ext.EventManager.purgeElement(b.childNodes[e],c,d)},_unload:function(){var a;for(a in Ext.elCache)Ext.EventManager.removeAll(a)},onDocumentReady:function(a,b,c){l?(j.addListener(a,b,c),j.fire(),j.listeners=[]):(j||d(),c=c||{},c.delay=c.delay||1,j.addListener(a,b,c))}};return t.on=t.addListener,t.un=t.removeListener,t.stoppedMouseDownEvent=new Ext.util.Event,t}(),Ext.onReady=Ext.EventManager.onDocumentReady,function(){var a=function(){var a=document.body||document.getElementsByTagName("body")[0];if(!a)return!1;var b=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":Ext.isIE7?"ext-ie7":"ext-ie8"):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isWebKit?"ext-webkit":""];if(Ext.isSafari?b.push("ext-safari "+(Ext.isSafari2?"ext-safari2":Ext.isSafari3?"ext-safari3":"ext-safari4")):Ext.isChrome&&b.push("ext-chrome"),Ext.isMac&&b.push("ext-mac"),Ext.isLinux&&b.push("ext-linux"),Ext.isStrict||Ext.isBorderBox){var c=a.parentNode;c&&(c.className+=Ext.isStrict?" ext-strict":" ext-border-box")}return a.className+=b.join(" "),!0};a()||Ext.onReady(a)}(),Ext.EventObject=function(){var a=Ext.lib.Event,b={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},c=Ext.isIE?{1:0,4:1,2:2}:Ext.isWebKit?{1:0,2:1,3:2}:{0:0,1:1,2:2};return Ext.EventObjectImpl=function(a){a&&this.setEvent(a.browserEvent||a)},Ext.EventObjectImpl.prototype={setEvent:function(b){var d=this;return b==d||b&&b.browserEvent?b:(d.browserEvent=b,b?(d.button=b.button?c[b.button]:b.which?b.which-1:-1,"click"==b.type&&-1==d.button&&(d.button=0),d.type=b.type,d.shiftKey=b.shiftKey,d.ctrlKey=b.ctrlKey||b.metaKey||!1,d.altKey=b.altKey,d.keyCode=b.keyCode,d.charCode=b.charCode,d.target=a.getTarget(b),d.xy=a.getXY(b)):(d.button=-1,d.shiftKey=!1,d.ctrlKey=!1,d.altKey=!1,d.keyCode=0,d.charCode=0,d.target=null,d.xy=[0,0]),d)},stopEvent:function(){var b=this;b.browserEvent&&("mousedown"==b.browserEvent.type&&Ext.EventManager.stoppedMouseDownEvent.fire(b),a.stopEvent(b.browserEvent))},preventDefault:function(){this.browserEvent&&a.preventDefault(this.browserEvent)},stopPropagation:function(){var b=this;b.browserEvent&&("mousedown"==b.browserEvent.type&&Ext.EventManager.stoppedMouseDownEvent.fire(b),a.stopPropagation(b.browserEvent))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isSafari?b[a]||a:a},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(a,b,c){return a?Ext.fly(this.target).findParent(a,b,c):c?Ext.get(this.target):this.target},getRelatedTarget:function(){return this.browserEvent?a.getRelatedTarget(this.browserEvent):null},getWheelDelta:function(){var a=this.browserEvent,b=0;return a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),b},within:function(a,b,c){if(a){var d=this[b?"getRelatedTarget":"getTarget"]();return d&&((c?d==Ext.getDom(a):!1)||Ext.fly(a).contains(d))}return!1}},new Ext.EventObjectImpl}(),Ext.apply(Ext.EventManager,function(){var a,b,c,d,e=Ext.lib.Dom,f=0,g=0,h=Ext.isWebKit?Ext.num(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1])>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera);return{doResizeEvent:function(){var b=e.getViewHeight(),c=e.getViewWidth();(g!=b||f!=c)&&a.fire(f=c,g=b)},onWindowResize:function(c,d,e){a||(a=new Ext.util.Event,b=new Ext.util.DelayedTask(this.doResizeEvent),Ext.EventManager.on(window,"resize",this.fireWindowResize,this)),a.addListener(c,d,e)},fireWindowResize:function(){a&&((Ext.isIE||Ext.isAir)&&b?b.delay(50):a.fire(e.getViewWidth(),e.getViewHeight()))},onTextResize:function(a,b,e){if(!c){c=new Ext.util.Event;var f=new Ext.Element(document.createElement("div"));f.dom.className="x-text-resize",f.dom.innerHTML="X",f.appendTo(document.body),d=f.dom.offsetHeight,setInterval(function(){f.dom.offsetHeight!=d&&c.fire(d,d=f.dom.offsetHeight)},this.textResizeInterval)}c.addListener(a,b,e)},removeResizeListener:function(b,c){a&&a.removeListener(b,c)},fireResize:function(){a&&a.fire(e.getViewWidth(),e.getViewHeight())},textResizeInterval:50,ieDeferSrc:!1,useKeydown:h}}()),Ext.EventManager.on=Ext.EventManager.addListener,Ext.apply(Ext.EventObjectImpl.prototype,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,isNavKeyPress:function(){var a=this,b=this.normalizeKey(a.keyCode);return b>=33&&40>=b||b==a.RETURN||b==a.TAB||b==a.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return"keypress"==this.type&&this.ctrlKey||this.isNavKeyPress()||a==this.BACKSPACE||a>=16&&20>=a||a>=44&&45>=a},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey}}),function(){function a(){if(Ext.enableGarbageCollector){var a,c,f,g;for(a in e)g=e[a],g.skipGC||(c=g.el,f=c.dom,f&&f.parentNode&&(f.offsetParent||b.getElementById(a))||(Ext.enableListenerCollection&&Ext.EventManager.removeAll(f),delete e[a]));
    if(Ext.isIE){var h={};for(a in e)h[a]=e[a];e=Ext.elCache=h}}else clearInterval(d.collectorThreadId)}var b=document;Ext.Element=function(a,c){var d,e="string"==typeof a?b.getElementById(a):a;return e?(d=e.id,!c&&d&&Ext.elCache[d]?Ext.elCache[d].el:(this.dom=e,void(this.id=d||Ext.id(e)))):null};var c=(Ext.lib.Dom,Ext.DomHelper),d=(Ext.lib.Event,Ext.lib.Anim,Ext.Element),e=Ext.elCache;d.prototype={set:function(a,b){var d,e,f=this.dom,b=b!==!1&&!!f.setAttribute;for(d in a)a.hasOwnProperty(d)&&(e=a[d],"style"==d?c.applyStyles(f,e):"cls"==d?f.className=e:b?f.setAttribute(d,e):f[d]=e);return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},focus:function(a,b){var c=this,b=b||c.dom;try{Number(a)?c.focus.defer(a,null,[null,b]):b.focus()}catch(d){}return c},blur:function(){try{this.dom.blur()}catch(a){}return this},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},addListener:function(a,b,c,d){return Ext.EventManager.on(this.dom,a,b,c||this,d),this},removeListener:function(a,b,c){return Ext.EventManager.removeListener(this.dom,a,b,c||this),this},removeAllListeners:function(){return Ext.EventManager.removeAll(this.dom),this},purgeAllListeners:function(){return Ext.EventManager.purgeElement(this,!0),this},addUnits:function(a){return""===a||"auto"==a||void 0===a?a=a||"":isNaN(a)&&h.test(a)||(a+=this.defaultUnit||"px"),a},load:function(a,b,c){return Ext.Ajax.request(Ext.apply({params:b,url:a.url||a,callback:c,el:this.dom,indicatorText:a.indicatorText||""},Ext.isObject(a)?a:{})),this},isBorderBox:function(){return j[(this.dom.tagName||"").toLowerCase()]||Ext.isBorderBox},remove:function(){var a=this,b=a.dom;b&&(delete a.dom,Ext.removeNode(b))},hover:function(a,b,c,d){var e=this;return e.on("mouseenter",a,c||e.dom,d),e.on("mouseleave",b,c||e.dom,d),e},contains:function(a){return a?Ext.lib.Dom.isAncestor(this.dom,a.dom?a.dom:a):!1},getAttributeNS:function(a,b){return this.getAttribute(b,a)},getAttribute:Ext.isIE?function(a,b){var c=this.dom,d=typeof c[b+":"+a];return-1==["undefined","unknown"].indexOf(d)?c[b+":"+a]:c[a]}:function(a,b){var c=this.dom;return c.getAttributeNS(b,a)||c.getAttribute(b+":"+a)||c.getAttribute(a)||c[a]},update:function(a){return this.dom&&(this.dom.innerHTML=a),this}};var f=d.prototype;d.addMethods=function(a){Ext.apply(f,a)},f.on=f.addListener,f.un=f.removeListener,f.autoBoxAdjust=!0;var g,h=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i;d.get=function(a){var c,f,h;if(!a)return null;if("string"==typeof a)return(f=b.getElementById(a))?(e[a]&&e[a].el?(c=e[a].el,c.dom=f):c=d.addToCache(new d(f)),c):null;if(a.tagName)return(h=a.id)||(h=Ext.id(a)),e[h]&&e[h].el?(c=e[h].el,c.dom=a):c=d.addToCache(new d(a)),c;if(a instanceof d)return a!=g&&(a.dom=b.getElementById(a.id)||a.dom),a;if(a.isComposite)return a;if(Ext.isArray(a))return d.select(a);if(a==b){if(!g){var i=function(){};i.prototype=d.prototype,g=new i,g.dom=b}return g}return null},d.addToCache=function(a,b){return b=b||a.id,e[b]={el:a,data:{},events:{}},a},d.data=function(a,b,c){if(a=d.get(a),!a)return null;var f=e[a.id].data;return 2==arguments.length?f[b]:f[b]=c},d.collectorThreadId=setInterval(a,3e4);var i=function(){};i.prototype=d.prototype,d.Flyweight=function(a){this.dom=a},d.Flyweight.prototype=new i,d.Flyweight.prototype.isFlyweight=!0,d._flyweights={},d.fly=function(a,b){var c=null;return b=b||"_global",(a=Ext.getDom(a))&&((d._flyweights[b]=d._flyweights[b]||new d.Flyweight).dom=a,c=d._flyweights[b]),c},Ext.get=d.get,Ext.fly=d.fly;var j=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};(Ext.isIE||Ext.isGecko)&&(j.button=1),Ext.EventManager.on(window,"unload",function(){delete e,delete d._flyweights})}(),Ext.Element.addMethods({swallowEvent:function(a,b){function c(a){a.stopPropagation(),b&&a.preventDefault()}var d=this;return Ext.isArray(a)?(Ext.each(a,function(a){d.on(a,c)}),d):(d.on(a,c),d)},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(a){var b=this,c=b.dom,d=c.firstChild,e=-1;if(Ext.Element.data(c,"isCleaned")&&a!==!0)return b;for(;d;){var f=d.nextSibling;3!=d.nodeType||/\S/.test(d.nodeValue)?d.nodeIndex=++e:c.removeChild(d),d=f}return Ext.Element.data(c,"isCleaned",!0),b},load:function(){var a=this.getUpdater();return a.update.apply(a,arguments),this},getUpdater:function(){return this.updateManager||(this.updateManager=new Ext.Updater(this))},update:function(a,b,c){if(!this.dom)return this;if(a=a||"",b!==!0)return this.dom.innerHTML=a,Ext.isFunction(c)&&c(),this;var d=Ext.id(),e=this.dom;return a+='<span id="'+d+'"></span>',Ext.lib.Event.onAvailable(d,function(){for(var b,e,f,g,h,i,j=document,k=j.getElementsByTagName("head")[0],l=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,m=/\ssrc=([\'\"])(.*?)\1/i,n=/\stype=([\'\"])(.*?)\1/i;b=l.exec(a);)e=b[1],f=e?e.match(m):!1,f&&f[2]?(i=j.createElement("script"),i.src=f[2],g=e.match(n),g&&g[2]&&(i.type=g[2]),k.appendChild(i)):b[2]&&b[2].length>0&&(window.execScript?window.execScript(b[2]):window.eval(b[2]));h=j.getElementById(d),h&&Ext.removeNode(h),Ext.isFunction(c)&&c()}),e.innerHTML=a.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,""),this},removeAllListeners:function(){return this.removeAnchor(),Ext.EventManager.removeAll(this.dom),this},createProxy:function(a,b,c){a=Ext.isObject(a)?a:{tag:"div",cls:a};var d=this,e=b?Ext.DomHelper.append(b,a,!0):Ext.DomHelper.insertBefore(d.dom,a,!0);return c&&d.setBox&&d.getBox&&e.setBox(d.getBox()),e}}),Ext.Element.prototype.getUpdateManager=Ext.Element.prototype.getUpdater,Ext.Element.addMethods({getAnchorXY:function(a,b,c){a=(a||"tl").toLowerCase(),c=c||{};var d,e=this,f=e.dom==document.body||e.dom==document,g=c.width||f?Ext.lib.Dom.getViewWidth():e.getWidth(),h=c.height||f?Ext.lib.Dom.getViewHeight():e.getHeight(),i=Math.round,j=e.getXY(),k=e.getScroll(),l=f?k.left:b?0:j[0],m=f?k.top:b?0:j[1],n={c:[i(.5*g),i(.5*h)],t:[i(.5*g),0],l:[0,i(.5*h)],r:[g,i(.5*h)],b:[i(.5*g),h],tl:[0,0],bl:[0,h],br:[g,h],tr:[g,0]};return d=n[a],[d[0]+l,d[1]+m]},anchorTo:function(a,b,c,d,e,f){var g=this,h=g.dom,i=!Ext.isEmpty(e),j=function(){Ext.fly(h).alignTo(a,b,c,d),Ext.callback(f,Ext.fly(h))},k=this.getAnchor();return this.removeAnchor(),Ext.apply(k,{fn:j,scroll:i}),Ext.EventManager.onWindowResize(j,null),i&&Ext.EventManager.on(window,"scroll",j,null,{buffer:isNaN(e)?50:e}),j.call(g),g},removeAnchor:function(){var a=this,b=this.getAnchor();return b&&b.fn&&(Ext.EventManager.removeResizeListener(b.fn),b.scroll&&Ext.EventManager.un(window,"scroll",b.fn),delete b.fn),a},getAnchor:function(){var a=Ext.Element.data,b=this.dom;if(b){var c=a(b,"_anchor");return c||(c=a(b,"_anchor",{})),c}},getAlignToXY:function(a,b,c){if(a=Ext.get(a),!a||!a.dom)throw"Element.alignToXY with an element that doesn't exist";c=c||[0,0],b=(b&&"?"!=b?/-/.test(b)||""===b?b||"tl-bl":"tl-"+b:"tl-bl?").toLowerCase();var d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=(q.dom,Ext.lib.Dom.getViewWidth()-10),s=Ext.lib.Dom.getViewHeight()-10,t=document,u=t.documentElement,v=t.body,w=(u.scrollLeft||v.scrollLeft||0)+5,x=(u.scrollTop||v.scrollTop||0)+5,y=!1,z="",A="",B=b.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!B)throw"Element.alignTo with an invalid alignment "+b;return z=B[1],A=B[2],y=!!B[3],d=q.getAnchorXY(z,!0),e=a.getAnchorXY(A,!1),f=e[0]-d[0]+c[0],g=e[1]-d[1]+c[1],y&&(h=q.getWidth(),i=q.getHeight(),j=a.getRegion(),k=z.charAt(0),l=z.charAt(z.length-1),m=A.charAt(0),n=A.charAt(A.length-1),o="t"==k&&"b"==m||"b"==k&&"t"==m,p="r"==l&&"l"==n||"l"==l&&"r"==n,f+h>r+w&&(f=p?j.left-h:r+w-h),w>f&&(f=p?j.right:w),g+i>s+x&&(g=o?j.top-i:s+x-i),x>g&&(g=o?j.bottom:x)),[f,g]},alignTo:function(a,b,c,d){var e=this;return e.setXY(e.getAlignToXY(a,b,c),e.preanim&&d?e.preanim(arguments,3):!1)},adjustForConstraints:function(a,b,c){return this.getConstrainToXY(b||document,!1,c,a)||a},getConstrainToXY:function(){var a={top:0,left:0,bottom:0,right:0};return function(b,c,d,e){b=Ext.get(b),d=d?Ext.applyIf(d,a):a;var f,g,h=0,i=0;if(b.dom==document.body||b.dom==document)f=Ext.lib.Dom.getViewWidth(),g=Ext.lib.Dom.getViewHeight();else if(f=b.dom.clientWidth,g=b.dom.clientHeight,!c){var j=b.getXY();h=j[0],i=j[1]}var k=b.getScroll();h+=d.left+k.left,i+=d.top+k.top,f-=d.right,g-=d.bottom;var l=h+f,m=i+g,n=e||(c?[this.getLeft(!0),this.getTop(!0)]:this.getXY()),o=n[0],p=n[1],q=this.dom.offsetWidth,r=this.dom.offsetHeight,s=!1;return o+q>l&&(o=l-q,s=!0),p+r>m&&(p=m-r,s=!0),h>o&&(o=h,s=!0),i>p&&(p=i,s=!0),s?[o,p]:!1}}(),getCenterXY:function(){return this.getAlignToXY(document,"c-c")},center:function(a){return this.alignTo(a||document,"c-c")}}),Ext.Element.addMethods(function(){var a="parentNode",b="nextSibling",c="previousSibling",d=Ext.DomQuery,e=Ext.get;return{findParent:function(a,b,c){var f,g=this.dom,h=document.body,i=0;if(Ext.isGecko&&"[object XULElement]"==Object.prototype.toString.call(g))return null;for(b=b||50,isNaN(b)&&(f=Ext.getDom(b),b=Number.MAX_VALUE);g&&1==g.nodeType&&b>i&&g!=h&&g!=f;){if(d.is(g,a))return c?e(g):g;i++,g=g.parentNode}return null},findParentNode:function(a,b,c){var d=Ext.fly(this.dom.parentNode,"_internal");return d?d.findParent(a,b,c):null},up:function(a,b){return this.findParentNode(a,b,!0)},select:function(a){return Ext.Element.select(a,this.dom)},query:function(a){return d.select(a,this.dom)},child:function(a,b){var c=d.selectNode(a,this.dom);return b?c:e(c)},down:function(a,b){var c=d.selectNode(" > "+a,this.dom);return b?c:e(c)},parent:function(b,c){return this.matchNode(a,a,b,c)},next:function(a,c){return this.matchNode(b,b,a,c)},prev:function(a,b){return this.matchNode(c,c,a,b)},first:function(a,c){return this.matchNode(b,"firstChild",a,c)},last:function(a,b){return this.matchNode(c,"lastChild",a,b)},matchNode:function(a,b,c,f){for(var g=this.dom[b];g;){if(1==g.nodeType&&(!c||d.is(g,c)))return f?g:e(g);g=g[a]}return null}}}()),Ext.Element.addMethods({select:function(a,b){return Ext.Element.select(a,b,this.dom)}}),Ext.Element.addMethods(function(){var a=Ext.getDom,b=Ext.get,c=Ext.DomHelper;return{appendChild:function(a){return b(a).appendTo(this)},appendTo:function(b){return a(b).appendChild(this.dom),this},insertBefore:function(b){return(b=a(b)).parentNode.insertBefore(this.dom,b),this},insertAfter:function(b){return(b=a(b)).parentNode.insertBefore(this.dom,b.nextSibling),this},insertFirst:function(c,d){return c=c||{},c.nodeType||c.dom||"string"==typeof c?(c=a(c),this.dom.insertBefore(c,this.dom.firstChild),d?c:b(c)):this.createChild(c,this.dom.firstChild,d)},replace:function(a){return a=b(a),this.insertBefore(a),a.remove(),this},replaceWith:function(b){var d=this;return b.nodeType||b.dom||"string"==typeof b?(b=a(b),d.dom.parentNode.insertBefore(b,d.dom)):b=c.insertBefore(d.dom,b),delete Ext.elCache[d.id],Ext.removeNode(d.dom),d.id=Ext.id(d.dom=b),Ext.Element.addToCache(d.isFlyweight?new Ext.Element(d.dom):d),d},createChild:function(a,b,d){return a=a||{tag:"div"},b?c.insertBefore(b,a,d!==!0):c[this.dom.firstChild?"append":"overwrite"](this.dom,a,d!==!0)},wrap:function(a,b){var d=c.insertBefore(this.dom,a||{tag:"div"},!b);return d.dom?d.dom.appendChild(this.dom):d.appendChild(this.dom),d},insertHtml:function(a,b,d){var e=c.insertHtml(a,this.dom,b);return d?Ext.get(e):e}}}()),Ext.apply(Ext.Element.prototype,function(){var a=Ext.getDom,b=Ext.get,c=Ext.DomHelper;return{insertSibling:function(d,e,f){var g,h,i=this,j="after"==(e||"before").toLowerCase();return Ext.isArray(d)?(h=i,Ext.each(d,function(a){g=Ext.fly(h,"_internal").insertSibling(a,e,f),j&&(h=g)}),g):(d=d||{},d.nodeType||d.dom?(g=i.dom.parentNode.insertBefore(a(d),j?i.dom.nextSibling:i.dom),f||(g=b(g))):g=j&&!i.dom.nextSibling?c.append(i.dom.parentNode,d,!f):c[j?"insertAfter":"insertBefore"](i.dom,d,!f),g)}}}()),Ext.Element.addMethods(function(){function a(a,b){return b.charAt(1).toUpperCase()}function b(b){return c[b]||(c[b]="float"==b?g:b.replace(d,a))}var c={},d=/(-[a-z])/gi,e={},f=document.defaultView,g=Ext.isIE?"styleFloat":"cssFloat",h=/alpha\(opacity=(.*)\)/i,i=/^\s+|\s+$/g,j=(Ext.Element,"padding"),k="margin",l="border",m="-left",n="-right",o="-top",p="-bottom",q="-width",r=Math,s="hidden",t="isClipped",u="overflow",v="overflow-x",w="overflow-y",x="originalClip",y={l:l+m+q,r:l+n+q,t:l+o+q,b:l+p+q},z={l:j+m,r:j+n,t:j+o,b:j+p},A={l:k+m,r:k+n,t:k+o,b:k+p},B=Ext.Element.data;return{adjustWidth:function(a){var b=this,c=Ext.isNumber(a);return c&&b.autoBoxAdjust&&!b.isBorderBox()&&(a-=b.getBorderWidth("lr")+b.getPadding("lr")),c&&0>a?0:a},adjustHeight:function(a){var b=this,c=Ext.isNumber(a);return c&&b.autoBoxAdjust&&!b.isBorderBox()&&(a-=b.getBorderWidth("tb")+b.getPadding("tb")),c&&0>a?0:a},addClass:function(a){var b,c,d,e=this;for(a=Ext.isArray(a)?a:[a],b=0,c=a.length;c>b;b++)d=a[b],d&&(e.dom.className+=!e.hasClass(d)&&d?" "+d:"");return e},radioClass:function(a){var b,c=this.dom.parentNode.childNodes;a=Ext.isArray(a)?a:[a];for(var d=0,e=c.length;e>d;d++)b=c[d],b&&1==b.nodeType&&Ext.fly(b,"_internal").removeClass(a);return this.addClass(a)},removeClass:function(a){var b,c=this;if(a=Ext.isArray(a)?a:[a],c.dom&&c.dom.className)for(var d=0,f=a.length;f>d;d++)b=a[d],b&&(c.dom.className=c.dom.className.replace(e[b]=e[b]||new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)","g")," "));return c},toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a)},hasClass:function(a){return a&&-1!=(" "+this.dom.className+" ").indexOf(" "+a+" ")},replaceClass:function(a,b){return this.removeClass(a).addClass(b)},isStyle:function(a,b){return this.getStyle(a)==b},getStyle:function(){return f&&f.getComputedStyle?function(a){var c,d,e,g,g,h=this.dom,i=Ext.isWebKit;return h==document?null:(a=b(a),i&&/marginRight/.test(a)&&(g=this.getStyle("display"),h.style.display="inline-block"),e=(c=h.style[a])?c:(d=f.getComputedStyle(h,""))?d[a]:null,i&&("rgba(0, 0, 0, 0)"==e?e="transparent":g&&(h.style.display=g)),e)}:function(a){var c,d,e=this.dom;if(e==document)return null;if("opacity"==a){if(e.style.filter.match&&(c=e.style.filter.match(h))){var f=parseFloat(c[1]);if(!isNaN(f))return f?f/100:0}return 1}return a=b(a),e.style[a]||((d=e.currentStyle)?d[a]:null)}}(),getColor:function(a,b,c){var d,e=this.getStyle(a),f=Ext.isDefined(c)?c:"#";return!e||/transparent|inherit/.test(e)?b:(/^r/.test(e)?Ext.each(e.slice(4,e.length-1).split(","),function(a){d=parseInt(a,10),f+=(16>d?"0":"")+d.toString(16)}):(e=e.replace("#",""),f+=3==e.length?e.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):e),f.length>5?f.toLowerCase():b)},setStyle:function(a,c){var d,e;Ext.isObject(a)||(d={},d[a]=c,a=d);for(e in a)c=a[e],"opacity"==e?this.setOpacity(c):this.dom.style[b(e)]=c;return this},setOpacity:function(a,b){var c=this,d=c.dom.style;if(b&&c.anim)c.anim({opacity:{to:a}},c.preanim(arguments,1),null,.35,"easeIn");else if(Ext.isIE){var e=1>a?"alpha(opacity="+100*a+")":"",f=d.filter.replace(h,"").replace(i,"");d.zoom=1,d.filter=f+(f.length>0?" ":"")+e}else d.opacity=a;return c},clearOpacity:function(){var a=this.dom.style;return Ext.isIE?Ext.isEmpty(a.filter)||(a.filter=a.filter.replace(h,"").replace(i,"")):a.opacity=a["-moz-opacity"]=a["-khtml-opacity"]="",this},getHeight:function(a){var b=this,c=b.dom,d=Ext.isIE&&b.isStyle("display","none"),e=r.max(c.offsetHeight,d?0:c.clientHeight)||0;return e=a?e-b.getBorderWidth("tb")-b.getPadding("tb"):e,0>e?0:e},getWidth:function(a){var b=this,c=b.dom,d=Ext.isIE&&b.isStyle("display","none"),e=r.max(c.offsetWidth,d?0:c.clientWidth)||0;return e=a?e-b.getBorderWidth("lr")-b.getPadding("lr"):e,0>e?0:e},setWidth:function(a,b){var c=this;return a=c.adjustWidth(a),b&&c.anim?c.anim({width:{to:a}},c.preanim(arguments,1)):c.dom.style.width=c.addUnits(a),c},setHeight:function(a,b){var c=this;return a=c.adjustHeight(a),b&&c.anim?c.anim({height:{to:a}},c.preanim(arguments,1)):c.dom.style.height=c.addUnits(a),c},getBorderWidth:function(a){return this.addStyles(a,y)},getPadding:function(a){return this.addStyles(a,z)},clip:function(){var a=this,b=a.dom;return B(b,t)||(B(b,t,!0),B(b,x,{o:a.getStyle(u),x:a.getStyle(v),y:a.getStyle(w)}),a.setStyle(u,s),a.setStyle(v,s),a.setStyle(w,s)),a},unclip:function(){var a=this,b=a.dom;if(B(b,t)){B(b,t,!1);var c=B(b,x);c.o&&a.setStyle(u,c.o),c.x&&a.setStyle(v,c.x),c.y&&a.setStyle(w,c.y)}return a},addStyles:function(a,b){for(var c,d=0,e=a.match(/\w/g),f=0,g=e.length;g>f;f++)c=e[f]&&parseInt(this.getStyle(b[e[f]]),10),c&&(d+=r.abs(c));return d},margins:A}}()),Ext.Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>',Ext.Element.addMethods(function(){var a="_internal",b=/(\d+)px/;return{applyStyles:function(a){return Ext.DomHelper.applyStyles(this.dom,a),this},getStyles:function(){var a={};return Ext.each(arguments,function(b){a[b]=this.getStyle(b)},this),a},getStyleSize:function(){var a,b,c=this,d=this.dom,e=d.style;return e.width&&"auto"!=e.width&&(a=parseInt(e.width,10),c.isBorderBox()&&(a-=c.getFrameWidth("lr"))),e.height&&"auto"!=e.height&&(b=parseInt(e.height,10),c.isBorderBox()&&(b-=c.getFrameWidth("tb"))),{width:a||c.getWidth(!0),height:b||c.getHeight(!0)}},setOverflow:function(a){var b=this.dom;"auto"==a&&Ext.isMac&&Ext.isGecko2?(b.style.overflow="hidden",function(){b.style.overflow="auto"}.defer(1)):b.style.overflow=a},boxWrap:function(a){a=a||"x-box";var b=Ext.get(this.insertHtml("beforeBegin","<div class='"+a+"'>"+String.format(Ext.Element.boxMarkup,a)+"</div>"));return Ext.DomQuery.selectNode("."+a+"-mc",b.dom).appendChild(this.dom),b},setSize:function(a,b,c){var d=this;return Ext.isObject(a)&&(b=a.height,a=a.width),a=d.adjustWidth(a),b=d.adjustHeight(b),c&&d.anim?d.anim({width:{to:a},height:{to:b}},d.preanim(arguments,2)):(d.dom.style.width=d.addUnits(a),d.dom.style.height=d.addUnits(b)),d},getComputedHeight:function(){var a=this,b=Math.max(a.dom.offsetHeight,a.dom.clientHeight);return b||(b=parseInt(a.getStyle("height"),10)||0,a.isBorderBox()||(b+=a.getFrameWidth("tb"))),b},getComputedWidth:function(){var a=Math.max(this.dom.offsetWidth,this.dom.clientWidth);return a||(a=parseInt(this.getStyle("width"),10)||0,this.isBorderBox()||(a+=this.getFrameWidth("lr"))),a},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:this.getPadding(a)+this.getBorderWidth(a)},addClassOnOver:function(b){return this.hover(function(){Ext.fly(this,a).addClass(b)},function(){Ext.fly(this,a).removeClass(b)}),this},addClassOnFocus:function(b){return this.on("focus",function(){Ext.fly(this,a).addClass(b)},this.dom),this.on("blur",function(){Ext.fly(this,a).removeClass(b)},this.dom),this},addClassOnClick:function(b){var c=this.dom;return this.on("mousedown",function(){Ext.fly(c,a).addClass(b);var d=Ext.getDoc(),e=function(){Ext.fly(c,a).removeClass(b),d.removeListener("mouseup",e)};d.on("mouseup",e)}),this},getViewSize:function(a){var c,d,e,f=document,g=this,h=g.dom,i=Ext.lib.Dom,j=h==f||h==f.body,k=0,l=0,m=0,n=0;return j?{width:i.getViewWidth(),height:i.getViewHeight()}:(c=g.isBorderBox(),k=g.getBorderWidth("tb"),l=g.getBorderWidth("lr"),m=g.getPadding("tb"),n=g.getPadding("lr"),(d=g.getStyle("width").match(b))?((d=parseInt(d[1],10))&&c&&(d-=l+n),a||(d+=n)):(!(d=h.clientWidth)&&(d=h.offsetWidth)&&(d-=l),d&&a&&(d-=n)),(e=g.getStyle("height").match(b))?((e=parseInt(e[1],10))&&c&&(e-=k+m),a||(e+=m)):(!(e=h.clientHeight)&&(e=h.offsetHeight)&&(e-=k),e&&a&&(e-=m)),{width:d,height:e})},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},repaint:function(){var a=this.dom;return this.addClass("x-repaint"),setTimeout(function(){Ext.fly(a).removeClass("x-repaint")},1),this},unselectable:function(){return this.dom.unselectable="on",this.swallowEvent("selectstart",!0).applyStyles("-moz-user-select:none;-khtml-user-select:none;").addClass("x-unselectable")},getMargins:function(a){var b,c=this,d={t:"top",l:"left",r:"right",b:"bottom"},e={};if(a)return c.addStyles.call(c,a,c.margins);for(b in c.margins)e[d[b]]=parseInt(c.getStyle(c.margins[b]),10)||0;return e}}}()),function(){var a=Ext.lib.Dom,b="left",c="right",d="top",e="bottom",f="position",g="static",h="relative",i="auto",j="z-index";Ext.Element.addMethods({getX:function(){return a.getX(this.dom)},getY:function(){return a.getY(this.dom)},getXY:function(){return a.getXY(this.dom)},getOffsetsTo:function(a){var b=this.getXY(),c=Ext.fly(a,"_internal").getXY();return[b[0]-c[0],b[1]-c[1]]},setX:function(a,b){return this.setXY([a,this.getY()],this.animTest(arguments,b,1))},setY:function(a,b){return this.setXY([this.getX(),a],this.animTest(arguments,b,1))},setLeft:function(a){return this.setStyle(b,this.addUnits(a)),this},setTop:function(a){return this.setStyle(d,this.addUnits(a)),this},setRight:function(a){return this.setStyle(c,this.addUnits(a)),this},setBottom:function(a){return this.setStyle(e,this.addUnits(a)),this},setXY:function(b,c){var d=this;return c&&d.anim?d.anim({points:{to:b}},d.preanim(arguments,1),"motion"):a.setXY(d.dom,b),d},setLocation:function(a,b,c){return this.setXY([a,b],this.animTest(arguments,c,2))},moveTo:function(a,b,c){return this.setXY([a,b],this.animTest(arguments,c,2))},getLeft:function(a){return a?parseInt(this.getStyle(b),10)||0:this.getX()},getRight:function(a){var b=this;return a?b.getLeft(!0)+b.getWidth()||0:b.getX()+b.getWidth()},getTop:function(a){return a?parseInt(this.getStyle(d),10)||0:this.getY()},getBottom:function(a){var b=this;return a?b.getTop(!0)+b.getHeight()||0:b.getY()+b.getHeight()},position:function(a,b,c,d){var e=this;!a&&e.isStyle(f,g)?e.setStyle(f,h):a&&e.setStyle(f,a),b&&e.setStyle(j,b),(c||d)&&e.setXY([c||!1,d||!1])},clearPositioning:function(a){return a=a||"",this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:g}),this},getPositioning:function(){var a=this.getStyle(b),g=this.getStyle(d);return{position:this.getStyle(f),left:a,right:a?"":this.getStyle(c),top:g,bottom:g?"":this.getStyle(e),"z-index":this.getStyle(j)}},setPositioning:function(a){var b=this,c=b.dom.style;return b.setStyle(a),a.right==i&&(c.right=""),a.bottom==i&&(c.bottom=""),b},translatePoints:function(a,c){c=isNaN(a[1])?c:a[1],a=isNaN(a[0])?a:a[0];var e=this,g=e.isStyle(f,h),i=e.getXY(),j=parseInt(e.getStyle(b),10),k=parseInt(e.getStyle(d),10);return j=isNaN(j)?g?0:e.dom.offsetLeft:j,k=isNaN(k)?g?0:e.dom.offsetTop:k,{left:a-i[0]+j,top:c-i[1]+k}},animTest:function(a,b,c){return b&&this.preanim?this.preanim(a,c):!1}})}(),Ext.Element.addMethods({setBox:function(a,b,c){var d=this,e=a.width,f=a.height;return!b||d.autoBoxAdjust||d.isBorderBox()||(e-=d.getBorderWidth("lr")+d.getPadding("lr"),f-=d.getBorderWidth("tb")+d.getPadding("tb")),d.setBounds(a.x,a.y,e,f,d.animTest.call(d,arguments,c,2)),d},getBox:function(a,b){var c,d,e,f,g,h,i,j=this,k=j.getBorderWidth,l=j.getPadding;b?(d=parseInt(j.getStyle("left"),10)||0,e=parseInt(j.getStyle("top"),10)||0,c=[d,e]):c=j.getXY();var m,n=j.dom,o=n.offsetWidth,p=n.offsetHeight;return a?(f=k.call(j,"l")+l.call(j,"l"),g=k.call(j,"r")+l.call(j,"r"),h=k.call(j,"t")+l.call(j,"t"),i=k.call(j,"b")+l.call(j,"b"),m={x:c[0]+f,y:c[1]+h,0:c[0]+f,1:c[1]+h,width:o-(f+g),height:p-(h+i)}):m={x:c[0],y:c[1],0:c[0],1:c[1],width:o,height:p},m.right=m.x+m.width,m.bottom=m.y+m.height,m},move:function(a,b,c){var d=this,e=d.getXY(),f=e[0],g=e[1],h=[f-b,g],i=[f+b,g],j=[f,g-b],k=[f,g+b],l={l:h,left:h,r:i,right:i,t:j,top:j,up:j,b:k,bottom:k,down:k};a=a.toLowerCase(),d.moveTo(l[a][0],l[a][1],d.animTest.call(d,arguments,c,2))},setLeftTop:function(a,b){var c=this,d=c.dom.style;return d.left=c.addUnits(a),d.top=c.addUnits(b),c},getRegion:function(){return Ext.lib.Dom.getRegion(this.dom)},setBounds:function(a,b,c,d,e){var f=this;return e&&f.anim?f.anim({points:{to:[a,b]},width:{to:f.adjustWidth(c)},height:{to:f.adjustHeight(d)}},f.preanim(arguments,4),"motion"):(f.setSize(c,d),f.setLocation(a,b)),f},setRegion:function(a,b){return this.setBounds(a.left,a.top,a.right-a.left,a.bottom-a.top,this.animTest.call(this,arguments,b,1))}}),Ext.Element.addMethods({isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},scrollTo:function(a,b){return this.dom["scroll"+(/top/i.test(a)?"Top":"Left")]=b,this},getScroll:function(){var a,b,c,d=this.dom,e=document,f=e.body,g=e.documentElement;return d==e||d==f?(Ext.isIE&&Ext.isStrict?(a=g.scrollLeft,b=g.scrollTop):(a=window.pageXOffset,b=window.pageYOffset),c={left:a||(f?f.scrollLeft:0),top:b||(f?f.scrollTop:0)}):c={left:d.scrollLeft,top:d.scrollTop},c}}),Ext.Element.addMethods({scrollTo:function(a,b,c){var d,e=/top/i.test(a),f=this,g=f.dom;return c&&f.anim?(d="scroll"+(e?"Left":"Top"),f.anim({scroll:{to:e?[g[d],b]:[b,g[d]]}},f.preanim(arguments,2),"scroll")):(d="scroll"+(e?"Top":"Left"),g[d]=b),f},scrollIntoView:function(a,b){var c=Ext.getDom(a)||Ext.getBody().dom,d=this.dom,e=this.getOffsetsTo(c),f=e[0]+c.scrollLeft,g=e[1]+c.scrollTop,h=g+d.offsetHeight,i=f+d.offsetWidth,j=c.clientHeight,k=parseInt(c.scrollTop,10),l=parseInt(c.scrollLeft,10),m=k+j,n=l+c.clientWidth;return d.offsetHeight>j||k>g?c.scrollTop=g:h>m&&(c.scrollTop=h-j),c.scrollTop=c.scrollTop,b!==!1&&(d.offsetWidth>c.clientWidth||l>f?c.scrollLeft=f:i>n&&(c.scrollLeft=i-c.clientWidth),c.scrollLeft=c.scrollLeft),this},scrollChildIntoView:function(a,b){Ext.fly(a,"_scrollChildIntoView").scrollIntoView(this,b)},scroll:function(a,b){if(this.isScrollable()){var c,d=this.dom,e=d.scrollLeft,f=d.scrollTop,g=d.scrollWidth,h=d.scrollHeight,i=d.clientWidth,j=d.clientHeight,k=!1,l={l:Math.min(e+b,g-i),r:c=Math.max(e-b,0),t:Math.max(f-b,0),b:Math.min(f+b,h-j)};return l.d=l.b,l.u=l.t,a=a.substr(0,1),(c=l[a])>-1&&(k=!0,this.scrollTo("l"==a||"r"==a?"left":"top",c,this.preanim(arguments,2))),k}}}),Ext.Element.VISIBILITY=1,Ext.Element.DISPLAY=2,Ext.Element.addMethods(function(){var a="visibility",b="display",c="hidden",d="none",e="originalDisplay",f="visibilityMode",g=Ext.Element.DISPLAY,h=Ext.Element.data,i=function(a){var b=h(a,e);return void 0===b&&h(a,e,b=""),b},j=function(a){var b=h(a,f);return void 0===b&&h(a,f,b=1),b};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(a){return h(this.dom,f,a),this},animate:function(a,b,c,d,e){return this.anim(a,{duration:b,callback:c,easing:d},e),this},anim:function(a,b,c,d,e,f){c=c||"run",b=b||{};var g=this,h=Ext.lib.Anim[c](g.dom,a,b.duration||d||.35,b.easing||e||"easeOut",function(){f&&f.call(g),b.callback&&b.callback.call(b.scope||g,g,b)},g);return b.anim=h,h},preanim:function(a,b){return a[b]?Ext.isObject(a[b])?a[b]:{duration:a[b+1],callback:a[b+2],easing:a[b+3]}:!1},isVisible:function(){return!this.isStyle(a,c)&&!this.isStyle(b,d)},setVisible:function(e,f){var h=this,i=h.dom,k=j(this.dom)==g;return f&&h.anim?(e&&(h.setOpacity(.01),h.setVisible(!0)),h.anim({opacity:{to:e?1:0}},h.preanim(arguments,1),null,.35,"easeIn",function(){e||(i.style[k?b:a]=k?d:c,Ext.fly(i).setOpacity(1))})):k?h.setDisplayed(e):(h.fixDisplay(),i.style.visibility=e?"visible":c),h},toggle:function(){var a=this;return a.setVisible(!a.isVisible(),a.preanim(arguments,0)),a},setDisplayed:function(a){return"boolean"==typeof a&&(a=a?i(this.dom):d),this.setStyle(b,a),this},fixDisplay:function(){var e=this;e.isStyle(b,d)&&(e.setStyle(a,c),e.setStyle(b,i(this.dom)),e.isStyle(b,d)&&e.setStyle(b,"block"))},hide:function(){return this.setVisible(!1,this.preanim(arguments,0)),this},show:function(){return this.setVisible(!0,this.preanim(arguments,0)),this}}}()),Ext.Element.addMethods(function(){var a="visibility",b="display",c="hidden",d="none",e="x-masked",f="x-masked-relative",g=Ext.Element.data;return{isVisible:function(e){var f=!this.isStyle(a,c)&&!this.isStyle(b,d),g=this.dom.parentNode;if(e!==!0||!f)return f;for(;g&&!/body/i.test(g.tagName);){if(!Ext.fly(g,"_isVisible").isVisible())return!1;g=g.parentNode}return!0},isDisplayed:function(){return!this.isStyle(b,d)},enableDisplayMode:function(a){return this.setVisibilityMode(Ext.Element.DISPLAY),Ext.isEmpty(a)||g(this.dom,"originalDisplay",a),this},mask:function(a,b){var c,d,h=this,i=h.dom,j=Ext.DomHelper,k="ext-el-mask-msg";if("static"==h.getStyle("position")&&h.addClass(f),(c=g(i,"maskMsg"))&&c.remove(),(c=g(i,"mask"))&&c.remove(),d=j.append(i,{cls:"ext-el-mask"},!0),g(i,"mask",d),h.addClass(e),d.setDisplayed(!0),"string"==typeof a){var l=j.append(i,{cls:k,cn:{tag:"div"}},!0);g(i,"maskMsg",l),l.dom.className=b?k+" "+b:k,l.dom.firstChild.innerHTML=a,l.setDisplayed(!0),l.center(h)}return!Ext.isIE||Ext.isIE7&&Ext.isStrict||"auto"!=h.getStyle("height")||d.setSize(void 0,h.getHeight()),d},unmask:function(){var a=this,b=a.dom,c=g(b,"mask"),d=g(b,"maskMsg");c&&(d&&(d.remove(),g(b,"maskMsg",void 0)),c.remove(),g(b,"mask",void 0)),a.removeClass([e,f])},isMasked:function(){var a=g(this.dom,"mask");return a&&a.isVisible()},createShim:function(){var a,b=document.createElement("iframe");return b.frameBorder="0",b.className="ext-shim",b.src=Ext.SSL_SECURE_URL,a=Ext.get(this.dom.parentNode.insertBefore(b,this.dom)),a.autoBoxAdjust=!1,a}}}()),Ext.Element.addMethods({addKeyListener:function(a,b,c){var d;return d=!Ext.isObject(a)||Ext.isArray(a)?{key:a,fn:b,scope:c}:{key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:b,scope:c},new Ext.KeyMap(this,d)},addKeyMap:function(a){return new Ext.KeyMap(this,a)}}),function(){var a=null,b=void 0,c=!0,d=!1,e="setX",f="setY",g="setXY",h="left",i="bottom",j="top",k="right",l="height",m="width",n="points",o="hidden",p="absolute",q="visible",r="motion",s="position",t="easeOut",u=new Ext.Element.Flyweight,v={},w=function(a){return a||{}},x=function(a){return u.dom=a,u.id=Ext.id(a),u},y=function(a){return v[a]||(v[a]=[]),v[a]},z=function(a,b){v[a]=b};Ext.enableFx=c,Ext.Fx={switchStatements:function(a,b,c){return b.apply(this,c[a])},slideIn:function(b,c){c=w(c);var d,l,m,n,s,u,v,y,z,A=this,B=A.dom,s=B.style;return b=b||"t",A.queueFx(c,function(){function w(){x(B).fxUnwrap(n,l.pos,c),s.width=l.width,s.height=l.height,x(B).afterFx(c)}function A(a,b,c,d,e,f,g,h,i,j,k){var l={};return x(a).setWidth(c).setHeight(d),x(a)[e]&&x(a)[e](f),b[g]=b[h]="0",i&&(l.width=i),j&&(l.height=j),k&&(l.points=k),l}d=x(B).getXY(),x(B).fixDisplay(),l=x(B).getFxRestore(),m={x:d[0],y:d[1],0:d[0],1:d[1],width:B.offsetWidth,height:B.offsetHeight},m.right=m.x+m.width,m.bottom=m.y+m.height,x(B).setWidth(m.width).setHeight(m.height),n=x(B).fxWrap(l.pos,c,o),s.visibility=q,s.position=p,v={to:[m.x,m.y]},y={to:m.width},z={to:m.height},u=x(B).switchStatements(b.toLowerCase(),A,{t:[n,s,m.width,0,a,a,h,i,a,z,a],l:[n,s,0,m.height,a,a,k,j,y,a,a],r:[n,s,m.width,m.height,e,m.right,h,j,a,a,v],b:[n,s,m.width,m.height,f,m.bottom,h,j,a,z,v],tl:[n,s,0,0,a,a,k,i,y,z,v],bl:[n,s,0,0,f,m.y+m.height,k,j,y,z,v],br:[n,s,0,0,g,[m.right,m.bottom],h,j,y,z,v],tr:[n,s,0,0,e,m.x+m.width,h,i,y,z,v]}),s.visibility=q,x(n).show(),arguments.callee.anim=x(n).fxanim(u,c,r,.5,t,w)}),A},slideOut:function(a,b){b=w(b);var c,e,f,g,o=this,s=o.dom,u=s.style,v=o.getXY(),y={to:0};return a=a||"t",o.queueFx(b,function(){function o(){b.useDisplay?x(s).setDisplayed(d):x(s).hide(),x(s).fxUnwrap(c,e.pos,b),u.width=e.width,u.height=e.height,x(s).afterFx(b)}function w(a,b,c,d,e,f,g,h,i){var j={};return a[b]=a[c]="0",j[d]=e,f&&(j[f]=g),h&&(j[h]=i),j}e=x(s).getFxRestore(),f={x:v[0],y:v[1],0:v[0],1:v[1],width:s.offsetWidth,height:s.offsetHeight},f.right=f.x+f.width,f.bottom=f.y+f.height,x(s).setWidth(f.width).setHeight(f.height),c=x(s).fxWrap(e.pos,b,q),u.visibility=q,u.position=p,x(c).setWidth(f.width).setHeight(f.height),g=x(s).switchStatements(a.toLowerCase(),w,{t:[u,h,i,l,y],l:[u,k,j,m,y],r:[u,h,j,m,y,n,{to:[f.right,f.y]}],b:[u,h,j,l,y,n,{to:[f.x,f.bottom]}],tl:[u,k,i,m,y,l,y],bl:[u,k,j,m,y,l,y,n,{to:[f.x,f.bottom]}],br:[u,h,j,m,y,l,y,n,{to:[f.x+f.width,f.bottom]}],tr:[u,h,i,m,y,l,y,n,{to:[f.right,f.y]}]}),arguments.callee.anim=x(c).fxanim(g,b,r,.5,t,o)}),o},puff:function(a){a=w(a);var b,c,e,f=this,g=f.dom,h=g.style;return f.queueFx(a,function(){function f(){a.useDisplay?x(g).setDisplayed(d):x(g).hide(),x(g).clearOpacity(),x(g).setPositioning(e.pos),h.width=e.width,h.height=e.height,h.fontSize="",x(g).afterFx(a)}b=x(g).getWidth(),c=x(g).getHeight(),x(g).clearOpacity(),x(g).show(),e=x(g).getFxRestore(),arguments.callee.anim=x(g).fxanim({width:{to:x(g).adjustWidth(2*b)},height:{to:x(g).adjustHeight(2*c)},points:{by:[.5*-b,.5*-c]},opacity:{to:0},fontSize:{to:200,unit:"%"}},a,r,.5,t,f)
}),f},switchOff:function(b){b=w(b);var c,e=this,f=e.dom,g=f.style;return e.queueFx(b,function(){function e(){b.useDisplay?x(f).setDisplayed(d):x(f).hide(),x(f).clearOpacity(),x(f).setPositioning(c.pos),g.width=c.width,g.height=c.height,x(f).afterFx(b)}x(f).clearOpacity(),x(f).clip(),c=x(f).getFxRestore(),x(f).fxanim({opacity:{to:.3}},a,a,.1,a,function(){x(f).clearOpacity(),function(){x(f).fxanim({height:{to:1},points:{by:[0,.5*x(f).getHeight()]}},b,r,.3,"easeIn",e)}.defer(100)})}),e},highlight:function(a,b){b=w(b);var c,d=this,e=d.dom,f=b.attr||"backgroundColor",g={};return d.queueFx(b,function(){function d(){e.style[f]=c,x(e).afterFx(b)}x(e).clearOpacity(),x(e).show(),c=e.style[f],g[f]={from:a||"ffff9c",to:b.endColor||x(e).getColor(f)||"ffffff"},arguments.callee.anim=x(e).fxanim(g,b,"color",1,"easeIn",d)}),d},frame:function(a,b,c){c=w(c);var d,e,f=this,g=f.dom;return f.queueFx(c,function(){function f(){var a=Ext.isBorderBox?2:1;e=d.anim({top:{from:i.y,to:i.y-20},left:{from:i.x,to:i.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:i.height,to:i.height+20*a},width:{from:i.width,to:i.width+20*a}},{duration:c.duration||1,callback:function(){d.remove(),--b>0?j():x(g).afterFx(c)}}),arguments.callee.anim={isAnimated:!0,stop:function(){e.stop()}}}a=a||"#C3DAF9",6==a.length&&(a="#"+a),b=b||1,x(g).show();var h=x(g).getXY(),i={x:h[0],y:h[1],0:h[0],1:h[1],width:g.offsetWidth,height:g.offsetHeight},j=function(){return d=x(document.body||document.documentElement).createChild({style:{position:p,"z-index":35e3,border:"0px solid "+a}}),d.queueFx({},f)};arguments.callee.anim={isAnimated:!0,stop:function(){b=0,d.stopFx()}},j()}),f},pause:function(a){var b,c=this.dom;return this.queueFx({},function(){b=setTimeout(function(){x(c).afterFx({})},1e3*a),arguments.callee.anim={isAnimated:!0,stop:function(){clearTimeout(b),x(c).afterFx({})}}}),this},fadeIn:function(b){b=w(b);var c=this,d=c.dom,e=b.endOpacity||1;return c.queueFx(b,function(){x(d).setOpacity(0),x(d).fixDisplay(),d.style.visibility=q,arguments.callee.anim=x(d).fxanim({opacity:{to:e}},b,a,.5,t,function(){1==e&&x(d).clearOpacity(),x(d).afterFx(b)})}),c},fadeOut:function(b){b=w(b);var c=this,d=c.dom,e=d.style,f=b.endOpacity||0;return c.queueFx(b,function(){arguments.callee.anim=x(d).fxanim({opacity:{to:f}},b,a,.5,t,function(){0==f&&(Ext.Element.data(d,"visibilityMode")==Ext.Element.DISPLAY||b.useDisplay?e.display="none":e.visibility=o,x(d).clearOpacity()),x(d).afterFx(b)})}),c},scale:function(a,b,c){return this.shift(Ext.apply({},c,{width:a,height:b})),this},shift:function(a){a=w(a);var c=this.dom,d={};return this.queueFx(a,function(){for(var e in a)a[e]!=b&&(d[e]={to:a[e]});d.width?d.width.to=x(c).adjustWidth(a.width):d,d.height?d.height.to=x(c).adjustWidth(a.height):d,(d.x||d.y||d.xy)&&(d.points=d.xy||{to:[d.x?d.x.to:x(c).getX(),d.y?d.y.to:x(c).getY()]}),arguments.callee.anim=x(c).fxanim(d,a,r,.35,t,function(){x(c).afterFx(a)})}),this},ghost:function(a,b){b=w(b);var c,e,f,g=this,h=g.dom,i=h.style,j={opacity:{to:0},points:{}},k=j.points;return a=a||"b",g.queueFx(b,function(){function g(){b.useDisplay?x(h).setDisplayed(d):x(h).hide(),x(h).clearOpacity(),x(h).setPositioning(c.pos),i.width=c.width,i.height=c.height,x(h).afterFx(b)}c=x(h).getFxRestore(),e=x(h).getWidth(),f=x(h).getHeight(),k.by=x(h).switchStatements(a.toLowerCase(),function(a,b){return[a,b]},{t:[0,-f],l:[-e,0],r:[e,0],b:[0,f],tl:[-e,-f],bl:[-e,f],br:[e,f],tr:[e,-f]}),arguments.callee.anim=x(h).fxanim(j,b,r,.5,t,g)}),g},syncFx:function(){var a=this;return a.fxDefaults=Ext.apply(a.fxDefaults||{},{block:d,concurrent:c,stopFx:d}),a},sequenceFx:function(){var a=this;return a.fxDefaults=Ext.apply(a.fxDefaults||{},{block:d,concurrent:d,stopFx:d}),a},nextFx:function(){var a=y(this.dom.id)[0];a&&a.call(this)},hasActiveFx:function(){return y(this.dom.id)[0]},stopFx:function(a){var b=this,d=b.dom.id;if(b.hasActiveFx()){var e=y(d)[0];e&&e.anim&&(e.anim.isAnimated?(z(d,[e]),e.anim.stop(void 0!==a?a:c)):z(d,[]))}return b},beforeFx:function(a){return this.hasActiveFx()&&!a.concurrent?a.stopFx?(this.stopFx(),c):d:c},hasFxBlock:function(){var a=y(this.dom.id);return a&&a[0]&&a[0].block},queueFx:function(a,b){var c=x(this.dom);if(!c.hasFxBlock())if(Ext.applyIf(a,c.fxDefaults),a.concurrent)b.call(c);else{var d=c.beforeFx(a);b.block=a.block,y(c.dom.id).push(b),d&&c.nextFx()}return c},fxWrap:function(a,b,c){var d,e,f=this.dom;if(!b.wrap||!(d=Ext.getDom(b.wrap))){b.fixPosition&&(e=x(f).getXY());var g=document.createElement("div");g.style.visibility=c,d=f.parentNode.insertBefore(g,f),x(d).setPositioning(a),x(d).isStyle(s,"static")&&x(d).position("relative"),x(f).clearPositioning("auto"),x(d).clip(),d.appendChild(f),e&&x(d).setXY(e)}return d},fxUnwrap:function(a,b,c){var d=this.dom;if(x(d).clearPositioning(),x(d).setPositioning(b),!c.wrap){var e=x(a).dom.parentNode;e.insertBefore(d,a),x(a).remove()}},getFxRestore:function(){var a=this.dom.style;return{pos:this.getPositioning(),width:a.width,height:a.height}},afterFx:function(a){var b=this.dom,d=b.id;a.afterStyle&&x(b).setStyle(a.afterStyle),a.afterCls&&x(b).addClass(a.afterCls),a.remove==c&&x(b).remove(),a.callback&&a.callback.call(a.scope,x(b)),a.concurrent||(y(d).shift(),x(b).nextFx())},fxanim:function(a,b,c,d,e,f){c=c||"run",b=b||{};var g=Ext.lib.Anim[c](this.dom,a,b.duration||d||.35,b.easing||e||t,f,this);return b.anim=g,g}},Ext.Fx.resize=Ext.Fx.scale,Ext.Element.addMethods(Ext.Fx)}(),Ext.CompositeElementLite=function(a,b){this.elements=[],this.add(a,b),this.el=new Ext.Element.Flyweight},Ext.CompositeElementLite.prototype={isComposite:!0,getElement:function(a){var b=this.el;return b.dom=a,b.id=a.id,b},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(a,b){var c=this,d=c.elements;if(!a)return this;Ext.isString(a)?a=Ext.Element.selectorFunction(a,b):a.isComposite?a=a.elements:Ext.isIterable(a)||(a=[a]);for(var e=0,f=a.length;f>e;++e)d.push(c.transformElement(a[e]));return c},invoke:function(a,b){var c,d=this,e=d.elements,f=e.length;for(i=0;f>i;i++)c=e[i],c&&Ext.Element.prototype[a].apply(d.getElement(c),b);return d},item:function(a){var b=this,c=b.elements[a],d=null;return c&&(d=b.getElement(c)),d},addListener:function(a,b,c,d){var e,f,g=this.elements,h=g.length;for(e=0;h>e;e++)f=g[e],f&&Ext.EventManager.on(f,a,b,c||f,d);return this},each:function(a,b){var c,d,e=this,f=e.elements,g=f.length;for(c=0;g>c&&(d=f[c],!d||(d=this.getElement(d),!a.call(b||d,d,e,c)));c++);return e},fill:function(a){var b=this;return b.elements=[],b.add(a),b},filter:function(a){var b=[],c=this,d=(c.elements,Ext.isFunction(a)?a:function(b){return b.is(a)});return c.each(function(a,e,f){d(a,f)!==!1&&(b[b.length]=c.transformElement(a))}),c.elements=b,c},indexOf:function(a){return this.elements.indexOf(this.transformElement(a))},replaceElement:function(a,b,c){var d,e=isNaN(a)?this.indexOf(a):a;return e>-1&&(b=Ext.getDom(b),c&&(d=this.elements[e],d.parentNode.insertBefore(b,d),Ext.removeNode(d)),this.elements.splice(e,1,b)),this},clear:function(){this.elements=[]}},Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener,function(){var a,b=Ext.Element.prototype,c=Ext.CompositeElementLite.prototype;for(a in b)Ext.isFunction(b[a])&&function(a){c[a]=c[a]||function(){return this.invoke(a,arguments)}}.call(c,a)}(),Ext.DomQuery&&(Ext.Element.selectorFunction=Ext.DomQuery.select),Ext.Element.select=function(a,b){var c;if("string"==typeof a)c=Ext.Element.selectorFunction(a,b);else{if(void 0===a.length)throw"Invalid selector";c=a}return new Ext.CompositeElementLite(c)},Ext.select=Ext.Element.select,Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(a,b){if(!a)return this;"string"==typeof a&&(a=Ext.Element.selectorFunction(a,b));var c=this.elements;return Ext.each(a,function(a){c.push(Ext.get(a))}),this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return-1!=this.indexOf(a)},removeElement:function(a,b){var c,d=this,e=this.elements;return Ext.each(a,function(a){(c=e[a]||e[a=d.indexOf(a)])&&(b&&(c.dom?c.remove():Ext.removeNode(c)),e.splice(a,1))}),this}}),Ext.CompositeElement=function(a,b){this.elements=[],this.add(a,b)},Ext.extend(Ext.CompositeElement,Ext.CompositeElementLite,{getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}}),Ext.Element.select=function(a,b,c){var d;if("string"==typeof a)d=Ext.Element.selectorFunction(a,c);else{if(void 0===a.length)throw"Invalid selector";d=a}return b===!0?new Ext.CompositeElement(d):new Ext.CompositeElementLite(d)},Ext.select=Ext.Element.select,function(){var a="beforerequest",b="requestcomplete",c="requestexception",d=void 0,e="load",f="POST",g="GET",h=window;Ext.data.Connection=function(d){Ext.apply(this,d),this.addEvents(a,b,c),Ext.data.Connection.superclass.constructor.call(this)},Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:3e4,autoAbort:!1,disableCaching:!0,disableCachingParam:"_dc",request:function(b){var c=this;if(c.fireEvent(a,c,b)){b.el&&(Ext.isEmpty(b.indicatorText)||(c.indicatorText='<div class="loading-indicator">'+b.indicatorText+"</div>"),c.indicatorText&&(Ext.getDom(b.el).innerHTML=c.indicatorText),b.success=(Ext.isFunction(b.success)?b.success:function(){}).createInterceptor(function(a){Ext.getDom(b.el).innerHTML=a.responseText}));var e,i,j,k=b.params,l=b.url||c.url,m={success:c.handleResponse,failure:c.handleFailure,scope:c,argument:{options:b},timeout:b.timeout||c.timeout};if(Ext.isFunction(k)&&(k=k.call(b.scope||h,b)),k=Ext.urlEncode(c.extraParams,Ext.isObject(k)?Ext.urlEncode(k):k),Ext.isFunction(l)&&(l=l.call(b.scope||h,b)),i=Ext.getDom(b.form)){if(l=l||i.action,b.isUpload||/multipart\/form-data/i.test(i.getAttribute("enctype")))return c.doFormUpload.call(c,b,k,l);j=Ext.lib.Ajax.serializeForm(i),k=k?k+"&"+j:j}if(e=b.method||c.method||(k||b.xmlData||b.jsonData?f:g),e===g&&c.disableCaching&&b.disableCaching!==!1||b.disableCaching===!0){var n=b.disableCachingParam||c.disableCachingParam;l=Ext.urlAppend(l,n+"="+(new Date).getTime())}return b.headers=Ext.apply(b.headers||{},c.defaultHeaders||{}),(b.autoAbort===!0||c.autoAbort)&&c.abort(),(e==g||b.xmlData||b.jsonData)&&k&&(l=Ext.urlAppend(l,k),k=""),c.transId=Ext.lib.Ajax.request(e,l,m,k,b)}return b.callback?b.callback.apply(b.scope,[b,d,d]):null},isLoading:function(a){return a?Ext.lib.Ajax.isCallInProgress(a):!!this.transId},abort:function(a){(a||this.isLoading())&&Ext.lib.Ajax.abort(a||this.transId)},handleResponse:function(a){this.transId=!1;var c=a.argument.options;a.argument=c?c.argument:null,this.fireEvent(b,this,a,c),c.success&&c.success.call(c.scope,a,c),c.callback&&c.callback.call(c.scope,c,!0,a)},handleFailure:function(a,b){this.transId=!1;var d=a.argument.options;a.argument=d?d.argument:null,this.fireEvent(c,this,a,d,b),d.failure&&d.failure.call(d.scope,a,d),d.callback&&d.callback.call(d.scope,d,!1,a)},doFormUpload:function(a,c,d){function g(){function c(a,b,c){Ext.isFunction(a)&&a.apply(b,c)}var d,f,i=this,k={responseText:"",responseXML:null,argument:a.argument};try{d=l.contentWindow.document||l.contentDocument||h.frames[j].document,d&&(d.body&&(k.responseText=/textarea/i.test((f=d.body.firstChild||{}).tagName)?f.value:d.body.innerHTML),k.responseXML=d.XMLDocument||d)}catch(m){}Ext.EventManager.removeListener(l,e,g,i),i.fireEvent(b,i,k,a),c(a.success,a.scope,[k,a]),c(a.callback,a.scope,[a,!0,k]),i.debugUploads||setTimeout(function(){Ext.removeNode(l)},100)}var i,j=Ext.id(),k=document,l=k.createElement("iframe"),m=Ext.getDom(a.form),n=[],o="multipart/form-data",p={target:m.target,method:m.method,encoding:m.encoding,enctype:m.enctype,action:m.action};Ext.fly(l).set({id:j,name:j,cls:"x-hidden",src:Ext.SSL_SECURE_URL}),k.body.appendChild(l),Ext.isIE&&(document.frames[j].name=j),Ext.fly(m).set({target:j,method:f,enctype:o,encoding:o,action:d||p.action}),Ext.iterate(Ext.urlDecode(c,!1),function(a,b){i=k.createElement("input"),Ext.fly(i).set({type:"hidden",value:b,name:a}),m.appendChild(i),n.push(i)}),Ext.EventManager.on(l,e,g,this),m.submit(),Ext.fly(m).set(p),Ext.each(n,function(a){Ext.removeNode(a)})}})}(),Ext.Ajax=new Ext.data.Connection({autoAbort:!1,serializeForm:function(a){return Ext.lib.Ajax.serializeForm(a)}}),Ext.UpdateManager=Ext.Updater=Ext.extend(Ext.util.Observable,function(){function a(a){var c=this;if(c.transaction=null,a.argument.form&&a.argument.reset)try{a.argument.form.reset()}catch(d){}c.loadScripts?c.renderer.render(c.el,a,c,b.createDelegate(c,[a])):(c.renderer.render(c.el,a,c),b.call(c,a))}function b(a,b,c){this.fireEvent(b||e,this.el,a),Ext.isFunction(a.argument.callback)&&a.argument.callback.call(a.argument.scope,this.el,Ext.isEmpty(c)?!0:!1,a,a.argument.options)}function c(a){b.call(this,a,f,!!(this.transaction=null))}var d="beforeupdate",e="update",f="failure";return{constructor:function(a,b){var c=this;return a=Ext.get(a),!b&&a.updateManager?a.updateManager:(c.el=a,c.defaultUrl=null,c.addEvents(d,e,f),Ext.apply(c,Ext.Updater.defaults),c.transaction=null,c.refreshDelegate=c.refresh.createDelegate(c),c.updateDelegate=c.update.createDelegate(c),c.formUpdateDelegate=(c.formUpdate||function(){}).createDelegate(c),c.renderer=c.renderer||c.getDefaultRenderer(),void Ext.Updater.superclass.constructor.call(c))},setRenderer:function(a){this.renderer=a},getRenderer:function(){return this.renderer},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer},setDefaultUrl:function(a){this.defaultUrl=a},getEl:function(){return this.el},update:function(b,e,f,g){var h,i,j=this;if(j.fireEvent(d,j.el,b,e)!==!1){Ext.isObject(b)&&(h=b,b=h.url,e=e||h.params,f=f||h.callback,g=g||h.discardUrl,i=h.scope,Ext.isEmpty(h.nocache)||(j.disableCaching=h.nocache),Ext.isEmpty(h.text)||(j.indicatorText='<div class="loading-indicator">'+h.text+"</div>"),Ext.isEmpty(h.scripts)||(j.loadScripts=h.scripts),Ext.isEmpty(h.timeout)||(j.timeout=h.timeout)),j.showLoading(),g||(j.defaultUrl=b),Ext.isFunction(b)&&(b=b.call(j));var k=Ext.apply({},{url:b,params:Ext.isFunction(e)&&i?e.createDelegate(i):e,success:a,failure:c,scope:j,callback:void 0,timeout:1e3*j.timeout,disableCaching:j.disableCaching,argument:{options:h,url:b,form:null,callback:f,scope:i||window,params:e}},h);j.transaction=Ext.Ajax.request(k)}},formUpdate:function(b,e,f,g){var h=this;h.fireEvent(d,h.el,b,e)!==!1&&(Ext.isFunction(e)&&(e=e.call(h)),b=Ext.getDom(b),h.transaction=Ext.Ajax.request({form:b,url:e,success:a,failure:c,scope:h,timeout:1e3*h.timeout,argument:{url:e,form:b,callback:g,reset:f}}),h.showLoading.defer(1,h))},startAutoRefresh:function(a,b,c,d,e){var f=this;e&&f.update(b||f.defaultUrl,c,d,!0),f.autoRefreshProcId&&clearInterval(f.autoRefreshProcId),f.autoRefreshProcId=setInterval(f.update.createDelegate(f,[b||f.defaultUrl,c,d,!0]),1e3*a)},stopAutoRefresh:function(){this.autoRefreshProcId&&(clearInterval(this.autoRefreshProcId),delete this.autoRefreshProcId)},isAutoRefreshing:function(){return!!this.autoRefreshProcId},showLoading:function(){this.showLoadIndicator&&(this.el.dom.innerHTML=this.indicatorText)},abort:function(){this.transaction&&Ext.Ajax.abort(this.transaction)},isUpdating:function(){return this.transaction?Ext.Ajax.isLoading(this.transaction):!1},refresh:function(a){this.defaultUrl&&this.update(this.defaultUrl,null,a,!0)}}}()),Ext.Updater.defaults={timeout:30,disableCaching:!1,showLoadIndicator:!0,indicatorText:'<div class="loading-indicator">Loading...</div>',loadScripts:!1,sslBlankUrl:Ext.SSL_SECURE_URL},Ext.Updater.updateElement=function(a,b,c,d){var e=Ext.get(a).getUpdater();Ext.apply(e,d),e.update(b,c,d?d.callback:null)},Ext.Updater.BasicRenderer=function(){},Ext.Updater.BasicRenderer.prototype={render:function(a,b,c,d){a.update(b.responseText,c.loadScripts,d)}},function(){function a(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})}Date.useStrict=!1,Date.formatCodeToRegex=function(b,c){var d=Date.parseCodes[b];return d&&(d="function"==typeof d?d():d,Date.parseCodes[b]=d),d?Ext.applyIf({c:d.c?a(d.c,c||"{0}"):d.c},d):{g:0,c:null,s:Ext.escapeRe(b)}};var b=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{M$:function(a){var b=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),c=(a||"").match(b);return c?new Date(1*((c[1]||"")+c[2])):null}},parseRegexes:[],formatFunctions:{M$:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(a){return Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"this.getFullYear()",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var a="Y-m-dTH:i:sP",b=[],c=0,d=a.length;d>c;++c){var e=a.charAt(c);b.push("T"==e?"'T'":Date.getFormatCode(e))}return b.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(a,b,c,d,e,f,g){d=d||0,e=e||0,f=f||0,g=g||0;var h=new Date(a,b-1,c,d,e,f,g);return a==h.getFullYear()&&b==h.getMonth()+1&&c==h.getDate()&&d==h.getHours()&&e==h.getMinutes()&&f==h.getSeconds()&&g==h.getMilliseconds()},parseDate:function(a,b,c){var d=Date.parseFunctions;return null==d[b]&&Date.createParser(b),d[b](a,Ext.isDefined(c)?c:Date.useStrict)},getFormatCode:function(a){var b=Date.formatCodes[a];return b&&(b="function"==typeof b?b():b,Date.formatCodes[a]=b),b||"'"+String.escape(a)+"'"},createFormat:function(a){for(var b=[],c=!1,d="",e=0;e<a.length;++e)d=a.charAt(e),c||"\\"!=d?c?(c=!1,b.push("'"+String.escape(d)+"'")):b.push(Date.getFormatCode(d)):c=!0;Date.formatFunctions[a]=new Function("return "+b.join("+"))},createParser:function(){var c=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Date.defaults,","results = String(input).match(Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = (new Date()).clearTime();","y = y >= 0? y : Ext.num(def.y, dt.getFullYear());","m = m >= 0? m : Ext.num(def.m - 1, dt.getMonth());","d = d >= 0? d : Ext.num(def.d, dt.getDate());","h  = h || Ext.num(def.h, dt.getHours());","i  = i || Ext.num(def.i, dt.getMinutes());","s  = s || Ext.num(def.s, dt.getSeconds());","ms = ms || Ext.num(def.ms, dt.getMilliseconds());","if(z >= 0 && y >= 0){","v = new Date(y, 0, 1, h, i, s, ms);","v = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);","}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = new Date(y, m, d, h, i, s, ms);","}","}","}","if(v){","if(zz != null){","v = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(d){for(var e=Date.parseRegexes.length,f=1,g=[],h=[],i=!1,j="",k=0;k<d.length;++k)if(j=d.charAt(k),i||"\\"!=j)if(i)i=!1,h.push(String.escape(j));else{var l=b(j,f);f+=l.g,h.push(l.s),l.g&&l.c&&g.push(l.c)}else i=!0;Date.parseRegexes[e]=new RegExp("^"+h.join("")+"$","i"),Date.parseFunctions[d]=new Function("input","strict",a(c,e,g.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var a=[],b=0;7>b;a.push(Date.getShortDayName(b)),++b);return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var a=[],c=0;12>c;a.push(Date.getShortMonthName(c)),++c);return Ext.applyIf({s:"("+a.join("|")+")"},b("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return b("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (results[{0}] == 'am') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm)"},A:{g:1,c:"if (results[{0}] == 'AM') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM)"},g:function(){return b("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return b("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){for(var a=[],c=[b("Y",1),b("m",2),b("d",3),b("h",4),b("i",5),b("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",b("P",8).c,"}else{",b("O",8).c,"}","}"].join("\n")}],d=0,e=c.length;e>d;++d)a.push(c[d].c);return{g:1,c:a.join(""),s:[c[0].s,"(?:","-",c[1].s,"(?:","-",c[2].s,"(?:","(?:T| )?",c[3].s,":",c[4].s,"(?::",c[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}})}(),Ext.apply(Date.prototype,{dateFormat:function(a){return null==Date.formatFunctions[a]&&Date.createFormat(a),Date.formatFunctions[a].call(this)},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(a?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},getDayOfYear:function(){var a,b=0,c=this.clone(),d=this.getMonth();for(a=0,c.setDate(1),c.setMonth(0);d>a;c.setMonth(++a))b+=c.getDaysInMonth();return b+this.getDate()-1},getWeekOfYear:function(){var a=864e5,b=7*a;return function(){var c=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/a,d=Math.floor(c/7),e=new Date(d*b).getUTCFullYear();return d-Math.floor(Date.UTC(e,0,7)/b)+1}}(),isLeapYear:function(){var a=this.getFullYear();return!(0!=(3&a)||!(a%100||a%400==0&&a))},getFirstDayOfMonth:function(){var a=(this.getDay()-(this.getDate()-1))%7;return 0>a?a+7:a},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay()},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var b=this.getMonth();return 1==b&&this.isLeapYear()?29:a[b]}}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},isDST:function(){return new Date(this.getFullYear(),0,1).getTimezoneOffset()!=this.getTimezoneOffset()},clearTime:function(a){if(a)return this.clone().clearTime();var b=this.getDate();if(this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this.getDate()!=b){for(var c=1,d=this.add(Date.HOUR,c);d.getDate()!=b;c++,d=this.add(Date.HOUR,c));this.setDate(b),this.setHours(d.getHours())}return this},add:function(a,b){var c=this.clone();if(!a||0===b)return c;switch(a.toLowerCase()){case Date.MILLI:c.setMilliseconds(this.getMilliseconds()+b);break;case Date.SECOND:c.setSeconds(this.getSeconds()+b);break;case Date.MINUTE:c.setMinutes(this.getMinutes()+b);break;case Date.HOUR:c.setHours(this.getHours()+b);break;case Date.DAY:c.setDate(this.getDate()+b);break;case Date.MONTH:var d=this.getDate();d>28&&(d=Math.min(d,this.getFirstDateOfMonth().add("mo",b).getLastDateOfMonth().getDate())),c.setDate(d),c.setMonth(this.getMonth()+b);break;case Date.YEAR:c.setFullYear(this.getFullYear()+b)}return c},between:function(a,b){var c=this.getTime();return a.getTime()<=c&&c<=b.getTime()}}),Date.prototype.format=Date.prototype.dateFormat,Ext.isSafari&&(navigator.userAgent.match(/WebKit\/(\d+)/)[1]||0/0)<420&&Ext.apply(Date.prototype,{_xMonth:Date.prototype.setMonth,_xDate:Date.prototype.setDate,setMonth:function(a){if(-1>=a){var b=Math.ceil(-a),c=Math.ceil(b/12),d=b%12?12-b%12:0;return this.setFullYear(this.getFullYear()-c),this._xMonth(d)}return this._xMonth(a)},setDate:function(a){return this.setTime(this.getTime()-864e5*(this.getDate()-a))}}),Ext.util.MixedCollection=function(a,b){this.items=[],this.map={},this.keys=[],this.length=0,this.addEvents("clear","add","replace","remove","sort"),this.allowFunctions=a===!0,b&&(this.getKey=b),Ext.util.MixedCollection.superclass.constructor.call(this)},Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:!1,add:function(a,b){if(1==arguments.length&&(b=arguments[0],a=this.getKey(b)),"undefined"!=typeof a&&null!==a){var c=this.map[a];if("undefined"!=typeof c)return this.replace(a,b);this.map[a]=b}return this.length++,this.items.push(b),this.keys.push(a),this.fireEvent("add",this.length-1,b,a),b},getKey:function(a){return a.id},replace:function(a,b){1==arguments.length&&(b=arguments[0],a=this.getKey(b));var c=this.map[a];if("undefined"==typeof a||null===a||"undefined"==typeof c)return this.add(a,b);var d=this.indexOfKey(a);return this.items[d]=b,this.map[a]=b,this.fireEvent("replace",a,c,b),b},addAll:function(a){if(arguments.length>1||Ext.isArray(a))for(var b=arguments.length>1?arguments:a,c=0,d=b.length;d>c;c++)this.add(b[c]);else for(var e in a)(this.allowFunctions||"function"!=typeof a[e])&&this.add(e,a[e])},each:function(a,b){for(var c=[].concat(this.items),d=0,e=c.length;e>d&&a.call(b||c[d],c[d],d,e)!==!1;d++);},eachKey:function(a,b){for(var c=0,d=this.keys.length;d>c;c++)a.call(b||window,this.keys[c],this.items[c],c,d)},find:function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b||window,this.items[c],this.keys[c]))return this.items[c];return null},insert:function(a,b,c){return 2==arguments.length&&(c=arguments[1],b=this.getKey(c)),this.containsKey(b)&&(this.suspendEvents(),this.removeKey(b),this.resumeEvents()),a>=this.length?this.add(b,c):(this.length++,this.items.splice(a,0,c),"undefined"!=typeof b&&null!==b&&(this.map[b]=c),this.keys.splice(a,0,b),this.fireEvent("add",a,c,b),c)},remove:function(a){return this.removeAt(this.indexOf(a))},removeAt:function(a){if(a<this.length&&a>=0){this.length--;var b=this.items[a];this.items.splice(a,1);var c=this.keys[a];return"undefined"!=typeof c&&delete this.map[c],this.keys.splice(a,1),this.fireEvent("remove",b,c),b}return!1},removeKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return this.items.indexOf(a)},indexOfKey:function(a){return this.keys.indexOf(a)},item:function(a){var b=this.map[a],c=void 0!==b?b:"number"==typeof a?this.items[a]:void 0;return!Ext.isFunction(c)||this.allowFunctions?c:null},itemAt:function(a){return this.items[a]},key:function(a){return this.map[a]},contains:function(a){return-1!=this.indexOf(a)},containsKey:function(a){return"undefined"!=typeof this.map[a]},clear:function(){this.length=0,this.items=[],this.keys=[],this.map={},this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(a,b,c){var d,e,f="DESC"==String(b).toUpperCase()?-1:1,g=[],h=this.keys,i=this.items;for(c=c||function(a,b){return a-b},d=0,e=i.length;e>d;d++)g[g.length]={key:h[d],value:i[d],index:d};for(g.sort(function(b,d){var e=c(b[a],d[a])*f;return 0===e&&(e=b.index<d.index?-1:1),e}),d=0,e=g.length;e>d;d++)i[d]=g[d].value,h[d]=g[d].key;this.fireEvent("sort",this)},sort:function(a,b){this._sort("value",a,b)},keySort:function(a,b){this._sort("key",a,b||function(a,b){var c=String(a).toUpperCase(),d=String(b).toUpperCase();return c>d?1:d>c?-1:0})},getRange:function(a,b){var c=this.items;if(c.length<1)return[];a=a||0,b=Math.min("undefined"==typeof b?this.length-1:b,this.length-1);var d,e=[];if(b>=a)for(d=a;b>=d;d++)e[e.length]=c[d];else for(d=a;d>=b;d--)e[e.length]=c[d];return e},filter:function(a,b,c,d){return Ext.isEmpty(b,!1)?this.clone():(b=this.createValueMatcher(b,c,d),this.filterBy(function(c){return c&&b.test(c[a])}))},filterBy:function(a,b){var c=new Ext.util.MixedCollection;c.getKey=this.getKey;for(var d=this.keys,e=this.items,f=0,g=e.length;g>f;f++)a.call(b||this,e[f],d[f])&&c.add(d[f],e[f]);return c},findIndex:function(a,b,c,d,e){return Ext.isEmpty(b,!1)?-1:(b=this.createValueMatcher(b,d,e),this.findIndexBy(function(c){return c&&b.test(c[a])},null,c))},findIndexBy:function(a,b,c){for(var d=this.keys,e=this.items,f=c||0,g=e.length;g>f;f++)if(a.call(b||this,e[f],d[f]))return f;return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.escapeRe;a=String(a),b===!0?a=e(a):(a="^"+e(a),d===!0&&(a+="$")),a=new RegExp(a,c?"":"i")}return a},clone:function(){for(var a=new Ext.util.MixedCollection,b=this.keys,c=this.items,d=0,e=c.length;e>d;d++)a.add(b[d],c[d]);return a.getKey=this.getKey,a}}),Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item,Ext.util.JSON=new function(){var useHasOwn=!!{}.hasOwnProperty,isNative=function(){var a=null;return function(){return null===a&&(a=Ext.USE_NATIVE_JSON&&window.JSON&&"[object JSON]"==JSON.toString()),a
}}(),pad=function(a){return 10>a?"0"+a:a},doDecode=function(json){return eval("("+json+")")},doEncode=function(a){if(Ext.isDefined(a)&&null!==a){if(Ext.isArray(a))return encodeArray(a);if(Ext.isDate(a))return Ext.util.JSON.encodeDate(a);if(Ext.isString(a))return encodeString(a);if("number"==typeof a)return isFinite(a)?String(a):"null";if(Ext.isBoolean(a))return String(a);var b,c,d,e=["{"];for(c in a)if(!a.getElementsByTagName&&(!useHasOwn||a.hasOwnProperty(c)))switch(d=a[c],typeof d){case"undefined":case"function":case"unknown":break;default:b&&e.push(","),e.push(doEncode(c),":",null===d?"null":doEncode(d)),b=!0}return e.push("}"),e.join("")}return"null"},m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},encodeString=function(a){return/["\\\x00-\x1f]/.test(a)?'"'+a.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];return c?c:(c=b.charCodeAt(),"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16))})+'"':'"'+a+'"'},encodeArray=function(a){var b,c,d,e=["["],f=a.length;for(c=0;f>c;c+=1)switch(d=a[c],typeof d){case"undefined":case"function":case"unknown":break;default:b&&e.push(","),e.push(null===d?"null":Ext.util.JSON.encode(d)),b=!0}return e.push("]"),e.join("")};this.encodeDate=function(a){return'"'+a.getFullYear()+"-"+pad(a.getMonth()+1)+"-"+pad(a.getDate())+"T"+pad(a.getHours())+":"+pad(a.getMinutes())+":"+pad(a.getSeconds())+'"'},this.encode=function(){var a;return function(b){return a||(a=isNative()?JSON.stringify:doEncode),a(b)}}(),this.decode=function(){var a;return function(b){return a||(a=isNative()?JSON.parse:doDecode),a(b)}}()},Ext.encode=Ext.util.JSON.encode,Ext.decode=Ext.util.JSON.decode,Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g,stripTagsRE=/<\/?[^>]+>/gi,stripScriptsRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,nl2brRe=/\r?\n/g;return{ellipsis:function(a,b,c){if(a&&a.length>b){if(c){var d=a.substr(0,b-2),e=Math.max(d.lastIndexOf(" "),d.lastIndexOf("."),d.lastIndexOf("!"),d.lastIndexOf("?"));return-1==e||b-15>e?a.substr(0,b-3)+"...":d.substr(0,e)+"..."}return a.substr(0,b-3)+"..."}return a},undef:function(a){return void 0!==a?a:""},defaultValue:function(a,b){return void 0!==a&&""!==a?a:b},htmlEncode:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"):a},htmlDecode:function(a){return a?String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):a},trim:function(a){return String(a).replace(trimRe,"")},substr:function(a,b,c){return String(a).substr(b,c)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},capitalize:function(a){return a?a.charAt(0).toUpperCase()+a.substr(1).toLowerCase():a},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);return args.unshift(value),eval(fn).apply(window,args)}return eval(fn).call(window,value)},usMoney:function(a){a=Math.round(100*(a-0))/100,a=a==Math.floor(a)?a+".00":10*a==Math.floor(10*a)?a+"0":a,a=String(a);for(var b=a.split("."),c=b[0],d=b[1]?"."+b[1]:".00",e=/(\d+)(\d{3})/;e.test(c);)c=c.replace(e,"$1,$2");return a=c+d,"-"==a.charAt(0)?"-$"+a.substr(1):"$"+a},date:function(a,b){return a?(Ext.isDate(a)||(a=new Date(Date.parse(a))),a.dateFormat(b||"m/d/Y")):""},dateRenderer:function(a){return function(b){return Ext.util.Format.date(b,a)}},stripTags:function(a){return a?String(a).replace(stripTagsRE,""):a},stripScripts:function(a){return a?String(a).replace(stripScriptsRe,""):a},fileSize:function(a){return 1024>a?a+" bytes":1048576>a?Math.round(10*a/1024)/10+" KB":Math.round(10*a/1048576)/10+" MB"},math:function(){var a={};return function(b,c){return a[c]||(a[c]=new Function("v","return v "+c+";")),a[c](b)}}(),round:function(a,b){var c=Number(a);return"number"==typeof b&&(b=Math.pow(10,b),c=Math.round(a*b)/b),c},number:function(a,b){if(!b)return a;if(a=Ext.num(a,0/0),isNaN(a))return"";var c=",",d=".",e=!1,f=0>a;a=Math.abs(a),"/i"==b.substr(b.length-2)&&(b=b.substr(0,b.length-2),e=!0,c=".",d=",");var g=-1!=b.indexOf(c),h=(e?b.replace(/[^\d\,]/g,""):b.replace(/[^\d\.]/g,"")).split(d);if(1<h.length)a=a.toFixed(h[1].length);else{if(2<h.length)throw"NumberFormatException: invalid format, formats should have no more than 1 period: "+b;a=a.toFixed(0)}var i=a.toString();if(g){h=i.split(".");for(var j=h[0],k=[],l=j.length,m=Math.floor(l/3),n=j.length%3||3,o=0;l>o;o+=n)0!=o&&(n=3),k[k.length]=j.substr(o,n),m-=1;i=k.join(c),h[1]&&(i+=d+h[1])}return(f?"-":"")+b.replace(/[\d,?\.?]+/,i)},numberRenderer:function(a){return function(b){return Ext.util.Format.number(b,a)}},plural:function(a,b,c){return a+" "+(1==a?b:c?c:b+"s")},nl2br:function(a){return Ext.isEmpty(a)?"":a.replace(nl2brRe,"<br/>")}}}(),Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var a,b=this,c=b.html,d=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,e=/^<tpl\b[^>]*?for="(.*?)"/,f=/^<tpl\b[^>]*?if="(.*?)"/,g=/^<tpl\b[^>]*?exec="(.*?)"/,h=0,i=[],j="values",k="parent",l="xindex",m="xcount",n="return ",o="with(values){ ";for(c=["<tpl>",c,"</tpl>"].join("");a=c.match(d);){var p=a[0].match(e),q=a[0].match(f),r=a[0].match(g),s=null,t=null,u=null,v=p&&p[1]?p[1]:"";if(q&&(s=q&&q[1]?q[1]:null,s&&(t=new Function(j,k,l,m,o+n+Ext.util.Format.htmlDecode(s)+"; }"))),r&&(s=r&&r[1]?r[1]:null,s&&(u=new Function(j,k,l,m,o+Ext.util.Format.htmlDecode(s)+"; }"))),v)switch(v){case".":v=new Function(j,k,o+n+j+"; }");break;case"..":v=new Function(j,k,o+n+k+"; }");break;default:v=new Function(j,k,o+n+v+"; }")}i.push({id:h,target:v,exec:u,test:t,body:a[1]||""}),c=c.replace(a[0],"{xtpl"+h+"}"),++h}Ext.each(i,function(a){b.compileTpl(a)}),b.master=i[i.length-1],b.tpls=i},Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(a,b,c,d,e){var f,g,h=this,i=h.tpls[a],j=[];return i.test&&!i.test.call(h,b,c,d,e)||i.exec&&i.exec.call(h,b,c,d,e)?"":(g=i.target?i.target.call(h,b,c):b,f=g.length,c=i.target?b:c,i.target&&Ext.isArray(g)?(Ext.each(g,function(a,b){j[j.length]=i.compiled.call(h,a,c,b+1,f)}),j.join("")):i.compiled.call(h,g,c,d,e))},compileTpl:function(tpl){function fn(a,b,c,d,e){if("xtpl"==b.substr(0,4))return"'"+sep+"this.applySubTemplate("+b.substr(4)+", values, parent, xindex, xcount)"+sep+"'";var f;return f="."===b?"values":"#"===b?"xindex":-1!=b.indexOf(".")?b:"values['"+b+"']",e&&(f="("+f+e+")"),c&&useF?(d=d?","+d:"","this."!=c.substr(0,5)?c="fm."+c+"(":(c='this.call("'+c.substr(5)+'", ',d=", values")):(d="",c="("+f+" === undefined ? '' : "),"'"+sep+c+f+d+")"+sep+"'"}function codeFn(a,b){return"'"+sep+"("+b.replace(/\\'/g,"'")+")"+sep+"'"}var fm=Ext.util.Format,useF=this.disableFormats!==!0,sep=Ext.isGecko?"+":",",body;return Ext.isGecko?body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};":(body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"],body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)),body.push("'].join('');};"),body=body.join("")),eval(body),this},applyTemplate:function(a){return this.master.compiled.call(this,a,{},1,1)},compile:function(){return this}}),Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate,Ext.XTemplate.from=function(a){return a=Ext.getDom(a),new Ext.XTemplate(a.value||a.innerHTML)},Ext.util.CSS=function(){var a=null,b=document,c=/(-[a-z])/gi,d=function(a,b){return b.charAt(1).toUpperCase()};return{createStyleSheet:function(a,c){var d,e=b.getElementsByTagName("head")[0],f=b.createElement("style");if(f.setAttribute("type","text/css"),c&&f.setAttribute("id",c),Ext.isIE)e.appendChild(f),d=f.styleSheet,d.cssText=a;else{try{f.appendChild(b.createTextNode(a))}catch(g){f.cssText=a}e.appendChild(f),d=f.styleSheet?f.styleSheet:f.sheet||b.styleSheets[b.styleSheets.length-1]}return this.cacheStyleSheet(d),d},removeStyleSheet:function(a){var c=b.getElementById(a);c&&c.parentNode.removeChild(c)},swapStyleSheet:function(a,c){this.removeStyleSheet(a);var d=b.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),d.setAttribute("id",a),d.setAttribute("href",c),b.getElementsByTagName("head")[0].appendChild(d)},refreshCache:function(){return this.getRules(!0)},cacheStyleSheet:function(b){a||(a={});try{for(var c=b.cssRules||b.rules,d=c.length-1;d>=0;--d)a[c[d].selectorText.toLowerCase()]=c[d]}catch(e){}},getRules:function(c){if(null===a||c){a={};for(var d=b.styleSheets,e=0,f=d.length;f>e;e++)try{this.cacheStyleSheet(d[e])}catch(g){}}return a},getRule:function(a,b){var c=this.getRules(b);if(!Ext.isArray(a))return c[a.toLowerCase()];for(var d=0;d<a.length;d++)if(c[a[d]])return c[a[d].toLowerCase()];return null},updateRule:function(a,b,e){if(Ext.isArray(a)){for(var f=0;f<a.length;f++)if(this.updateRule(a[f],b,e))return!0}else{var g=this.getRule(a);if(g)return g.style[b.replace(c,d)]=e,!0}return!1}}}(),Ext.util.ClickRepeater=function(a,b){this.el=Ext.get(a),this.el.unselectable(),Ext.apply(this,b),this.addEvents("mousedown","click","mouseup"),this.disabled||(this.disabled=!0,this.enable()),this.handler&&this.on("click",this.handler,this.scope||this),Ext.util.ClickRepeater.superclass.constructor.call(this)},Ext.extend(Ext.util.ClickRepeater,Ext.util.Observable,{interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(a){(a||!this.disabled)&&(clearTimeout(this.timer),this.pressClass&&this.el.removeClass(this.pressClass),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.removeAllListeners()),this.disabled=!0},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){this.preventDefault&&a.preventDefault(),this.stopDefault&&a.stopEvent()},destroy:function(){this.disable(!0),Ext.destroy(this.el),this.purgeListeners()},handleMouseDown:function(){clearTimeout(this.timer),this.el.blur(),this.pressClass&&this.el.addClass(this.pressClass),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this),this.fireEvent("click",this),this.accelerate&&(this.delay=400),this.timer=this.click.defer(this.delay||this.interval,this)},click:function(){this.fireEvent("click",this),this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12e3):this.interval,this)},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer),this.pressClass&&this.el.removeClass(this.pressClass),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this),this.pressClass&&this.el.addClass(this.pressClass),this.click()},handleMouseUp:function(){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.removeClass(this.pressClass),this.fireEvent("mouseup",this)}}),Ext.KeyNav=function(a,b){this.el=Ext.get(a),Ext.apply(this,b),this.disabled||(this.disabled=!0,this.enable())},Ext.KeyNav.prototype={disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,relay:function(a){var b=a.getKey(),c=this.keyToHandler[b];c&&this[c]&&this.doRelay(a,this[c],c)!==!0&&a[this.defaultEventAction]()},doRelay:function(a,b){return b.call(this.scope||this,a)},enter:!1,left:!1,right:!1,up:!1,down:!1,tab:!1,esc:!1,pageUp:!1,pageDown:!1,del:!1,home:!1,end:!1,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},stopKeyUp:function(a){var b=a.getKey();b>=37&&40>=b&&a.stopEvent()},destroy:function(){this.disable()},enable:function(){this.disabled&&(Ext.isSafari2&&this.el.on("keyup",this.stopKeyUp,this),this.el.on(this.isKeydown()?"keydown":"keypress",this.relay,this),this.disabled=!1)},disable:function(){this.disabled||(Ext.isSafari2&&this.el.un("keyup",this.stopKeyUp,this),this.el.un(this.isKeydown()?"keydown":"keypress",this.relay,this),this.disabled=!0)},setDisabled:function(a){this[a?"disable":"enable"]()},isKeydown:function(){return this.forceKeyDown||Ext.EventManager.useKeydown}},Ext.KeyMap=function(a,b,c){this.el=Ext.get(a),this.eventName=c||"keydown",this.bindings=[],b&&this.addBinding(b),this.enable()},Ext.KeyMap.prototype={stopEvent:!1,addBinding:function(a){if(Ext.isArray(a))return void Ext.each(a,function(a){this.addBinding(a)},this);var b=a.key,c=a.fn||a.handler,d=a.scope;if(a.stopEvent&&(this.stopEvent=a.stopEvent),"string"==typeof b){for(var e=[],f=b.toUpperCase(),g=0,h=f.length;h>g;g++)e.push(f.charCodeAt(g));b=e}var i=Ext.isArray(b),j=function(e){if(this.checkModifiers(a,e)){var f=e.getKey();if(i){for(var g=0,h=b.length;h>g;g++)if(b[g]==f)return this.stopEvent&&e.stopEvent(),void c.call(d||window,f,e)}else f==b&&(this.stopEvent&&e.stopEvent(),c.call(d||window,f,e))}};this.bindings.push(j)},checkModifiers:function(a,b){for(var c,d,e=["shift","ctrl","alt"],f=0,g=e.length;g>f;++f)if(d=e[f],c=a[d],void 0!==c&&c!==b[d+"Key"])return!1;return!0},on:function(a,b,c){var d,e,f,g;"object"!=typeof a||Ext.isArray(a)?d=a:(d=a.key,e=a.shift,f=a.ctrl,g=a.alt),this.addBinding({key:d,shift:e,ctrl:f,alt:g,fn:b,scope:c})},handleKeyDown:function(a){if(this.enabled)for(var b=this.bindings,c=0,d=b.length;d>c;c++)b[c].call(this,a)},isEnabled:function(){return this.enabled},enable:function(){this.enabled||(this.el.on(this.eventName,this.handleKeyDown,this),this.enabled=!0)},disable:function(){this.enabled&&(this.el.removeListener(this.eventName,this.handleKeyDown,this),this.enabled=!1)},setDisabled:function(a){this[a?"disable":"enable"]()}},Ext.util.TextMetrics=function(){var a;return{measure:function(b,c,d){return a||(a=Ext.util.TextMetrics.Instance(b,d)),a.bind(b),a.setFixedWidth(d||"auto"),a.getSize(c)},createInstance:function(a,b){return Ext.util.TextMetrics.Instance(a,b)}}}(),Ext.util.TextMetrics.Instance=function(a,b){var c=new Ext.Element(document.createElement("div"));document.body.appendChild(c.dom),c.position("absolute"),c.setLeftTop(-1e3,-1e3),c.hide(),b&&c.setWidth(b);var d={getSize:function(a){c.update(a);var b=c.getSize();return c.update(""),b},bind:function(a){c.setStyle(Ext.fly(a).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){c.setWidth(a)},getWidth:function(a){return c.dom.style.width="auto",this.getSize(a).width},getHeight:function(a){return this.getSize(a).height}};return d.bind(a),d},Ext.Element.addMethods({getTextWidth:function(a,b,c){return Ext.util.TextMetrics.measure(this.dom,Ext.value(a,this.dom.innerHTML,!0)).width.constrain(b||0,c||1e6)}}),Ext.util.Cookies={set:function(a,b){var c=arguments,d=arguments.length,e=d>2?c[2]:null,f=d>3?c[3]:"/",g=d>4?c[4]:null,h=d>5?c[5]:!1;document.cookie=a+"="+escape(b)+(null===e?"":"; expires="+e.toGMTString())+(null===f?"":"; path="+f)+(null===g?"":"; domain="+g)+(h===!0?"; secure":"")},get:function(a){for(var b=a+"=",c=b.length,d=document.cookie.length,e=0,f=0;d>e;){if(f=e+c,document.cookie.substring(e,f)==b)return Ext.util.Cookies.getCookieVal(f);if(e=document.cookie.indexOf(" ",e)+1,0===e)break}return null},clear:function(a){Ext.util.Cookies.get(a)&&(document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT")},getCookieVal:function(a){var b=document.cookie.indexOf(";",a);return-1==b&&(b=document.cookie.length),unescape(document.cookie.substring(a,b))}},Ext.handleError=function(a){throw a},Ext.Error=function(a){this.message=this.lang[a]?this.lang[a]:a},Ext.Error.prototype=new Error,Ext.apply(Ext.Error.prototype,{lang:{},name:"Ext.Error",getName:function(){return this.name},getMessage:function(){return this.message},toJson:function(){return Ext.encode(this)}}),Ext.ComponentMgr=function(){var a=new Ext.util.MixedCollection,b={},c={};return{register:function(b){a.add(b)},unregister:function(b){a.remove(b)},get:function(b){return a.get(b)},onAvailable:function(b,c,d){a.on("add",function(e,f){f.id==b&&(c.call(d||f,f),a.un("add",c,d))})},all:a,isRegistered:function(a){return void 0!==b[a]},registerType:function(a,c){b[a]=c,c.xtype=a},create:function(a,c){return a.render?a:new b[a.xtype||c](a)},registerPlugin:function(a,b){c[a]=b,b.ptype=a},createPlugin:function(a,b){var d=c[a.ptype||b];return d.init?d:new d(a)}}}(),Ext.reg=Ext.ComponentMgr.registerType,Ext.preg=Ext.ComponentMgr.registerPlugin,Ext.create=Ext.ComponentMgr.create,Ext.Component=function(a){if(a=a||{},a.initialConfig?(a.isAction&&(this.baseAction=a),a=a.initialConfig):(a.tagName||a.dom||Ext.isString(a))&&(a={applyTo:a,id:a.id||a}),this.initialConfig=a,Ext.apply(this,a),this.addEvents("added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave"),this.getId(),Ext.ComponentMgr.register(this),Ext.Component.superclass.constructor.call(this),this.baseAction&&this.baseAction.addComponent(this),this.initComponent(),this.plugins)if(Ext.isArray(this.plugins))for(var b=0,c=this.plugins.length;c>b;b++)this.plugins[b]=this.initPlugin(this.plugins[b]);else this.plugins=this.initPlugin(this.plugins);this.stateful!==!1&&this.initState(),this.applyTo?(this.applyToMarkup(this.applyTo),delete this.applyTo):this.renderTo&&(this.render(this.renderTo),delete this.renderTo)},Ext.Component.AUTO_ID=1e3,Ext.extend(Ext.Component,Ext.util.Observable,{disabled:!1,hidden:!1,autoEl:"div",disabledClass:"x-item-disabled",allowDomMove:!0,autoShow:!1,hideMode:"display",hideParent:!1,rendered:!1,tplWriteMode:"overwrite",ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode]},initPlugin:function(a){return a.ptype&&!Ext.isFunction(a.init)?a=Ext.ComponentMgr.createPlugin(a):Ext.isString(a)&&(a=Ext.ComponentMgr.createPlugin({ptype:a})),a.init(this),a},initComponent:Ext.emptyFn,render:function(a,b){if(!this.rendered&&this.fireEvent("beforerender",this)!==!1){!a&&this.el&&(this.el=Ext.get(this.el),a=this.el.dom.parentNode,this.allowDomMove=!1),this.container=Ext.get(a),this.ctCls&&this.container.addClass(this.ctCls),this.rendered=!0,void 0!==b&&(b=Ext.isNumber(b)?this.container.dom.childNodes[b]:Ext.getDom(b)),this.onRender(this.container,b||null),this.autoShow&&this.el.removeClass(["x-hidden","x-hide-"+this.hideMode]),this.cls&&(this.el.addClass(this.cls),delete this.cls),this.style&&(this.el.applyStyles(this.style),delete this.style),this.overCls&&this.el.addClassOnOver(this.overCls),this.fireEvent("render",this);var c=this.getContentTarget();if(this.html&&(c.update(Ext.DomHelper.markup(this.html)),delete this.html),this.contentEl){var d=Ext.getDom(this.contentEl);Ext.fly(d).removeClass(["x-hidden","x-hide-display"]),c.appendChild(d)}this.tpl&&(this.tpl.compile||(this.tpl=new Ext.XTemplate(this.tpl)),this.data&&(this.tpl[this.tplWriteMode](c,this.data),delete this.data)),this.afterRender(this.container),this.hidden&&this.doHide(),this.disabled&&this.disable(!0),this.stateful!==!1&&this.initStateEvents(),this.fireEvent("afterrender",this)}return this},update:function(a,b,c){var d=this.getContentTarget();if(this.tpl&&"string"!=typeof a)this.tpl[this.tplWriteMode](d,a||{});else{var e=Ext.isObject(a)?Ext.DomHelper.markup(a):a;d.update(e,b,c)}},onAdded:function(a,b){this.ownerCt=a,this.initRef(),this.fireEvent("added",this,a,b)},onRemoved:function(){this.removeRef(),this.fireEvent("removed",this,this.ownerCt),delete this.ownerCt},initRef:function(){if(this.ref&&!this.refOwner){for(var a=this.ref.split("/"),b=a.length,c=0,d=this;d&&b>c;)d=d.ownerCt,++c;d&&(d[this.refName=a[--c]]=this,this.refOwner=d)}},removeRef:function(){this.refOwner&&this.refName&&(delete this.refOwner[this.refName],delete this.refOwner)},initState:function(){if(Ext.state.Manager){var a=this.getStateId();if(a){var b=Ext.state.Manager.get(a);b&&this.fireEvent("beforestaterestore",this,b)!==!1&&(this.applyState(Ext.apply({},b)),this.fireEvent("staterestore",this,b))}}},getStateId:function(){return this.stateId||(0==this.id.indexOf("ext-comp-")||0==this.id.indexOf("ext-gen")?null:this.id)},initStateEvents:function(){if(this.stateEvents)for(var a,b=0;a=this.stateEvents[b];b++)this.on(a,this.saveState,this,{delay:100})},applyState:function(a){a&&Ext.apply(this,a)},getState:function(){return null},saveState:function(){if(Ext.state.Manager&&this.stateful!==!1){var a=this.getStateId();if(a){var b=this.getState();this.fireEvent("beforestatesave",this,b)!==!1&&(Ext.state.Manager.set(a,b),this.fireEvent("statesave",this,b))}}},applyToMarkup:function(a){this.allowDomMove=!1,this.el=Ext.get(a),this.render(this.el.dom.parentNode)},addClass:function(a){return this.el?this.el.addClass(a):this.cls=this.cls?this.cls+" "+a:a,this},removeClass:function(a){return this.el?this.el.removeClass(a):this.cls&&(this.cls=this.cls.split(" ").remove(a).join(" ")),this},onRender:function(a,b){if(!this.el&&this.autoEl){if(Ext.isString(this.autoEl))this.el=document.createElement(this.autoEl);else{var c=document.createElement("div");Ext.DomHelper.overwrite(c,this.autoEl),this.el=c.firstChild}this.el.id||(this.el.id=this.getId())}this.el&&(this.el=Ext.get(this.el),this.allowDomMove!==!1&&(a.dom.insertBefore(this.el.dom,b),c&&(Ext.removeNode(c),c=null)))},getAutoCreate:function(){var a=Ext.isObject(this.autoCreate)?this.autoCreate:Ext.apply({},this.defaultAutoCreate);return this.id&&!a.id&&(a.id=this.id),a},afterRender:Ext.emptyFn,destroy:function(){this.isDestroyed||this.fireEvent("beforedestroy",this)!==!1&&(this.destroying=!0,this.beforeDestroy(),this.ownerCt&&this.ownerCt.remove&&this.ownerCt.remove(this,!1),this.rendered&&(this.el.remove(),("container"==this.actionMode||"container"==this.removeMode)&&this.container.remove()),this.onDestroy(),Ext.ComponentMgr.unregister(this),this.fireEvent("destroy",this),this.purgeListeners(),this.destroying=!1,this.isDestroyed=!0)},deleteMembers:function(){for(var a=arguments,b=0,c=a.length;c>b;++b)delete this[a[b]]},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el},getContentTarget:function(){return this.el},getId:function(){return this.id||(this.id="ext-comp-"+ ++Ext.Component.AUTO_ID)},getItemId:function(){return this.itemId||this.getId()},focus:function(a,b){return b?void this.focus.defer(Ext.isNumber(b)?b:10,this,[a,!1]):(this.rendered&&(this.el.focus(),a===!0&&this.el.dom.select()),this)},blur:function(){return this.rendered&&this.el.blur(),this},disable:function(a){return this.rendered&&this.onDisable(),this.disabled=!0,a!==!0&&this.fireEvent("disable",this),this},onDisable:function(){this.getActionEl().addClass(this.disabledClass),this.el.dom.disabled=!0},enable:function(){return this.rendered&&this.onEnable(),this.disabled=!1,this.fireEvent("enable",this),this},onEnable:function(){this.getActionEl().removeClass(this.disabledClass),this.el.dom.disabled=!1},setDisabled:function(a){return this[a?"disable":"enable"]()},show:function(){return this.fireEvent("beforeshow",this)!==!1&&(this.hidden=!1,this.autoRender&&this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender),this.rendered&&this.onShow(),this.fireEvent("show",this)),this},onShow:function(){this.getVisibilityEl().removeClass("x-hide-"+this.hideMode)},hide:function(){return this.fireEvent("beforehide",this)!==!1&&(this.doHide(),this.fireEvent("hide",this)),this},doHide:function(){this.hidden=!0,this.rendered&&this.onHide()},onHide:function(){this.getVisibilityEl().addClass("x-hide-"+this.hideMode)},getVisibilityEl:function(){return this.hideParent?this.container:this.getActionEl()},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(){return this.rendered&&this.getVisibilityEl().isVisible()},cloneConfig:function(a){a=a||{};var b=a.id||Ext.id(),c=Ext.applyIf(a,this.initialConfig);return c.id=b,new this.constructor(c)},getXType:function(){return this.constructor.xtype},isXType:function(a,b){return Ext.isFunction(a)?a=a.xtype:Ext.isObject(a)&&(a=a.constructor.xtype),b?this.constructor.xtype==a:-1!=("/"+this.getXTypes()+"/").indexOf("/"+a+"/")},getXTypes:function(){var a=this.constructor;if(!a.xtypes){for(var b=[],c=this;c&&c.constructor.xtype;)b.unshift(c.constructor.xtype),c=c.constructor.superclass;a.xtypeChain=b,a.xtypes=b.join("/")}return a.xtypes},findParentBy:function(a){for(var b=this.ownerCt;null!=b&&!a(b,this);b=b.ownerCt);return b||null},findParentByType:function(a){return this.findParentBy(Ext.isFunction(a)?function(b){return b.constructor===a}:function(b){return b.constructor.xtype===a})},getPositionEl:function(){return this.positionEl||this.el},purgeListeners:function(){Ext.Component.superclass.purgeListeners.call(this),this.mons&&this.on("beforedestroy",this.clearMons,this,{single:!0})},clearMons:function(){Ext.each(this.mons,function(a){a.item.un(a.ename,a.fn,a.scope)},this),this.mons=[]},createMons:function(){this.mons||(this.mons=[],this.on("beforedestroy",this.clearMons,this,{single:!0}))},mon:function(a,b,c,d,e){if(this.createMons(),Ext.isObject(b)){var f=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,g=b;for(var h in g)f.test(h)||(Ext.isFunction(g[h])?(this.mons.push({item:a,ename:h,fn:g[h],scope:g.scope}),a.on(h,g[h],g.scope,g)):(this.mons.push({item:a,ename:h,fn:g[h],scope:g.scope}),a.on(h,g[h])))}else this.mons.push({item:a,ename:b,fn:c,scope:d}),a.on(b,c,d,e)},mun:function(a,b,c,d){var e,f;this.createMons();for(var g=0,h=this.mons.length;h>g;++g)if(f=this.mons[g],a===f.item&&b==f.ename&&c===f.fn&&d===f.scope){this.mons.splice(g,1),a.un(b,c,d),e=!0;break}return e},nextSibling:function(){if(this.ownerCt){var a=this.ownerCt.items.indexOf(this);if(-1!=a&&a+1<this.ownerCt.items.getCount())return this.ownerCt.items.itemAt(a+1)}return null},previousSibling:function(){if(this.ownerCt){var a=this.ownerCt.items.indexOf(this);if(a>0)return this.ownerCt.items.itemAt(a-1)}return null},getBubbleTarget:function(){return this.ownerCt}}),Ext.reg("component",Ext.Component),Ext.Action=Ext.extend(Object,{constructor:function(a){this.initialConfig=a,this.itemId=a.itemId=a.itemId||a.id||Ext.id(),this.items=[]},isAction:!0,setText:function(a){this.initialConfig.text=a,this.callEach("setText",[a])},getText:function(){return this.initialConfig.text},setIconClass:function(a){this.initialConfig.iconCls=a,this.callEach("setIconClass",[a])},getIconClass:function(){return this.initialConfig.iconCls},setDisabled:function(a){this.initialConfig.disabled=a,this.callEach("setDisabled",[a])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(a){this.initialConfig.hidden=a,this.callEach("setVisible",[!a])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(a,b){this.initialConfig.handler=a,this.initialConfig.scope=b,this.callEach("setHandler",[a,b])},each:function(a,b){Ext.each(this.items,a,b)},callEach:function(a,b){for(var c=this.items,d=0,e=c.length;e>d;d++)c[d][a].apply(c[d],b)},addComponent:function(a){this.items.push(a),a.on("destroy",this.removeComponent,this)},removeComponent:function(a){this.items.remove(a)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||window,arguments)}}),function(){Ext.Layer=function(a,b){a=a||{};var c=Ext.DomHelper,d=a.parentEl,e=d?Ext.getDom(d):document.body;if(b&&(this.dom=Ext.getDom(b)),!this.dom){var f=a.dh||{tag:"div",cls:"x-layer"};this.dom=c.append(e,f)}a.cls&&this.addClass(a.cls),this.constrain=a.constrain!==!1,this.setVisibilityMode(Ext.Element.VISIBILITY),this.id=a.id?this.dom.id=a.id:Ext.id(this.dom),this.zindex=a.zindex||this.getZIndex(),this.position("absolute",this.zindex),a.shadow?(this.shadowOffset=a.shadowOffset||4,this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:a.shadow})):this.shadowOffset=0,this.useShim=a.shim!==!1&&Ext.useShims,this.useDisplay=a.useDisplay,this.hide()};var a=Ext.Element.prototype,b=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt((this.getShim()||this).getStyle("z-index"),10)||11e3},getShim:function(){if(!this.useShim)return null;if(this.shim)return this.shim;var a=b.shift();a||(a=this.createShim(),a.enableDisplayMode("block"),a.dom.style.display="none",a.dom.style.visibility="visible");var c=this.dom.parentNode;return a.dom.parentNode!=c&&c.insertBefore(a.dom,this.dom),a.setStyle("z-index",this.getZIndex()-2),this.shim=a,a},hideShim:function(){this.shim&&(this.shim.setDisplayed(!1),b.push(this.shim),delete this.shim)},disableShadow:function(){this.shadow&&(this.shadowDisabled=!0,this.shadow.hide(),this.lastShadowOffset=this.shadowOffset,this.shadowOffset=0)},enableShadow:function(a){this.shadow&&(this.shadowDisabled=!1,this.shadowOffset=this.lastShadowOffset,delete this.lastShadowOffset,a&&this.sync(!0))},sync:function(a){var b=this.shadow;if(!this.updating&&this.isVisible()&&(b||this.useShim)){var c=this.getShim(),d=this.getWidth(),e=this.getHeight(),f=this.getLeft(!0),g=this.getTop(!0);if(b&&!this.shadowDisabled){if(a&&!b.isVisible()?b.show(this):b.realign(f,g,d,e),c){a&&c.show();var h=b.adjusts,i=c.dom.style;i.left=Math.min(f,f+h.l)+"px",i.top=Math.min(g,g+h.t)+"px",i.width=d+h.w+"px",i.height=e+h.h+"px"}}else c&&(a&&c.show(),c.setSize(d,e),c.setLeftTop(f,g))}},destroy:function(){this.hideShim(),this.shadow&&this.shadow.hide(),this.removeAllListeners(),Ext.removeNode(this.dom),delete this.dom},remove:function(){this.destroy()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide(),this.hideShim()},constrainXY:function(){if(this.constrain){var b=Ext.lib.Dom.getViewWidth(),c=Ext.lib.Dom.getViewHeight(),d=Ext.getDoc().getScroll(),e=this.getXY(),f=e[0],g=e[1],h=this.shadowOffset,i=this.dom.offsetWidth+h,j=this.dom.offsetHeight+h,k=!1;if(f+i>b+d.left&&(f=b-i-h,k=!0),g+j>c+d.top&&(g=c-j-h,k=!0),f<d.left&&(f=d.left,k=!0),g<d.top&&(g=d.top,k=!0),k){if(this.avoidY){var l=this.avoidY;l>=g&&g+j>=l&&(g=l-j-5)}e=[f,g],this.storeXY(e),a.setXY.call(this,e),this.sync()}}return this},isVisible:function(){return this.visible},showAction:function(){this.visible=!0,this.useDisplay===!0?this.setDisplayed(""):this.lastXY?a.setXY.call(this,this.lastXY):this.lastLT&&a.setLeftTop.call(this,this.lastLT[0],this.lastLT[1])},hideAction:function(){this.visible=!1,this.useDisplay===!0?this.setDisplayed(!1):this.setLeftTop(-1e4,-1e4)},setVisible:function(b,c,d,e,f){if(b&&this.showAction(),c&&b){var g=function(){this.sync(!0),e&&e()}.createDelegate(this);a.setVisible.call(this,!0,!0,d,g,f)}else{b||this.hideUnders(!0);var g=e;c&&(g=function(){this.hideAction(),e&&e()}.createDelegate(this)),a.setVisible.call(this,b,c,d,g,f),b?this.sync(!0):c||this.hideAction()}return this},storeXY:function(a){delete this.lastLT,this.lastXY=a},storeLeftTop:function(a,b){delete this.lastXY,this.lastLT=[a,b]},beforeFx:function(){return this.beforeAction(),Ext.Layer.superclass.beforeFx.apply(this,arguments)},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments),this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(b){return this.storeLeftTop(b,this.getTop(!0)),a.setLeft.apply(this,arguments),this.sync(),this},setTop:function(b){return this.storeLeftTop(this.getLeft(!0),b),a.setTop.apply(this,arguments),this.sync(),this},setLeftTop:function(b,c){return this.storeLeftTop(b,c),a.setLeftTop.apply(this,arguments),this.sync(),this
},setXY:function(b,c,d,e,f){this.fixDisplay(),this.beforeAction(),this.storeXY(b);var g=this.createCB(e);return a.setXY.call(this,b,c,d,g,f),c||g(),this},createCB:function(a){var b=this;return function(){b.constrainXY(),b.sync(!0),a&&a()}},setX:function(a,b,c,d,e){return this.setXY([a,this.getY()],b,c,d,e),this},setY:function(a,b,c,d,e){return this.setXY([this.getX(),a],b,c,d,e),this},setSize:function(b,c,d,e,f,g){this.beforeAction();var h=this.createCB(f);return a.setSize.call(this,b,c,d,e,h,g),d||h(),this},setWidth:function(b,c,d,e,f){this.beforeAction();var g=this.createCB(e);return a.setWidth.call(this,b,c,d,g,f),c||g(),this},setHeight:function(b,c,d,e,f){this.beforeAction();var g=this.createCB(e);return a.setHeight.call(this,b,c,d,g,f),c||g(),this},setBounds:function(b,c,d,e,f,g,h,i){this.beforeAction();var j=this.createCB(h);return f?a.setBounds.call(this,b,c,d,e,f,g,j,i):(this.storeXY([b,c]),a.setXY.call(this,[b,c]),a.setSize.call(this,d,e,f,g,j,i),j()),this},setZIndex:function(a){return this.zindex=a,this.setStyle("z-index",a+2),this.shadow&&this.shadow.setZIndex(a+1),this.shim&&this.shim.setStyle("z-index",a),this}})}(),Ext.Shadow=function(a){Ext.apply(this,a),"string"!=typeof this.mode&&(this.mode=this.defaultMode);var b=this.offset,c={h:0},d=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":c.w=0,c.l=c.t=b,c.t-=1,Ext.isIE&&(c.l-=this.offset+d,c.t-=this.offset+d,c.w-=d,c.h-=d,c.t+=1);break;case"sides":c.w=2*b,c.l=-b,c.t=b-1,Ext.isIE&&(c.l-=this.offset-d,c.t-=this.offset+d,c.l+=1,c.w-=2*(this.offset-d),c.w-=d+1,c.h-=1);break;case"frame":c.w=c.h=2*b,c.l=c.t=-b,c.t+=1,c.h-=2,Ext.isIE&&(c.l-=this.offset-d,c.t-=this.offset-d,c.l+=1,c.w-=this.offset+d+1,c.h-=this.offset+d,c.h+=1)}this.adjusts=c},Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(a){a=Ext.get(a),this.el||(this.el=Ext.Shadow.Pool.pull(),this.el.dom.nextSibling!=a.dom&&this.el.insertBefore(a)),this.el.setStyle("z-index",this.zIndex||parseInt(a.getStyle("z-index"),10)-1),Ext.isIE&&(this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+this.offset+")"),this.realign(a.getLeft(!0),a.getTop(!0),a.getWidth(),a.getHeight()),this.el.dom.style.display="block"},isVisible:function(){return this.el?!0:!1},realign:function(a,b,c,d){if(this.el){var e=this.adjusts,f=this.el.dom,g=f.style;g.left=a+e.l+"px",g.top=b+e.t+"px";var h=c+e.w,i=d+e.h,j=h+"px",k=i+"px";if((g.width!=j||g.height!=k)&&(g.width=j,g.height=k,!Ext.isIE)){var l=f.childNodes,m=Math.max(0,h-12)+"px";l[0].childNodes[1].style.width=m,l[1].childNodes[1].style.width=m,l[2].childNodes[1].style.width=m,l[1].style.height=Math.max(0,i-12)+"px"}}},hide:function(){this.el&&(this.el.dom.style.display="none",Ext.Shadow.Pool.push(this.el),delete this.el)},setZIndex:function(a){this.zIndex=a,this.el&&this.el.setStyle("z-index",a)}},Ext.Shadow.Pool=function(){var a=[],b=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var c=a.shift();return c||(c=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,b)),c.autoBoxAdjust=!1),c},push:function(b){a.push(b)}}}(),Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this),this.addEvents("resize","move")},boxReady:!1,deferHeight:!1,setSize:function(a,b){if("object"==typeof a&&(b=a.height,a=a.width),Ext.isDefined(a)&&Ext.isDefined(this.boxMinWidth)&&a<this.boxMinWidth&&(a=this.boxMinWidth),Ext.isDefined(b)&&Ext.isDefined(this.boxMinHeight)&&b<this.boxMinHeight&&(b=this.boxMinHeight),Ext.isDefined(a)&&Ext.isDefined(this.boxMaxWidth)&&a>this.boxMaxWidth&&(a=this.boxMaxWidth),Ext.isDefined(b)&&Ext.isDefined(this.boxMaxHeight)&&b>this.boxMaxHeight&&(b=this.boxMaxHeight),!this.boxReady)return this.width=a,this.height=b,this;if(this.cacheSizes!==!1&&this.lastSize&&this.lastSize.width==a&&this.lastSize.height==b)return this;this.lastSize={width:a,height:b};var c,d=this.adjustSize(a,b),e=d.width,f=d.height;return(void 0!==e||void 0!==f)&&(c=this.getResizeEl(),this.deferHeight||void 0===e||void 0===f?this.deferHeight||void 0===f?void 0!==e&&c.setWidth(e):c.setHeight(f):c.setSize(e,f),this.onResize(e,f,a,b)),this},setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(void 0,a)},getSize:function(){return this.getResizeEl().getSize()},getWidth:function(){return this.getResizeEl().getWidth()},getHeight:function(){return this.getResizeEl().getHeight()},getOuterSize:function(){var a=this.getResizeEl();return{width:a.getWidth()+a.getMargins("lr"),height:a.getHeight()+a.getMargins("tb")}},getPosition:function(a){var b=this.getPositionEl();return a===!0?[b.getLeft(!0),b.getTop(!0)]:this.xy||b.getXY()},getBox:function(a){var b=this.getPosition(a),c=this.getSize();return c.x=b[0],c.y=b[1],c},updateBox:function(a){return this.setSize(a.width,a.height),this.setPagePosition(a.x,a.y),this},getResizeEl:function(){return this.resizeEl||this.el},setAutoScroll:function(a){return this.rendered&&this.getContentTarget().setOverflow(a?"auto":""),this.autoScroll=a,this},setPosition:function(a,b){if(a&&"number"==typeof a[1]&&(b=a[1],a=a[0]),this.x=a,this.y=b,!this.boxReady)return this;var c=this.adjustPosition(a,b),d=c.x,e=c.y,f=this.getPositionEl();return(void 0!==d||void 0!==e)&&(void 0!==d&&void 0!==e?f.setLeftTop(d,e):void 0!==d?f.setLeft(d):void 0!==e&&f.setTop(e),this.onPosition(d,e),this.fireEvent("move",this,d,e)),this},setPagePosition:function(a,b){if(a&&"number"==typeof a[1]&&(b=a[1],a=a[0]),this.pageX=a,this.pageY=b,this.boxReady&&void 0!==a&&void 0!==b){var c=this.getPositionEl().translatePoints(a,b);return this.setPosition(c.left,c.top),this}},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this),this.resizeEl&&(this.resizeEl=Ext.get(this.resizeEl)),this.positionEl&&(this.positionEl=Ext.get(this.positionEl)),this.boxReady=!0,this.setAutoScroll(this.autoScroll),this.setSize(this.width,this.height),this.x||this.y?this.setPosition(this.x,this.y):(this.pageX||this.pageY)&&this.setPagePosition(this.pageX,this.pageY)},syncSize:function(){return delete this.lastSize,this.setSize(this.autoWidth?void 0:this.getResizeEl().getWidth(),this.autoHeight?void 0:this.getResizeEl().getHeight()),this},onResize:function(a,b,c,d){this.fireEvent("resize",this,a,b,c,d)},onPosition:function(){},adjustSize:function(a,b){return this.autoWidth&&(a="auto"),this.autoHeight&&(b="auto"),{width:a,height:b}},adjustPosition:function(a,b){return{x:a,y:b}}}),Ext.reg("box",Ext.BoxComponent),Ext.Spacer=Ext.extend(Ext.BoxComponent,{autoEl:"div"}),Ext.reg("spacer",Ext.Spacer),Ext.SplitBar=function(a,b,c,d,e){this.el=Ext.get(a,!0),this.el.dom.unselectable="on",this.resizingEl=Ext.get(b,!0),this.orientation=c||Ext.SplitBar.HORIZONTAL,this.minSize=0,this.maxSize=2e3,this.animate=!1,this.useShim=!1,this.shim=null,this.proxy=e?Ext.get(e).dom:Ext.SplitBar.createProxy(this.orientation),this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id}),this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this),this.dd.endDrag=this.onEndProxyDrag.createDelegate(this),this.dragSpecs={},this.adapter=new Ext.SplitBar.BasicLayoutAdapter,this.adapter.init(this),this.orientation==Ext.SplitBar.HORIZONTAL?(this.placement=d||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT),this.el.addClass("x-splitbar-h")):(this.placement=d||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM),this.el.addClass("x-splitbar-v")),this.addEvents("resize","moved","beforeresize","beforeapply"),Ext.SplitBar.superclass.constructor.call(this)},Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(a,b){this.fireEvent("beforeresize",this),this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},!0),this.overlay.unselectable(),this.overlay.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0)),this.overlay.show(),Ext.get(this.proxy).setDisplayed("block");var c=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize(),this.activeMaxSize=this.getMaximumSize();var d=c-this.activeMinSize,e=Math.max(this.activeMaxSize-c,0);this.orientation==Ext.SplitBar.HORIZONTAL?(this.dd.resetConstraints(),this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?d:e,this.placement==Ext.SplitBar.LEFT?e:d,this.tickSize),this.dd.setYConstraint(0,0)):(this.dd.resetConstraints(),this.dd.setXConstraint(0,0),this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?d:e,this.placement==Ext.SplitBar.TOP?e:d,this.tickSize)),this.dragSpecs.startSize=c,this.dragSpecs.startPoint=[a,b],Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,a,b)},onEndProxyDrag:function(a){Ext.get(this.proxy).setDisplayed(!1);var b=Ext.lib.Event.getXY(a);this.overlay&&(Ext.destroy(this.overlay),delete this.overlay);var c;c=this.orientation==Ext.SplitBar.HORIZONTAL?this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?b[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-b[0]):this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?b[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-b[1]),c=Math.min(Math.max(c,this.activeMinSize),this.activeMaxSize),c!=this.dragSpecs.startSize&&this.fireEvent("beforeapply",this,c)!==!1&&(this.adapter.setElementSize(this,c),this.fireEvent("moved",this,c),this.fireEvent("resize",this,c))},getAdapter:function(){return this.adapter},setAdapter:function(a){this.adapter=a,this.adapter.init(this)},getMinimumSize:function(){return this.minSize},setMinimumSize:function(a){this.minSize=a},getMaximumSize:function(){return this.maxSize},setMaximumSize:function(a){this.maxSize=a},setCurrentSize:function(a){var b=this.animate;this.animate=!1,this.adapter.setElementSize(this,a),this.animate=b},destroy:function(a){Ext.destroy(this.shim,Ext.get(this.proxy)),this.dd.unreg(),a&&this.el.remove(),this.purgeListeners()}}),Ext.SplitBar.createProxy=function(a){var b=new Ext.Element(document.createElement("div"));document.body.appendChild(b.dom),b.unselectable();var c="x-splitbar-proxy";return b.addClass(c+" "+(a==Ext.SplitBar.HORIZONTAL?c+"-h":c+"-v")),b.dom},Ext.SplitBar.BasicLayoutAdapter=function(){},Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(){},getElementSize:function(a){return a.orientation==Ext.SplitBar.HORIZONTAL?a.resizingEl.getWidth():a.resizingEl.getHeight()},setElementSize:function(a,b,c){a.orientation==Ext.SplitBar.HORIZONTAL?a.animate?a.resizingEl.setWidth(b,!0,.1,c,"easeOut"):(a.resizingEl.setWidth(b),c&&c(a,b)):a.animate?a.resizingEl.setHeight(b,!0,.1,c,"easeOut"):(a.resizingEl.setHeight(b),c&&c(a,b))}},Ext.SplitBar.AbsoluteLayoutAdapter=function(a){this.basic=new Ext.SplitBar.BasicLayoutAdapter,this.container=Ext.get(a)},Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(a){this.basic.init(a)},getElementSize:function(a){return this.basic.getElementSize(a)},setElementSize:function(a,b){this.basic.setElementSize(a,b,this.moveSplitter.createDelegate(this,[a]))},moveSplitter:function(a){var b=Ext.SplitBar;switch(a.placement){case b.LEFT:a.el.setX(a.resizingEl.getRight());break;case b.RIGHT:a.el.setStyle("right",this.container.getWidth()-a.resizingEl.getLeft()+"px");break;case b.TOP:a.el.setY(a.resizingEl.getBottom());break;case b.BOTTOM:a.el.setY(a.resizingEl.getTop()-a.el.getHeight())}}},Ext.SplitBar.VERTICAL=1,Ext.SplitBar.HORIZONTAL=2,Ext.SplitBar.LEFT=1,Ext.SplitBar.RIGHT=2,Ext.SplitBar.TOP=3,Ext.SplitBar.BOTTOM=4,Ext.Container=Ext.extend(Ext.BoxComponent,{bufferResize:50,autoDestroy:!0,forceLayout:!1,defaultType:"panel",resizeEvent:"resize",bubbleEvents:["add","remove"],initComponent:function(){Ext.Container.superclass.initComponent.call(this),this.addEvents("afterlayout","beforeadd","beforeremove","add","remove"),this.enableBubble(this.bubbleEvents);var a=this.items;a&&(delete this.items,this.add(a))},initItems:function(){this.items||(this.items=new Ext.util.MixedCollection(!1,this.getComponentId),this.getLayout())},setLayout:function(a){this.layout&&this.layout!=a&&this.layout.setContainer(null),this.initItems(),this.layout=a,a.setContainer(this)},afterRender:function(){if(this.layoutDone=!1,this.layout||(this.layout="auto"),Ext.isObject(this.layout)&&!this.layout.layout&&(this.layoutConfig=this.layout,this.layout=this.layoutConfig.type),Ext.isString(this.layout)&&(this.layout=new(Ext.Container.LAYOUTS[this.layout.toLowerCase()])(this.layoutConfig)),this.setLayout(this.layout),Ext.Container.superclass.afterRender.call(this),Ext.isDefined(this.activeItem)){var a=this.activeItem;delete this.activeItem,this.layout.setActiveItem(a)}this.ownerCt||this.layoutDone||this.doLayout(!1,!0),this.monitorResize===!0&&Ext.EventManager.onWindowResize(this.doLayout,this,[!1])},getLayoutTarget:function(){return this.el},getComponentId:function(a){return a.getItemId()},add:function(a){this.initItems();var b=arguments.length>1;if(b||Ext.isArray(a)){var c=[];return Ext.each(b?arguments:a,function(a){c.push(this.add(a))},this),c}var d=this.lookupComponent(this.applyDefaults(a)),e=this.items.length;return this.fireEvent("beforeadd",this,d,e)!==!1&&this.onBeforeAdd(d)!==!1&&(this.items.add(d),d.onAdded(this,e),this.onAdd(d),this.fireEvent("add",this,d,e)),d},onAdd:function(){},onAdded:function(a,b){this.ownerCt=a,this.initRef(),this.cascade(function(a){a.initRef()}),this.fireEvent("added",this,a,b)},insert:function(a,b){this.initItems();var c=arguments,d=c.length;if(d>2){for(var e=[],f=d-1;f>=1;--f)e.push(this.insert(a,c[f]));return e}var g=this.lookupComponent(this.applyDefaults(b));return a=Math.min(a,this.items.length),this.fireEvent("beforeadd",this,g,a)!==!1&&this.onBeforeAdd(g)!==!1&&(g.ownerCt==this&&this.items.remove(g),this.items.insert(a,g),g.onAdded(this,a),this.onAdd(g),this.fireEvent("add",this,g,a)),g},applyDefaults:function(a){var b=this.defaults;return b&&(Ext.isFunction(b)&&(b=b.call(this,a)),Ext.isString(a)?(a=Ext.ComponentMgr.get(a),Ext.apply(a,b)):a.events?Ext.apply(a,b):Ext.applyIf(a,b)),a},onBeforeAdd:function(a){a.ownerCt&&a.ownerCt.remove(a,!1),this.hideBorders===!0&&(a.border=a.border===!0)},remove:function(a,b){this.initItems();var c=this.getComponent(a);return c&&this.fireEvent("beforeremove",this,c)!==!1&&(this.doRemove(c,b),this.fireEvent("remove",this,c)),c},onRemove:function(){},doRemove:function(a,b){this.layout&&this.rendered&&this.layout.onRemove(a),this.items.remove(a),a.onRemoved(),this.onRemove(a),(b===!0||b!==!1&&this.autoDestroy)&&a.destroy()},removeAll:function(a){this.initItems();var b,c=[],d=[];this.items.each(function(a){c.push(a)});for(var e=0,f=c.length;f>e;++e)b=c[e],this.remove(b,a),b.ownerCt!==this&&d.push(b);return d},getComponent:function(a){return Ext.isObject(a)&&(a=a.getItemId()),this.items.get(a)},lookupComponent:function(a){return Ext.isString(a)?Ext.ComponentMgr.get(a):a.events?a:this.createComponent(a)},createComponent:function(a,b){var c=a.render?a:Ext.create(Ext.apply({ownerCt:this},a),b||this.defaultType);return delete c.ownerCt,c},canLayout:function(){var a,b=this.getLayoutTarget();return!(!b||!(a=b.dom.offsetWidth||b.dom.offsetHeight))},doLayout:function(a,b){var c,d,e,f,g=this.rendered,h=b||this.forceLayout;if(this.layoutDone=!0,!this.canLayout()||this.collapsed){if(this.deferLayout=this.deferLayout||!a,!h)return;a=a&&!this.deferLayout}else delete this.deferLayout;for(c=a!==!0&&this.items?this.items.items:[],d=0,e=c.length;e>d;d++)(f=c[d]).layout&&(f.suspendLayoutResize=!0);for(g&&this.layout&&this.layout.layout(),d=0;e>d;d++)(f=c[d]).doLayout&&f.doLayout(!1,h);for(g&&this.onLayout(a,h),this.hasLayout=!0,delete this.forceLayout,d=0;e>d;d++)(f=c[d]).layout&&delete f.suspendLayoutResize},onLayout:Ext.emptyFn,onResize:function(){Ext.Container.superclass.onResize.apply(this,arguments),this.rendered&&this.layout&&this.layout.monitorResize&&!this.suspendLayoutResize&&this.layout.onResize()},hasLayoutPending:function(){var a=this.layoutPending;return this.ownerCt.bubble(function(b){return!(a=b.layoutPending)}),a},onShow:function(){Ext.Container.superclass.onShow.call(this),Ext.isDefined(this.deferLayout)&&this.doLayout(!0)},getLayout:function(){if(!this.layout){var a=new Ext.layout.ContainerLayout(this.layoutConfig);this.setLayout(a)}return this.layout},beforeDestroy:function(){var a;if(this.items)for(;a=this.items.first();)this.doRemove(a,!0);this.monitorResize&&Ext.EventManager.removeResizeListener(this.doLayout,this),Ext.destroy(this.layout),Ext.Container.superclass.beforeDestroy.call(this)},bubble:function(a,b,c){for(var d=this;d&&a.apply(b||d,c||[d])!==!1;)d=d.ownerCt;return this},cascade:function(a,b,c){if(a.apply(b||this,c||[this])!==!1&&this.items)for(var d=this.items.items,e=0,f=d.length;f>e;e++)d[e].cascade?d[e].cascade(a,b,c):a.apply(b||d[e],c||[d[e]]);return this},findById:function(a){var b,c=this;return this.cascade(function(d){return c!=d&&d.id===a?(b=d,!1):void 0}),b||null},findByType:function(a,b){return this.findBy(function(c){return c.isXType(a,b)})},find:function(a,b){return this.findBy(function(c){return c[a]===b})},findBy:function(a,b){var c=[],d=this;return this.cascade(function(e){d!=e&&a.call(b||e,e,d)===!0&&c.push(e)}),c},get:function(a){return this.items.get(a)}}),Ext.Container.LAYOUTS={},Ext.reg("container",Ext.Container),Ext.layout.ContainerLayout=Ext.extend(Object,{monitorResize:!1,activeItem:null,constructor:function(a){Ext.apply(this,a)},layout:function(){var a=this.container.getLayoutTarget();this.hasLayout||Ext.isEmpty(this.targetCls)||a.addClass(this.targetCls),this.onLayout(this.container,a),this.container.fireEvent("afterlayout",this.container,this),this.hasLayout=!0},onLayout:function(a,b){this.renderAll(a,b)},isValidParent:function(a,b){return b&&a.getPositionEl().dom.parentNode==(b.dom||b)},renderAll:function(a,b){for(var c=a.items.items,d=0,e=c.length;e>d;d++){var f=c[d];!f||f.rendered&&this.isValidParent(f,b)||this.renderItem(f,d,b)}},renderItem:function(a,b,c){a&&!a.rendered?(a.render(c,b),this.configureItem(a,b)):a&&!this.isValidParent(a,c)&&(Ext.isNumber(b)&&(b=c.dom.childNodes[b]),c.dom.insertBefore(a.getPositionEl().dom,b||null),a.container=c,this.configureItem(a,b))},configureItem:function(a){if(this.extraCls){var b=a.getPositionEl?a.getPositionEl():a;b.addClass(this.extraCls)}a.doLayout&&this.forceLayout&&a.doLayout(!1,!0),this.renderHidden&&a!=this.activeItem&&a.hide()},onRemove:function(a){if(this.activeItem==a&&delete this.activeItem,a.rendered&&this.extraCls){var b=a.getPositionEl?a.getPositionEl():a;b.removeClass(this.extraCls)}},onResize:function(){var a=this.container,b=a.bufferResize;a.collapsed||(b&&a.ownerCt?a.hasLayoutPending()||(this.resizeTask||(this.resizeTask=new Ext.util.DelayedTask(this.runLayout,this),this.resizeBuffer=Ext.isNumber(b)?b:50),a.layoutPending=!0,this.resizeTask.delay(this.resizeBuffer)):a.doLayout(!1,this.forceLayout))},runLayout:function(){var a=this.container;a.doLayout(),delete a.layoutPending},setContainer:function(a){this.container=a},parseMargins:function(a){Ext.isNumber(a)&&(a=a.toString());var b=a.split(" "),c=b.length;return 1==c&&(b[1]=b[0],b[2]=b[0],b[3]=b[0]),2==c&&(b[2]=b[0],b[3]=b[1]),3==c&&(b[3]=b[1]),{top:parseInt(b[0],10)||0,right:parseInt(b[1],10)||0,bottom:parseInt(b[2],10)||0,left:parseInt(b[3],10)||0}},fieldTpl:function(){var a=new Ext.Template('<div class="x-form-item {itemCls}" tabIndex="-1">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}</label>','<div class="x-form-element" id="x-form-el-{id}" style="{elementStyle}">','</div><div class="{clearCls}"></div>',"</div>");return a.disableFormats=!0,a.compile()}(),destroy:function(){if(!Ext.isEmpty(this.targetCls)){var a=this.container.getLayoutTarget();a&&a.removeClass(this.targetCls)}}}),Ext.Container.LAYOUTS.auto=Ext.layout.ContainerLayout,Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,onLayout:function(a,b){Ext.layout.FitLayout.superclass.onLayout.call(this,a,b),this.container.collapsed||this.setItemSize(this.activeItem||a.items.itemAt(0),b.getViewSize(!0))},setItemSize:function(a,b){a&&b.height>0&&a.setSize(b)}}),Ext.Container.LAYOUTS.fit=Ext.layout.FitLayout,Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{deferredRender:!1,layoutOnCardChange:!1,renderHidden:!0,constructor:function(a){Ext.layout.CardLayout.superclass.constructor.call(this,a)},setActiveItem:function(a){var b=this.activeItem;if(a=this.container.getComponent(a),b!=a){b&&(b.hide(),b.fireEvent("deactivate",b));var c=a.doLayout&&(this.layoutOnCardChange||!a.rendered);this.activeItem=a,a&&a.show(),this.layout(),a&&c&&a.doLayout(),a.fireEvent("activate",a)}},renderAll:function(a,b){this.deferredRender?this.renderItem(this.activeItem,void 0,b):Ext.layout.CardLayout.superclass.renderAll.call(this,a,b)}}),Ext.Container.LAYOUTS.card=Ext.layout.CardLayout,Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,getAnchorViewSize:function(a,b){return b.dom==document.body?b.getViewSize(!0):b.getStyleSize()},onLayout:function(a,b){Ext.layout.AnchorLayout.superclass.onLayout.call(this,a,b);var c=b.getViewSize(!0),d=c.width,e=c.height;if(!(20>d&&20>e)){var f,g;a.anchorSize?"number"==typeof a.anchorSize?f=a.anchorSize:(f=a.anchorSize.width,g=a.anchorSize.height):(f=a.initialConfig.width,g=a.initialConfig.height);var h,i,j,k,l,m,n,o=a.items.items,p=o.length;for(h=0;p>h;h++)i=o[h],m=i.getPositionEl(),i.anchor&&(j=i.anchorSpec,j||(n=i.anchor.split(" "),i.anchorSpec=j={right:this.parseAnchor(n[0],i.initialConfig.width,f),bottom:this.parseAnchor(n[1],i.initialConfig.height,g)}),k=j.right?this.adjustWidthAnchor(j.right(d)-m.getMargins("lr"),i):void 0,l=j.bottom?this.adjustHeightAnchor(j.bottom(e)-m.getMargins("tb"),i):void 0,(k||l)&&i.setSize(k||void 0,l||void 0))}},parseAnchor:function(a,b,c){if(a&&"none"!=a){var d;if(/^(r|right|b|bottom)$/i.test(a)){var e=c-b;return function(a){return a!==d?(d=a,a-e):void 0}}if(-1!=a.indexOf("%")){var f=.01*parseFloat(a.replace("%",""));return function(a){return a!==d?(d=a,Math.floor(a*f)):void 0}}if(a=parseInt(a,10),!isNaN(a))return function(b){return b!==d?(d=b,b+a):void 0}}return!1},adjustWidthAnchor:function(a){return a},adjustHeightAnchor:function(a){return a}}),Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout,Ext.layout.ColumnLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,extraCls:"x-column",scrollOffset:0,targetCls:"x-column-layout-ct",isValidParent:function(a){return a.getPositionEl().dom.parentNode==this.innerCt.dom},onLayout:function(a,b){var c,d,e=a.items.items,f=e.length;this.innerCt||(this.innerCt=b.createChild({cls:"x-column-inner"}),this.innerCt.createChild({cls:"x-clear"})),this.renderAll(a,this.innerCt);var g=b.getViewSize(!0);if(!(g.width<1&&g.height<1)){var h=g.width-this.scrollOffset,i=(g.height,h);for(this.innerCt.setWidth(h),d=0;f>d;d++)c=e[d],c.columnWidth||(i-=c.getSize().width+c.getPositionEl().getMargins("lr"));for(i=0>i?0:i,d=0;f>d;d++)c=e[d],c.columnWidth&&c.setSize(Math.floor(c.columnWidth*i)-c.getPositionEl().getMargins("lr"))}}}),Ext.Container.LAYOUTS.column=Ext.layout.ColumnLayout,Ext.layout.BorderLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,rendered:!1,targetCls:"x-border-layout-ct",onLayout:function(a,b){var c;if(!this.rendered){var d=a.items.items;c=[];for(var e=0,f=d.length;f>e;e++){var g=d[e],h=g.region;g.collapsed&&c.push(g),g.collapsed=!1,g.rendered||(g.render(b,e),g.getPositionEl().addClass("x-border-panel")),this[h]="center"!=h&&g.split?new Ext.layout.BorderLayout.SplitRegion(this,g.initialConfig,h):new Ext.layout.BorderLayout.Region(this,g.initialConfig,h),this[h].render(b,g)}this.rendered=!0}var i=b.getViewSize(!1);if(i.width<20||i.height<20)return void(c&&(this.restoreCollapsed=c));this.restoreCollapsed&&(c=this.restoreCollapsed,delete this.restoreCollapsed);var j=i.width,k=i.height,l=j,m=k,n=0,o=0,p=this.north,q=this.south,r=this.west,s=this.east,g=this.center;if(!g&&Ext.layout.BorderLayout.WARN!==!1)throw"No center region defined in BorderLayout "+a.id;if(p&&p.isVisible()){var t=p.getSize(),u=p.getMargins();t.width=j-(u.left+u.right),t.x=u.left,t.y=u.top,n=t.height+t.y+u.bottom,m-=n,p.applyLayout(t)}if(q&&q.isVisible()){var t=q.getSize(),u=q.getMargins();t.width=j-(u.left+u.right),t.x=u.left;var v=t.height+u.top+u.bottom;t.y=k-v+u.top,m-=v,q.applyLayout(t)}if(r&&r.isVisible()){var t=r.getSize(),u=r.getMargins();t.height=m-(u.top+u.bottom),t.x=u.left,t.y=n+u.top;var w=t.width+u.left+u.right;o+=w,l-=w,r.applyLayout(t)}if(s&&s.isVisible()){var t=s.getSize(),u=s.getMargins();t.height=m-(u.top+u.bottom);var w=t.width+u.left+u.right;t.x=j-w+u.left,t.y=n+u.top,l-=w,s.applyLayout(t)}if(g){var u=g.getMargins(),x={x:o+u.left,y:n+u.top,width:l-(u.left+u.right),height:m-(u.top+u.bottom)};g.applyLayout(x)}if(c)for(var e=0,f=c.length;f>e;e++)c[e].collapse(!1);Ext.isIE&&Ext.isStrict&&b.repaint()},destroy:function(){for(var a=["north","south","east","west"],b=0;b<a.length;b++){var c=this[a[b]];c&&(c.destroy?c.destroy():c.split&&c.split.destroy(!0))}Ext.layout.BorderLayout.superclass.destroy.call(this)}}),Ext.layout.BorderLayout.Region=function(a,b,c){Ext.apply(this,b),this.layout=a,this.position=c,this.state={},"string"==typeof this.margins&&(this.margins=this.layout.parseMargins(this.margins)),this.margins=Ext.applyIf(this.margins||{},this.defaultMargins),this.collapsible&&("string"==typeof this.cmargins&&(this.cmargins=this.layout.parseMargins(this.cmargins)),this.cmargins="mini"!=this.collapseMode||this.cmargins?Ext.applyIf(this.cmargins||{},"north"==c||"south"==c?this.defaultNSCMargins:this.defaultEWCMargins):{left:0,top:0,right:0,bottom:0})},Ext.layout.BorderLayout.Region.prototype={collapsible:!1,split:!1,floatable:!0,minWidth:50,minHeight:50,defaultMargins:{left:0,top:0,right:0,bottom:0},defaultNSCMargins:{left:5,top:5,right:5,bottom:5},defaultEWCMargins:{left:5,top:0,right:5,bottom:0},floatingZIndex:100,isCollapsed:!1,render:function(a,b){this.panel=b,b.el.enableDisplayMode(),this.targetEl=a,this.el=b.el;var c=b.getState,d=this.position;b.getState=function(){return Ext.apply(c.call(b)||{},this.state)}.createDelegate(this),"center"!=d&&(b.allowQueuedExpand=!1,b.on({beforecollapse:this.beforeCollapse,collapse:this.onCollapse,beforeexpand:this.beforeExpand,expand:this.onExpand,hide:this.onHide,show:this.onShow,scope:this}),(this.collapsible||this.floatable)&&(b.collapseEl="el",b.slideAnchor=this.getSlideAnchor()),b.tools&&b.tools.toggle&&(b.tools.toggle.addClass("x-tool-collapse-"+d),b.tools.toggle.addClassOnOver("x-tool-collapse-"+d+"-over")))},getCollapsedEl:function(){if(!this.collapsedEl){if(!this.toolTemplate){var a=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');a.disableFormats=!0,a.compile(),Ext.layout.BorderLayout.Region.prototype.toolTemplate=a}if(this.collapsedEl=this.targetEl.createChild({cls:"x-layout-collapsed x-layout-collapsed-"+this.position,id:this.panel.id+"-xcollapsed"}),this.collapsedEl.enableDisplayMode("block"),"mini"==this.collapseMode)this.collapsedEl.addClass("x-layout-cmini-"+this.position),this.miniCollapsedEl=this.collapsedEl.createChild({cls:"x-layout-mini x-layout-mini-"+this.position,html:"&#160;"}),this.miniCollapsedEl.addClassOnOver("x-layout-mini-over"),this.collapsedEl.addClassOnOver("x-layout-collapsed-over"),this.collapsedEl.on("click",this.onExpandClick,this,{stopEvent:!0});else{if(this.collapsible!==!1&&!this.hideCollapseTool){var b=this.toolTemplate.append(this.collapsedEl.dom,{id:"expand-"+this.position},!0);b.addClassOnOver("x-tool-expand-"+this.position+"-over"),b.on("click",this.onExpandClick,this,{stopEvent:!0})}(this.floatable!==!1||this.titleCollapse)&&(this.collapsedEl.addClassOnOver("x-layout-collapsed-over"),this.collapsedEl.on("click",this[this.floatable?"collapseClick":"onExpandClick"],this))}}return this.collapsedEl},onExpandClick:function(){this.isSlid?this.panel.expand(!1):this.panel.expand()},onCollapseClick:function(){this.panel.collapse()},beforeCollapse:function(a,b){this.lastAnim=b,this.splitEl&&this.splitEl.hide(),this.getCollapsedEl().show();var c=this.panel.getEl();this.originalZIndex=c.getStyle("z-index"),c.setStyle("z-index",100),this.isCollapsed=!0,this.layout.layout()},onCollapse:function(){this.panel.el.setStyle("z-index",1),this.lastAnim===!1||this.panel.animCollapse===!1?this.getCollapsedEl().dom.style.visibility="visible":this.getCollapsedEl().slideIn(this.panel.slideAnchor,{duration:.2}),this.state.collapsed=!0,this.panel.saveState()},beforeExpand:function(){this.isSlid&&this.afterSlideIn();var a=this.getCollapsedEl();this.el.show(),"east"==this.position||"west"==this.position?this.panel.setSize(void 0,a.getHeight()):this.panel.setSize(a.getWidth(),void 0),a.hide(),a.dom.style.visibility="hidden",this.panel.el.setStyle("z-index",this.floatingZIndex)},onExpand:function(){this.isCollapsed=!1,this.splitEl&&this.splitEl.show(),this.layout.layout(),this.panel.el.setStyle("z-index",this.originalZIndex),this.state.collapsed=!1,this.panel.saveState()},collapseClick:function(a){this.isSlid?(a.stopPropagation(),this.slideIn()):(a.stopPropagation(),this.slideOut())},onHide:function(){this.isCollapsed?this.getCollapsedEl().hide():this.splitEl&&this.splitEl.hide()},onShow:function(){this.isCollapsed?this.getCollapsedEl().show():this.splitEl&&this.splitEl.show()},isVisible:function(){return!this.panel.hidden},getMargins:function(){return this.isCollapsed&&this.cmargins?this.cmargins:this.margins},getSize:function(){return this.isCollapsed?this.getCollapsedEl().getSize():this.panel.getSize()},setPanel:function(a){this.panel=a},getMinWidth:function(){return this.minWidth},getMinHeight:function(){return this.minHeight},applyLayoutCollapsed:function(a){var b=this.getCollapsedEl();b.setLeftTop(a.x,a.y),b.setSize(a.width,a.height)},applyLayout:function(a){this.isCollapsed?this.applyLayoutCollapsed(a):(this.panel.setPosition(a.x,a.y),this.panel.setSize(a.width,a.height))},beforeSlide:function(){this.panel.beforeEffect()},afterSlide:function(){this.panel.afterEffect()},initAutoHide:function(){if(this.autoHide!==!1){if(!this.autoHideHd){var a=new Ext.util.DelayedTask(this.slideIn,this);this.autoHideHd={mouseout:function(b){b.within(this.el,!0)||a.delay(500)},mouseover:function(){a.cancel()},scope:this}}this.el.on(this.autoHideHd),this.collapsedEl.on(this.autoHideHd)}},clearAutoHide:function(){this.autoHide!==!1&&(this.el.un("mouseout",this.autoHideHd.mouseout),this.el.un("mouseover",this.autoHideHd.mouseover),this.collapsedEl.un("mouseout",this.autoHideHd.mouseout),this.collapsedEl.un("mouseover",this.autoHideHd.mouseover))},clearMonitor:function(){Ext.getDoc().un("click",this.slideInIf,this)},slideOut:function(){if(!this.isSlid&&!this.el.hasActiveFx()){this.isSlid=!0;var a=this.panel.tools;a&&a.toggle&&a.toggle.hide(),this.el.show(),"east"==this.position||"west"==this.position?this.panel.setSize(void 0,this.collapsedEl.getHeight()):this.panel.setSize(this.collapsedEl.getWidth(),void 0),this.restoreLT=[this.el.dom.style.left,this.el.dom.style.top],this.el.alignTo(this.collapsedEl,this.getCollapseAnchor()),this.el.setStyle("z-index",this.floatingZIndex+2),this.panel.el.replaceClass("x-panel-collapsed","x-panel-floating"),this.animFloat!==!1?(this.beforeSlide(),this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide(),this.initAutoHide(),Ext.getDoc().on("click",this.slideInIf,this)},scope:this,block:!0})):(this.initAutoHide(),Ext.getDoc().on("click",this.slideInIf,this))}},afterSlideIn:function(){this.clearAutoHide(),this.isSlid=!1,this.clearMonitor(),this.el.setStyle("z-index",""),this.panel.el.replaceClass("x-panel-floating","x-panel-collapsed"),this.el.dom.style.left=this.restoreLT[0],this.el.dom.style.top=this.restoreLT[1];
    var a=this.panel.tools;a&&a.toggle&&a.toggle.show()},slideIn:function(a){return!this.isSlid||this.el.hasActiveFx()?void Ext.callback(a):(this.isSlid=!1,void(this.animFloat!==!1?(this.beforeSlide(),this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.hide(),this.afterSlide(),this.afterSlideIn(),Ext.callback(a)},scope:this,block:!0})):(this.el.hide(),this.afterSlideIn())))},slideInIf:function(a){a.within(this.el)||this.slideIn()},anchors:{west:"left",east:"right",north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position]},getCollapseAnchor:function(){return this.canchors[this.position]},getSlideAnchor:function(){return this.sanchors[this.position]},getAlignAdj:function(){this.cmargins;switch(this.position){case"west":return[0,0];case"east":return[0,0];case"north":return[0,0];case"south":return[0,0]}},getExpandAdj:function(){var a=this.collapsedEl,b=this.cmargins;switch(this.position){case"west":return[-(b.right+a.getWidth()+b.left),0];case"east":return[b.right+a.getWidth()+b.left,0];case"north":return[0,-(b.top+b.bottom+a.getHeight())];case"south":return[0,b.top+b.bottom+a.getHeight()]}},destroy:function(){Ext.destroy(this.miniCollapsedEl,this.collapsedEl)}},Ext.layout.BorderLayout.SplitRegion=function(a,b,c){Ext.layout.BorderLayout.SplitRegion.superclass.constructor.call(this,a,b,c),this.applyLayout=this.applyFns[c]},Ext.extend(Ext.layout.BorderLayout.SplitRegion,Ext.layout.BorderLayout.Region,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:!1,splitSettings:{north:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.TOP,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},south:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.BOTTOM,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},east:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.RIGHT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"},west:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.LEFT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"}},applyFns:{west:function(a){if(this.isCollapsed)return this.applyLayoutCollapsed(a);var b=this.splitEl.dom,c=b.style;this.panel.setPosition(a.x,a.y);var d=b.offsetWidth;c.left=a.x+a.width-d+"px",c.top=a.y+"px",c.height=Math.max(0,a.height)+"px",this.panel.setSize(a.width-d,a.height)},east:function(a){if(this.isCollapsed)return this.applyLayoutCollapsed(a);var b=this.splitEl.dom,c=b.style,d=b.offsetWidth;this.panel.setPosition(a.x+d,a.y),c.left=a.x+"px",c.top=a.y+"px",c.height=Math.max(0,a.height)+"px",this.panel.setSize(a.width-d,a.height)},north:function(a){if(this.isCollapsed)return this.applyLayoutCollapsed(a);var b=this.splitEl.dom,c=b.style,d=b.offsetHeight;this.panel.setPosition(a.x,a.y),c.left=a.x+"px",c.top=a.y+a.height-d+"px",c.width=Math.max(0,a.width)+"px",this.panel.setSize(a.width,a.height-d)},south:function(a){if(this.isCollapsed)return this.applyLayoutCollapsed(a);var b=this.splitEl.dom,c=b.style,d=b.offsetHeight;this.panel.setPosition(a.x,a.y+d),c.left=a.x+"px",c.top=a.y+"px",c.width=Math.max(0,a.width)+"px",this.panel.setSize(a.width,a.height-d)}},render:function(a,b){Ext.layout.BorderLayout.SplitRegion.superclass.render.call(this,a,b);var c=this.position;this.splitEl=a.createChild({cls:"x-layout-split x-layout-split-"+c,html:"&#160;",id:this.panel.id+"-xsplit"}),"mini"==this.collapseMode&&(this.miniSplitEl=this.splitEl.createChild({cls:"x-layout-mini x-layout-mini-"+c,html:"&#160;"}),this.miniSplitEl.addClassOnOver("x-layout-mini-over"),this.miniSplitEl.on("click",this.onCollapseClick,this,{stopEvent:!0}));var d=this.splitSettings[c];this.split=new Ext.SplitBar(this.splitEl.dom,b.el,d.orientation),this.split.tickSize=this.tickSize,this.split.placement=d.placement,this.split.getMaximumSize=this[d.maxFn].createDelegate(this),this.split.minSize=this.minSize||this[d.minProp],this.split.on("beforeapply",this.onSplitMove,this),this.split.useShim=this.useShim===!0,this.maxSize=this.maxSize||this[d.maxProp],b.hidden&&this.splitEl.hide(),this.useSplitTips&&(this.splitEl.dom.title=this.collapsible?this.collapsibleSplitTip:this.splitTip),this.collapsible&&this.splitEl.on("dblclick",this.onCollapseClick,this)},getSize:function(){if(this.isCollapsed)return this.collapsedEl.getSize();var a=this.panel.getSize();return"north"==this.position||"south"==this.position?a.height+=this.splitEl.dom.offsetHeight:a.width+=this.splitEl.dom.offsetWidth,a},getHMaxSize:function(){var a=this.maxSize||1e4,b=this.layout.center;return Math.min(a,this.el.getWidth()+b.el.getWidth()-b.getMinWidth())},getVMaxSize:function(){var a=this.maxSize||1e4,b=this.layout.center;return Math.min(a,this.el.getHeight()+b.el.getHeight()-b.getMinHeight())},onSplitMove:function(a,b){var c=this.panel.getSize();return this.lastSplitSize=b,"north"==this.position||"south"==this.position?(this.panel.setSize(c.width,b),this.state.height=b):(this.panel.setSize(b,c.height),this.state.width=b),this.layout.layout(),this.panel.saveState(),!1},getSplitBar:function(){return this.split},destroy:function(){Ext.destroy(this.miniSplitEl,this.split,this.splitEl),Ext.layout.BorderLayout.SplitRegion.superclass.destroy.call(this)}}),Ext.Container.LAYOUTS.border=Ext.layout.BorderLayout,Ext.layout.FormLayout=Ext.extend(Ext.layout.AnchorLayout,{labelSeparator:":",trackLabels:!1,onRemove:function(a){Ext.layout.FormLayout.superclass.onRemove.call(this,a),this.trackLabels&&(a.un("show",this.onFieldShow,this),a.un("hide",this.onFieldHide,this));var b=a.getPositionEl(),c=a.getItemCt&&a.getItemCt();a.rendered&&c&&(b&&b.dom&&b.insertAfter(c),Ext.destroy(c),Ext.destroyMembers(a,"label","itemCt"),a.customItemCt&&Ext.destroyMembers(a,"getItemCt","customItemCt"))},setContainer:function(a){if(Ext.layout.FormLayout.superclass.setContainer.call(this,a),a.labelAlign&&a.addClass("x-form-label-"+a.labelAlign),a.hideLabels)Ext.apply(this,{labelStyle:"display:none",elementStyle:"padding-left:0;",labelAdjust:0});else{if(this.labelSeparator=a.labelSeparator||this.labelSeparator,a.labelWidth=a.labelWidth||100,Ext.isNumber(a.labelWidth)){var b=Ext.isNumber(a.labelPad)?a.labelPad:5;Ext.apply(this,{labelAdjust:a.labelWidth+b,labelStyle:"width:"+a.labelWidth+"px;",elementStyle:"padding-left:"+(a.labelWidth+b)+"px"})}"top"==a.labelAlign&&Ext.apply(this,{labelStyle:"width:auto;",labelAdjust:0,elementStyle:"padding-left:0;"})}},isHide:function(a){return a.hideLabel||this.container.hideLabels},onFieldShow:function(a){a.getItemCt().removeClass("x-hide-"+a.hideMode)},onFieldHide:function(a){a.getItemCt().addClass("x-hide-"+a.hideMode)},getLabelStyle:function(a){for(var b="",c=[this.labelStyle,a],d=0,e=c.length;e>d;++d)c[d]&&(b+=c[d],";"!=b.substr(-1,1)&&(b+=";"));return b},renderItem:function(a,b,c){if(a&&(a.isFormField||a.fieldLabel)&&"hidden"!=a.inputType){var d=this.getTemplateArgs(a);Ext.isNumber(b)&&(b=c.dom.childNodes[b]||null),a.itemCt=b?this.fieldTpl.insertBefore(b,d,!0):this.fieldTpl.append(c,d,!0),a.getItemCt||Ext.apply(a,{getItemCt:function(){return a.itemCt},customItemCt:!0}),a.label=a.getItemCt().child("label.x-form-item-label"),a.rendered?this.isValidParent(a,c)||Ext.fly("x-form-el-"+a.id).appendChild(a.getPositionEl()):a.render("x-form-el-"+a.id),this.trackLabels&&(a.hidden&&this.onFieldHide(a),a.on({scope:this,show:this.onFieldShow,hide:this.onFieldHide})),this.configureItem(a)}else Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments)},getTemplateArgs:function(a){var b=!a.fieldLabel||a.hideLabel;return{id:a.id,label:a.fieldLabel,labelStyle:this.getLabelStyle(a.labelStyle),elementStyle:this.elementStyle||"",labelSeparator:b?"":Ext.isDefined(a.labelSeparator)?a.labelSeparator:this.labelSeparator,itemCls:(a.itemCls||this.container.itemCls||"")+(a.hideLabel?" x-hide-label":""),clearCls:a.clearCls||"x-form-clear-left"}},adjustWidthAnchor:function(a,b){if(b.label&&!this.isHide(b)&&"top"!=this.container.labelAlign){var c=Ext.isIE6||Ext.isIE&&!Ext.isStrict;return a-this.labelAdjust+(c?-3:0)}return a},adjustHeightAnchor:function(a,b){return b.label&&!this.isHide(b)&&"top"==this.container.labelAlign?a-b.label.getHeight():a},isValidParent:function(a,b){return b&&this.container.getEl().contains(a.getPositionEl())}}),Ext.Container.LAYOUTS.form=Ext.layout.FormLayout,Ext.layout.AccordionLayout=Ext.extend(Ext.layout.FitLayout,{fill:!0,autoWidth:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:!1,animate:!1,sequence:!1,activeOnTop:!1,renderItem:function(a){this.animate===!1&&(a.animCollapse=!1),a.collapsible=!0,this.autoWidth&&(a.autoWidth=!0),this.titleCollapse&&(a.titleCollapse=!0),this.hideCollapseTool&&(a.hideCollapseTool=!0),void 0!==this.collapseFirst&&(a.collapseFirst=this.collapseFirst),this.activeItem||a.collapsed?this.activeItem&&this.activeItem!=a&&(a.collapsed=!0):this.setActiveItem(a,!0),Ext.layout.AccordionLayout.superclass.renderItem.apply(this,arguments),a.header.addClass("x-accordion-hd"),a.on("beforeexpand",this.beforeExpand,this)},onRemove:function(a){Ext.layout.AccordionLayout.superclass.onRemove.call(this,a),a.rendered&&a.header.removeClass("x-accordion-hd"),a.un("beforeexpand",this.beforeExpand,this)},beforeExpand:function(a,b){var c=this.activeItem;if(c)if(this.sequence){if(delete this.activeItem,!c.collapsed)return c.collapse({callback:function(){a.expand(b||!0)},scope:this}),!1}else c.collapse(this.animate);this.setActive(a),this.activeOnTop&&a.el.dom.parentNode.insertBefore(a.el.dom,a.el.dom.parentNode.firstChild),this.layout()},setItemSize:function(a,b){if(this.fill&&a){var c=0;this.container.items.each(function(b){b!=a&&(c+=b.header.getHeight())}),b.height-=c,a.setSize(b)}},setActiveItem:function(a){this.setActive(a,!0)},setActive:function(a,b){var c=this.activeItem;a=this.container.getComponent(a),c!=a&&(a.rendered&&a.collapsed&&b?a.expand():(c&&c.fireEvent("deactivate",c),this.activeItem=a,a.fireEvent("activate",a)))}}),Ext.Container.LAYOUTS.accordion=Ext.layout.AccordionLayout,Ext.layout.Accordion=Ext.layout.AccordionLayout,Ext.layout.TableLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!1,targetCls:"x-table-layout-ct",tableAttrs:null,setContainer:function(a){Ext.layout.TableLayout.superclass.setContainer.call(this,a),this.currentRow=0,this.currentColumn=0,this.cells=[]},onLayout:function(a,b){{var c=a.items.items;c.length}this.table||(this.table=b.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,!0)),this.renderAll(a,b)},getRow:function(a){var b=this.table.tBodies[0].childNodes[a];return b||(b=document.createElement("tr"),this.table.tBodies[0].appendChild(b)),b},getNextCell:function(a){for(var b=this.getNextNonSpan(this.currentColumn,this.currentRow),c=this.currentColumn=b[0],d=this.currentRow=b[1],e=d;e<d+(a.rowspan||1);e++){this.cells[e]||(this.cells[e]=[]);for(var f=c;f<c+(a.colspan||1);f++)this.cells[e][f]=!0}var g=document.createElement("td");a.cellId&&(g.id=a.cellId);var h="x-table-layout-cell";return a.cellCls&&(h+=" "+a.cellCls),g.className=h,a.colspan&&(g.colSpan=a.colspan),a.rowspan&&(g.rowSpan=a.rowspan),this.getRow(d).appendChild(g),g},getNextNonSpan:function(a,b){for(var c=this.columns;c&&a>=c||this.cells[b]&&this.cells[b][a];)c&&a>=c?(b++,a=0):a++;return[a,b]},renderItem:function(a,b,c){if(a&&!a.rendered)a.render(this.getNextCell(a)),this.configureItem(a,b);else if(a&&!this.isValidParent(a,c)){var d=this.getNextCell(a);d.insertBefore(a.getPositionEl().dom,null),a.container=Ext.get(d),this.configureItem(a,b)}},isValidParent:function(a,b){return a.getPositionEl().up("table",5).dom.parentNode===(b.dom||b)}}),Ext.Container.LAYOUTS.table=Ext.layout.TableLayout,Ext.layout.AbsoluteLayout=Ext.extend(Ext.layout.AnchorLayout,{extraCls:"x-abs-layout-item",onLayout:function(a,b){b.position(),this.paddingLeft=b.getPadding("l"),this.paddingTop=b.getPadding("t"),Ext.layout.AbsoluteLayout.superclass.onLayout.call(this,a,b)},adjustWidthAnchor:function(a,b){return a?a-b.getPosition(!0)[0]+this.paddingLeft:a},adjustHeightAnchor:function(a,b){return a?a-b.getPosition(!0)[1]+this.paddingTop:a}}),Ext.Container.LAYOUTS.absolute=Ext.layout.AbsoluteLayout,Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{defaultMargins:{left:0,top:0,right:0,bottom:0},padding:"0",pack:"start",monitorResize:!0,scrollOffset:0,extraCls:"x-box-item",targetCls:"x-box-layout-ct",innerCls:"x-box-inner",constructor:function(a){Ext.layout.BoxLayout.superclass.constructor.call(this,a),Ext.isString(this.defaultMargins)&&(this.defaultMargins=this.parseMargins(this.defaultMargins))},isValidParent:function(a){return a.getPositionEl().dom.parentNode==this.innerCt.dom},onLayout:function(a,b){{var c=a.items.items;c.length}this.innerCt||(this.innerCt=b.createChild({cls:this.innerCls}),this.padding=this.parseMargins(this.padding)),this.renderAll(a,this.innerCt)},renderItem:function(a){Ext.isString(a.margins)?a.margins=this.parseMargins(a.margins):a.margins||(a.margins=this.defaultMargins),Ext.layout.BoxLayout.superclass.renderItem.apply(this,arguments)},getTargetSize:function(a){return Ext.isIE6&&Ext.isStrict&&a.dom==document.body?a.getStyleSize():a.getViewSize(!0)},getItems:function(a){var b=[];return a.items.each(function(a){a.isVisible()&&b.push(a)}),b}}),Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"left",onLayout:function(a,b){Ext.layout.VBoxLayout.superclass.onLayout.call(this,a,b);var c,d,e,f,g,h,j,k=this.getItems(a),l=b.getViewSize(!0),m=l.width,n=l.height-this.scrollOffset,o=this.padding.left,p=this.padding.top,q="start"==this.pack,r=m-(this.padding.left+this.padding.right),s=0,t=0,u=0,v=0,w=0,x=[],y=k.length;for(i=0;y>i;i++)j=k[i],c=j.margins,e=c.top+c.bottom,t=Math.max(t,j.getWidth()+c.left+c.right);var z=t+this.padding.left+this.padding.right;switch(this.align){case"stretch":this.innerCt.setSize(m,n);break;case"stretchmax":case"left":this.innerCt.setSize(z,n);break;case"center":this.innerCt.setSize(m=Math.max(m,z),n)}var A=Math.max(0,m-this.padding.left-this.padding.right);for(i=0;y>i;i++)j=k[i],c=j.margins,"stretch"==this.align?j.setWidth((r-(c.left+c.right)).constrain(j.minWidth||0,j.maxWidth||1e6)):"stretchmax"==this.align?j.setWidth((t-(c.left+c.right)).constrain(j.minWidth||0,j.maxWidth||1e6)):q&&j.flex&&j.setWidth();for(i=0;y>i;i++)j=k[i],c=j.margins,u+=j.flex||0,d=j.getHeight(),e=c.top+c.bottom,s+=d+e,v+=e+(j.flex?0:d);s=n-s-this.padding.top-this.padding.bottom;var B=Math.max(0,n-this.padding.top-this.padding.bottom-v),C=B;for(i=0;y>i;i++)j=k[i],q&&j.flex&&(d=Math.floor(B*(j.flex/u)),C-=d,x.push(d));for("center"==this.pack?p+=s?s/2:0:"end"==this.pack&&(p+=s),w=0,i=0;y>i;i++)j=k[i],c=j.margins,p+=c.top,h=A,f=o+c.left,"center"==this.align&&(g=A-(j.getWidth()+c.left+c.right))>0&&(f+=g/2,h-=g),j.setPosition(f,p),q&&j.flex?(d=Math.max(0,x[w++]+(C-->0?1:0)),j.setSize(h,d)):d=j.getHeight(),p+=d+c.bottom}}),Ext.Container.LAYOUTS.vbox=Ext.layout.VBoxLayout,Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"top",onLayout:function(a,b){Ext.layout.HBoxLayout.superclass.onLayout.call(this,a,b);var c,d,e,f,g,h=this.getItems(a),i=b.getViewSize(!0),j=i.width-this.scrollOffset,k=i.height,l=this.padding.left,m=this.padding.top,n="start"==this.pack,o=-1==["stretch","stretchmax"].indexOf(this.align),p=k-(this.padding.top+this.padding.bottom),q=0,r=0,s=0,t=0;Ext.each(h,function(a){c=a.margins,s+=a.flex||0,d=a.getWidth(),e=c.left+c.right,q+=d+e,t+=e+(a.flex?0:d),r=Math.max(r,a.getHeight()+c.top+c.bottom)}),q=j-q-this.padding.left-this.padding.right;var u=r+this.padding.top+this.padding.bottom;switch(this.align){case"stretch":this.innerCt.setSize(j,k);break;case"stretchmax":case"top":this.innerCt.setSize(j,u);break;case"middle":this.innerCt.setSize(j,k=Math.max(k,u))}var v=Math.max(0,j-this.padding.left-this.padding.right-t),w=v,x=[],y=[],z=0,A=Math.max(0,k-this.padding.top-this.padding.bottom);Ext.each(h,function(a){n&&a.flex&&(d=Math.floor(v*(a.flex/s)),w-=d,x.push(d))}),"center"==this.pack?l+=q?q/2:0:"end"==this.pack&&(l+=q),Ext.each(h,function(a){c=a.margins,l+=c.left,a.setPosition(l,m+c.top),n&&a.flex?(d=Math.max(0,x[z++]+(w-->0?1:0)),o&&y.push(a.getHeight()),a.setSize(d,A)):d=a.getWidth(),l+=d+c.right}),z=0,Ext.each(h,function(a){c=a.margins,f=a.getHeight(),n&&a.flex&&(f=y[z++]),"stretch"==this.align?a.setHeight((p-(c.top+c.bottom)).constrain(a.minHeight||0,a.maxHeight||1e6)):"stretchmax"==this.align?a.setHeight((r-(c.top+c.bottom)).constrain(a.minHeight||0,a.maxHeight||1e6)):("middle"==this.align&&(g=A-(f+c.top+c.bottom),f=m+c.top+g/2,g>0&&a.setPosition(a.x,f)),n&&a.flex&&a.setHeight(f))},this)}}),Ext.Container.LAYOUTS.hbox=Ext.layout.HBoxLayout,Ext.Viewport=Ext.extend(Ext.Container,{initComponent:function(){Ext.Viewport.superclass.initComponent.call(this),document.getElementsByTagName("html")[0].className+=" x-viewport",this.el=Ext.getBody(),this.el.setHeight=Ext.emptyFn,this.el.setWidth=Ext.emptyFn,this.el.setSize=Ext.emptyFn,this.el.dom.scroll="no",this.allowDomMove=!1,this.autoWidth=!0,this.autoHeight=!0,Ext.EventManager.onWindowResize(this.fireResize,this),this.renderTo=this.el},fireResize:function(a,b){this.onResize(a,b,a,b)}}),Ext.reg("viewport",Ext.Viewport),Ext.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",collapsedCls:"x-panel-collapsed",maskDisabled:!0,animCollapse:Ext.enableFx,headerAsText:!0,buttonAlign:"right",collapsed:!1,collapseFirst:!0,minButtonWidth:75,elements:"body",preventBodyReset:!1,padding:void 0,resizeEvent:"bodyresize",toolTarget:"header",collapseEl:"bwrap",slideAnchor:"t",disabledClass:"",deferHeight:!0,expandDefaults:{duration:.25},collapseDefaults:{duration:.25},initComponent:function(){Ext.Panel.superclass.initComponent.call(this),this.addEvents("bodyresize","titlechange","iconchange","collapse","expand","beforecollapse","beforeexpand","beforeclose","close","activate","deactivate"),this.unstyled&&(this.baseCls="x-plain"),this.toolbars=[],this.tbar&&(this.elements+=",tbar",this.topToolbar=this.createToolbar(this.tbar),delete this.tbar),this.bbar&&(this.elements+=",bbar",this.bottomToolbar=this.createToolbar(this.bbar),delete this.bbar),this.header===!0?(this.elements+=",header",delete this.header):(this.headerCfg||this.title&&this.header!==!1)&&(this.elements+=",header"),(this.footerCfg||this.footer===!0)&&(this.elements+=",footer",delete this.footer),this.buttons&&(this.fbar=this.buttons,delete this.buttons),this.fbar&&this.createFbar(this.fbar),this.autoLoad&&this.on("render",this.doAutoLoad,this,{delay:10})},createFbar:function(a){var b=this.minButtonWidth;this.elements+=",footer",this.fbar=this.createToolbar(a,{buttonAlign:this.buttonAlign,toolbarCls:"x-panel-fbar",enableOverflow:!1,defaults:function(a){return{minWidth:a.minWidth||b}}}),this.fbar.items.each(function(a){a.minWidth=a.minWidth||this.minButtonWidth},this),this.buttons=this.fbar.items.items},createToolbar:function(a,b){var c;return Ext.isArray(a)&&(a={items:a}),c=a.events?Ext.apply(a,b):this.createComponent(Ext.apply({},a,b),"toolbar"),c.ownerCt=this,c.bufferResize=!1,this.toolbars.push(c),c},createElement:function(a,b){if(this[a])return void b.appendChild(this[a].dom);if("bwrap"===a||-1!=this.elements.indexOf(a)){if(this[a+"Cfg"])this[a]=Ext.fly(b).createChild(this[a+"Cfg"]);else{var c=document.createElement("div");c.className=this[a+"Cls"],this[a]=Ext.get(b.appendChild(c))}this[a+"CssClass"]&&this[a].addClass(this[a+"CssClass"]),this[a+"Style"]&&this[a].applyStyles(this[a+"Style"])}},onRender:function(a,b){Ext.Panel.superclass.onRender.call(this,a,b),this.createClasses();var c,d,e=this.el,f=e.dom;if(this.collapsible&&!this.hideCollapseTool&&(this.tools=this.tools?this.tools.slice(0):[],this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this})),this.tools&&(d=this.tools,this.elements+=this.header!==!1?",header":""),this.tools={},e.addClass(this.baseCls),f.firstChild){this.header=e.down("."+this.headerCls),this.bwrap=e.down("."+this.bwrapCls);var g=this.bwrap?this.bwrap:e;this.tbar=g.down("."+this.tbarCls),this.body=g.down("."+this.bodyCls),this.bbar=g.down("."+this.bbarCls),this.footer=g.down("."+this.footerCls),this.fromMarkup=!0}if(this.preventBodyReset===!0&&e.addClass("x-panel-reset"),this.cls&&e.addClass(this.cls),this.buttons&&(this.elements+=",footer"),this.frame){e.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,this.baseCls)),this.createElement("header",f.firstChild.firstChild.firstChild),this.createElement("bwrap",f),c=this.bwrap.dom;var h=f.childNodes[1],i=f.childNodes[2];c.appendChild(h),c.appendChild(i);var j=c.firstChild.firstChild.firstChild;this.createElement("tbar",j),this.createElement("body",j),this.createElement("bbar",j),this.createElement("footer",c.lastChild.firstChild.firstChild),this.footer||(this.bwrap.dom.lastChild.className+=" x-panel-nofooter"),this.ft=Ext.get(this.bwrap.dom.lastChild),this.mc=Ext.get(j)}else this.createElement("header",f),this.createElement("bwrap",f),c=this.bwrap.dom,this.createElement("tbar",c),this.createElement("body",c),this.createElement("bbar",c),this.createElement("footer",c),this.header||(this.body.addClass(this.bodyCls+"-noheader"),this.tbar&&this.tbar.addClass(this.tbarCls+"-noheader"));Ext.isDefined(this.padding)&&this.body.setStyle("padding",this.body.addUnits(this.padding)),this.border===!1&&(this.el.addClass(this.baseCls+"-noborder"),this.body.addClass(this.bodyCls+"-noborder"),this.header&&this.header.addClass(this.headerCls+"-noborder"),this.footer&&this.footer.addClass(this.footerCls+"-noborder"),this.tbar&&this.tbar.addClass(this.tbarCls+"-noborder"),this.bbar&&this.bbar.addClass(this.bbarCls+"-noborder")),this.bodyBorder===!1&&this.body.addClass(this.bodyCls+"-noborder"),this.bwrap.enableDisplayMode("block"),this.header&&(this.header.unselectable(),this.headerAsText&&(this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>",this.iconCls&&this.setIconClass(this.iconCls))),this.floating&&this.makeFloating(this.floating),this.collapsible&&this.titleCollapse&&this.header&&(this.mon(this.header,"click",this.toggleCollapse,this),this.header.setStyle("cursor","pointer")),d&&this.addTool.apply(this,d),this.fbar&&(this.footer.addClass("x-panel-btns"),this.fbar.render(this.footer),this.footer.createChild({cls:"x-clear"})),this.tbar&&this.topToolbar&&this.topToolbar.render(this.tbar),this.bbar&&this.bottomToolbar&&this.bottomToolbar.render(this.bbar)},setIconClass:function(a){var b=this.iconCls;if(this.iconCls=a,this.rendered&&this.header)if(this.frame)this.header.addClass("x-panel-icon"),this.header.replaceClass(b,this.iconCls);else{var c=this.header,d=c.child("img.x-panel-inline-icon");d?Ext.fly(d).replaceClass(b,this.iconCls):Ext.DomHelper.insertBefore(c.dom.firstChild,{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon "+this.iconCls})}this.fireEvent("iconchange",this,a,b)},makeFloating:function(a){this.floating=!0,this.el=new Ext.Layer(Ext.apply({},a,{shadow:Ext.isDefined(this.shadow)?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:!1,shim:this.shim===!1?!1:void 0}),this.el)},getTopToolbar:function(){return this.topToolbar},getBottomToolbar:function(){return this.bottomToolbar},addButton:function(a,b,c){return this.fbar||this.createFbar([]),b&&(Ext.isString(a)&&(a={text:a}),a=Ext.apply({handler:b,scope:c},a)),this.fbar.add(a)},addTool:function(){if(!this.rendered)return this.tools||(this.tools=[]),void Ext.each(arguments,function(a){this.tools.push(a)},this);if(this[this.toolTarget]){if(!this.toolTemplate){var a=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');a.disableFormats=!0,a.compile(),Ext.Panel.prototype.toolTemplate=a}for(var b=0,c=arguments,d=c.length;d>b;b++){var e=c[b];if(!this.tools[e.id]){var f="x-tool-"+e.id+"-over",g=this.toolTemplate.insertFirst("left"!==e.align?this[this.toolTarget]:this[this.toolTarget].child("span"),e,!0);this.tools[e.id]=g,g.enableDisplayMode("block"),this.mon(g,"click",this.createToolHandler(g,e,f,this)),e.on&&this.mon(g,e.on),e.hidden&&g.hide(),e.qtip&&(Ext.isObject(e.qtip)?Ext.QuickTips.register(Ext.apply({target:g.id},e.qtip)):g.dom.qtip=e.qtip),g.addClassOnOver(f)}}}},onLayout:function(a,b){this.hasLayout&&this.toolbars.length>0&&(Ext.each(this.toolbars,function(a){a.doLayout(void 0,b)}),this.syncHeight())},syncHeight:function(){var a,b=this.toolbarHeight,c=this.body,d=this.lastSize.height;!this.autoHeight&&Ext.isDefined(d)&&"auto"!=d&&b!=this.getToolbarHeight()&&(b=Math.max(0,this.adjustBodyHeight(d-this.getFrameHeight())),c.setHeight(b),a=c.getSize(),this.toolbarHeight=this.getToolbarHeight(),this.onBodyResize(a.width,a.height))},onShow:function(){return this.floating?this.el.show():void Ext.Panel.superclass.onShow.call(this)},onHide:function(){return this.floating?this.el.hide():void Ext.Panel.superclass.onHide.call(this)},createToolHandler:function(a,b,c,d){return function(e){a.removeClass(c),b.stopEvent!==!1&&e.stopEvent(),b.handler&&b.handler.call(b.scope||a,e,a,d,b)}},afterRender:function(){this.floating&&!this.hidden&&this.el.show(),this.title&&this.setTitle(this.title),this.collapsed&&(this.collapsed=!1,this.collapse(!1)),Ext.Panel.superclass.afterRender.call(this),this.initEvents()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.KeyMap(this.el,this.keys)),this.keyMap},initEvents:function(){this.keys&&this.getKeyMap(),this.draggable&&this.initDraggable(),this.toolbars.length>0&&(Ext.each(this.toolbars,function(a){a.doLayout(),a.on({scope:this,afterlayout:this.syncHeight,remove:this.syncHeight})},this),this.ownerCt||this.syncHeight())},initDraggable:function(){this.dd=new Ext.Panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},beforeEffect:function(a){this.floating&&this.el.beforeAction(),a!==!1&&this.el.addClass("x-panel-animated")},afterEffect:function(a){this.syncShadow(),a!==!1&&this.el.removeClass("x-panel-animated")},createEffect:function(a,b,c){var d={scope:c,block:!0};return a===!0?(d.callback=b,d):(d.callback=a.callback?function(){b.call(c),Ext.callback(a.callback,a.scope)}:b,Ext.applyIf(d,a))},collapse:function(a){if(!this.collapsed&&!this.el.hasFxBlock()&&this.fireEvent("beforecollapse",this,a)!==!1){var b=a===!0||a!==!1&&this.animCollapse;return this.beforeEffect(b),this.onCollapse(b,a),this}},onCollapse:function(a,b){a?this[this.collapseEl].slideOut(this.slideAnchor,Ext.apply(this.createEffect(b||!0,this.afterCollapse,this),this.collapseDefaults)):(this[this.collapseEl].hide(),this.afterCollapse(!1))},afterCollapse:function(a){this.collapsed=!0,this.el.addClass(this.collapsedCls),this.afterEffect(a),this.fireEvent("collapse",this)},expand:function(a){if(this.collapsed&&!this.el.hasFxBlock()&&this.fireEvent("beforeexpand",this,a)!==!1){var b=a===!0||a!==!1&&this.animCollapse;return this.el.removeClass(this.collapsedCls),this.beforeEffect(b),this.onExpand(b,a),this}},onExpand:function(a,b){a?this[this.collapseEl].slideIn(this.slideAnchor,Ext.apply(this.createEffect(b||!0,this.afterExpand,this),this.expandDefaults)):(this[this.collapseEl].show(),this.afterExpand(!1))},afterExpand:function(a){this.collapsed=!1,this.afterEffect(a),Ext.isDefined(this.deferLayout)&&this.doLayout(!0),this.fireEvent("expand",this)},toggleCollapse:function(a){return this[this.collapsed?"expand":"collapse"](a),this},onDisable:function(){this.rendered&&this.maskDisabled&&this.el.mask(),Ext.Panel.superclass.onDisable.call(this)},onEnable:function(){this.rendered&&this.maskDisabled&&this.el.unmask(),Ext.Panel.superclass.onEnable.call(this)},onResize:function(a,b){(Ext.isDefined(a)||Ext.isDefined(b))&&(this.collapsed?(this.queuedBodySize={width:a,height:b},this.queuedExpand||this.allowQueuedExpand===!1||(this.queuedExpand=!0,this.on("expand",function(){delete this.queuedExpand,this.onResize(this.queuedBodySize.width,this.queuedBodySize.height)},this,{single:!0}))):(Ext.isNumber(a)?this.body.setWidth(a=this.adjustBodyWidth(a-this.getFrameWidth())):a="auto"==a?this.body.setWidth("auto").dom.offsetWidth:this.body.dom.offsetWidth,this.tbar&&(this.tbar.setWidth(a),this.topToolbar&&this.topToolbar.setSize(a)),this.bbar&&(this.bbar.setWidth(a),this.bottomToolbar&&(this.bottomToolbar.setSize(a),Ext.isIE&&(this.bbar.setStyle("position","static"),this.bbar.setStyle("position","")))),this.footer&&(this.footer.setWidth(a),this.fbar&&this.fbar.setSize(Ext.isIE?a-this.footer.getFrameWidth("lr"):"auto")),Ext.isNumber(b)?(b=Math.max(0,this.adjustBodyHeight(b-this.getFrameHeight())),this.body.setHeight(b)):"auto"==b&&this.body.setHeight(b),this.disabled&&this.el._mask&&this.el._mask.setSize(this.el.dom.clientWidth,this.el.getHeight())),this.onBodyResize(a,b)),this.syncShadow(),Ext.Panel.superclass.onResize.call(this)},onBodyResize:function(a,b){this.fireEvent("bodyresize",this,a,b)},getToolbarHeight:function(){var a=0;return this.rendered&&Ext.each(this.toolbars,function(b){a+=b.getHeight()},this),a},adjustBodyHeight:function(a){return a},adjustBodyWidth:function(a){return a},onPosition:function(){this.syncShadow()},getFrameWidth:function(){var a=this.el.getFrameWidth("lr")+this.bwrap.getFrameWidth("lr");if(this.frame){var b=this.bwrap.dom.firstChild;a+=Ext.fly(b).getFrameWidth("l")+Ext.fly(b.firstChild).getFrameWidth("r"),a+=this.mc.getFrameWidth("lr")}return a},getFrameHeight:function(){var a=this.el.getFrameWidth("tb")+this.bwrap.getFrameWidth("tb");return a+=(this.tbar?this.tbar.getHeight():0)+(this.bbar?this.bbar.getHeight():0),a+=this.frame?this.el.dom.firstChild.offsetHeight+this.ft.dom.offsetHeight+this.mc.getFrameWidth("tb"):(this.header?this.header.getHeight():0)+(this.footer?this.footer.getHeight():0)},getInnerWidth:function(){return this.getSize().width-this.getFrameWidth()},getInnerHeight:function(){return this.getSize().height-this.getFrameHeight()},syncShadow:function(){this.floating&&this.el.sync(!0)},getLayoutTarget:function(){return this.body},getContentTarget:function(){return this.body},setTitle:function(a,b){return this.title=a,this.header&&this.headerAsText&&this.header.child("span").update(a),b&&this.setIconClass(b),this.fireEvent("titlechange",this,a),this},getUpdater:function(){return this.body.getUpdater()},load:function(){var a=this.body.getUpdater();return a.update.apply(a,arguments),this},beforeDestroy:function(){if(Ext.Panel.superclass.beforeDestroy.call(this),this.header&&this.header.removeAllListeners(),this.tools)for(var a in this.tools)Ext.destroy(this.tools[a]);if(Ext.isArray(this.buttons))for(;this.buttons.length;)Ext.destroy(this.buttons[0]);this.rendered?(Ext.destroy(this.ft,this.header,this.footer,this.toolbars,this.tbar,this.bbar,this.body,this.mc,this.bwrap),this.fbar&&Ext.destroy(this.fbar,this.fbar.el)):Ext.destroy(this.topToolbar,this.bottomToolbar)},createClasses:function(){this.headerCls=this.baseCls+"-header",this.headerTextCls=this.baseCls+"-header-text",this.bwrapCls=this.baseCls+"-bwrap",this.tbarCls=this.baseCls+"-tbar",this.bodyCls=this.baseCls+"-body",this.bbarCls=this.baseCls+"-bbar",this.footerCls=this.baseCls+"-footer"},createGhost:function(a,b,c){var d=document.createElement("div");if(d.className="x-panel-ghost "+(a?a:""),this.header&&d.appendChild(this.el.dom.firstChild.cloneNode(!0)),Ext.fly(d.appendChild(document.createElement("ul"))).setHeight(this.bwrap.getHeight()),d.style.width=this.el.dom.offsetWidth+"px",c?Ext.getDom(c).appendChild(d):this.container.dom.appendChild(d),b!==!1&&this.el.useShim!==!1){var e=new Ext.Layer({shadow:!1,useDisplay:!0,constrain:!1},d);return e.show(),e}return new Ext.Element(d)},doAutoLoad:function(){var a=this.body.getUpdater();this.renderer&&a.setRenderer(this.renderer),a.update(Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad})},getTool:function(a){return this.tools[a]}}),Ext.reg("panel",Ext.Panel),Ext.Editor=function(a,b){a.field?(this.field=Ext.create(a.field,"textfield"),b=Ext.apply({},a),delete b.field):this.field=a,Ext.Editor.superclass.constructor.call(this,b)
},Ext.extend(Ext.Editor,Ext.Component,{value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,initComponent:function(){Ext.Editor.superclass.initComponent.call(this),this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onRender:function(a){this.el=new Ext.Layer({shadow:this.shadow,cls:"x-editor",parentEl:a,shim:this.shim,shadowOffset:this.shadowOffset||4,id:this.id,constrain:this.constrain}),this.zIndex&&this.el.setZIndex(this.zIndex),this.el.setStyle("overflow",Ext.isGecko?"auto":"hidden"),"title"!=this.field.msgTarget&&(this.field.msgTarget="qtip"),this.field.inEditor=!0,this.mon(this.field,{scope:this,blur:this.onBlur,specialkey:this.onSpecialKey}),this.field.grow&&this.mon(this.field,"autosize",this.el.sync,this.el,{delay:1}),this.field.render(this.el).show(),this.field.getEl().dom.name="",this.swallowKeys&&this.field.el.swallowEvent(["keypress","keydown"])},onSpecialKey:function(a,b){var c=b.getKey(),d=this.completeOnEnter&&c==b.ENTER,e=this.cancelOnEsc&&c==b.ESC;(d||e)&&(b.stopEvent(),d?this.completeEdit():this.cancelEdit(),a.triggerBlur&&a.triggerBlur()),this.fireEvent("specialkey",a,b)},startEdit:function(a,b){this.editing&&this.completeEdit(),this.boundEl=Ext.get(a);var c=void 0!==b?b:this.boundEl.dom.innerHTML;this.rendered||this.render(this.parentEl||document.body),this.fireEvent("beforestartedit",this,this.boundEl,c)!==!1&&(this.startValue=c,this.field.reset(),this.field.setValue(c),this.realign(!0),this.editing=!0,this.show())},doAutoSize:function(){if(this.autoSize){var a=this.boundEl.getSize(),b=this.field.getSize();switch(this.autoSize){case"width":this.setSize(a.width,b.height);break;case"height":this.setSize(b.width,a.height);break;case"none":this.setSize(b.width,b.height);break;default:this.setSize(a.width,a.height)}}},setSize:function(a,b){delete this.field.lastSize,this.field.setSize(a,b),this.el&&((Ext.isGecko2||Ext.isOpera)&&this.el.setSize(a,b),this.el.sync())},realign:function(a){a===!0&&this.doAutoSize(),this.el.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(a){if(this.editing){var b=this.getValue();return this.field.isValid()?String(b)===String(this.startValue)&&this.ignoreNoChange?void this.hideEdit(a):void(this.fireEvent("beforecomplete",this,b,this.startValue)!==!1&&(b=this.getValue(),this.updateEl&&this.boundEl&&this.boundEl.update(b),this.hideEdit(a),this.fireEvent("complete",this,b,this.startValue))):void(this.revertInvalid!==!1&&this.cancelEdit(a))}},onShow:function(){this.el.show(),this.hideEl!==!1&&this.boundEl.hide(),this.field.show().focus(!1,!0),this.fireEvent("startedit",this.boundEl,this.startValue)},cancelEdit:function(a){if(this.editing){var b=this.getValue();this.setValue(this.startValue),this.hideEdit(a),this.fireEvent("canceledit",this,b,this.startValue)}},hideEdit:function(a){a!==!0&&(this.editing=!1,this.hide())},onBlur:function(){this.allowBlur!==!0&&this.editing&&this.completeEdit()},onHide:function(){return this.editing?void this.completeEdit():(this.field.blur(),this.field.collapse&&this.field.collapse(),this.el.hide(),void(this.hideEl!==!1&&this.boundEl.show()))},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){Ext.destroyMembers(this,"field"),delete this.parentEl,delete this.boundEl}}),Ext.reg("editor",Ext.Editor),Ext.ColorPalette=Ext.extend(Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],initComponent:function(){Ext.ColorPalette.superclass.initComponent.call(this),this.addEvents("select"),this.handler&&this.on("select",this.handler,this.scope,!0)},onRender:function(a,b){this.autoEl={tag:"div",cls:this.itemCls},Ext.ColorPalette.superclass.onRender.call(this,a,b);var c=this.tpl||new Ext.XTemplate('<tpl for="."><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>');c.overwrite(this.el,this.colors),this.mon(this.el,this.clickEvent,this.handleClick,this,{delegate:"a"}),"click"!=this.clickEvent&&this.mon(this.el,"click",Ext.emptyFn,this,{delegate:"a",preventDefault:!0})},afterRender:function(){if(Ext.ColorPalette.superclass.afterRender.call(this),this.value){var a=this.value;this.value=null,this.select(a)}},handleClick:function(a,b){if(a.preventDefault(),!this.disabled){var c=b.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(c.toUpperCase())}},select:function(a){if(a=a.replace("#",""),a!=this.value||this.allowReselect){var b=this.el;this.value&&b.child("a.color-"+this.value).removeClass("x-color-palette-sel"),b.child("a.color-"+a).addClass("x-color-palette-sel"),this.value=a,this.fireEvent("select",this,a)}}}),Ext.reg("colorpalette",Ext.ColorPalette),Ext.DatePicker=Ext.extend(Ext.BoxComponent,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDaysText:"Disabled",disabledDatesText:"Disabled",monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:!0,focusOnSelect:!0,initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this),this.value=this.value?this.value.clearTime(!0):(new Date).clearTime(),this.addEvents("select"),this.handler&&this.on("select",this.handler,this.scope||this),this.initDisabledDays()},initDisabledDays:function(){if(!this.disabledDatesRE&&this.disabledDates){var a=this.disabledDates,b=a.length-1,c="(?:";Ext.each(a,function(d,e){c+=Ext.isDate(d)?"^"+Ext.escapeRe(d.dateFormat(this.format))+"$":a[e],e!=b&&(c+="|")},this),this.disabledDatesRE=new RegExp(c+")")}},setDisabledDates:function(a){Ext.isArray(a)?(this.disabledDates=a,this.disabledDatesRE=null):this.disabledDatesRE=a,this.initDisabledDays(),this.update(this.value,!0)},setDisabledDays:function(a){this.disabledDays=a,this.update(this.value,!0)},setMinDate:function(a){this.minDate=a,this.update(this.value,!0)},setMaxDate:function(a){this.maxDate=a,this.update(this.value,!0)},setValue:function(a){this.value=a.clearTime(!0),this.update(this.value)},getValue:function(){return this.value},focus:function(){this.update(this.activeDate)},onEnable:function(a){Ext.DatePicker.superclass.onEnable.call(this),this.doDisabled(!1),this.update(a?this.value:this.activeDate),Ext.isIE&&this.el.repaint()},onDisable:function(){Ext.DatePicker.superclass.onDisable.call(this),this.doDisabled(!0),Ext.isIE&&!Ext.isIE8&&Ext.each([].concat(this.textNodes,this.el.query("th span")),function(a){Ext.fly(a).repaint()})},doDisabled:function(a){this.keyNav.setDisabled(a),this.prevRepeater.setDisabled(a),this.nextRepeater.setDisabled(a),this.showToday&&(this.todayKeyListener.setDisabled(a),this.todayBtn.setDisabled(a))},onRender:function(a,b){var c,d=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'],e=this.dayNames;for(c=0;7>c;c++){var f=this.startDay+c;f>6&&(f-=7),d.push("<th><span>",e[f].substr(0,1),"</span></th>")}for(d[d.length]="</tr></thead><tbody><tr>",c=0;42>c;c++)c%7===0&&0!==c&&(d[d.length]="</tr><tr>"),d[d.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>';d.push("</tr></tbody></table></td></tr>",this.showToday?'<tr><td colspan="3" class="x-date-bottom" align="center"></td></tr>':"",'</table><div class="x-date-mp"></div>');var g=document.createElement("div");if(g.className="x-date-picker",g.innerHTML=d.join(""),a.dom.insertBefore(g,b),this.el=Ext.get(g),this.eventEl=Ext.get(g.firstChild),this.prevRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:!0,stopDefault:!0}),this.nextRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:!0,stopDefault:!0}),this.monthPicker=this.el.down("div.x-date-mp"),this.monthPicker.enableDisplayMode("block"),this.keyNav=new Ext.KeyNav(this.eventEl,{left:function(a){a.ctrlKey?this.showPrevMonth():this.update(this.activeDate.add("d",-1))},right:function(a){a.ctrlKey?this.showNextMonth():this.update(this.activeDate.add("d",1))},up:function(a){a.ctrlKey?this.showNextYear():this.update(this.activeDate.add("d",-7))},down:function(a){a.ctrlKey?this.showPrevYear():this.update(this.activeDate.add("d",7))},pageUp:function(){this.showNextMonth()},pageDown:function(){this.showPrevMonth()},enter:function(a){return a.stopPropagation(),!0},scope:this}),this.el.unselectable(),this.cells=this.el.select("table.x-date-inner tbody td"),this.textNodes=this.el.query("table.x-date-inner tbody span"),this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",!0)}),this.mbtn.el.child("em").addClass("x-btn-arrow"),this.showToday){this.todayKeyListener=this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this);var h=(new Date).dateFormat(this.format);this.todayBtn=new Ext.Button({renderTo:this.el.child("td.x-date-bottom",!0),text:String.format(this.todayText,h),tooltip:String.format(this.todayTip,h),handler:this.selectToday,scope:this})}this.mon(this.eventEl,"mousewheel",this.handleMouseWheel,this),this.mon(this.eventEl,"click",this.handleDateClick,this,{delegate:"a.x-date-date"}),this.mon(this.mbtn,"click",this.showMonthPicker,this),this.onEnable(!0)},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){for(var a=['<table border="0" cellspacing="0">'],b=0;6>b;b++)a.push('<tr><td class="x-date-mp-month"><a href="#">',Date.getShortMonthName(b),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',Date.getShortMonthName(b+6),"</a></td>",0===b?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>');a.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>"),this.monthPicker.update(a.join("")),this.mon(this.monthPicker,"click",this.onMonthClick,this),this.mon(this.monthPicker,"dblclick",this.onMonthDblClick,this),this.mpMonths=this.monthPicker.select("td.x-date-mp-month"),this.mpYears=this.monthPicker.select("td.x-date-mp-year"),this.mpMonths.each(function(a,b,c){c+=1,a.dom.xmonth=c%2===0?5+Math.round(.5*c):Math.round(.5*(c-1))})}},showMonthPicker:function(){if(!this.disabled){this.createMonthPicker();var a=this.el.getSize();this.monthPicker.setSize(a),this.monthPicker.child("table").setSize(a),this.mpSelMonth=(this.activeDate||this.value).getMonth(),this.updateMPMonth(this.mpSelMonth),this.mpSelYear=(this.activeDate||this.value).getFullYear(),this.updateMPYear(this.mpSelYear),this.monthPicker.slideIn("t",{duration:.2})}},updateMPYear:function(a){this.mpyear=a;for(var b=this.mpYears.elements,c=1;10>=c;c++){var d,e=b[c-1];c%2===0?(d=a+Math.round(.5*c),e.firstChild.innerHTML=d,e.xyear=d):(d=a-(5-Math.round(.5*c)),e.firstChild.innerHTML=d,e.xyear=d),this.mpYears.item(c-1)[d==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel")}},updateMPMonth:function(a){this.mpMonths.each(function(b){b[b.dom.xmonth==a?"addClass":"removeClass"]("x-date-mp-sel")})},selectMPMonth:function(){},onMonthClick:function(a,b){a.stopEvent();var c,d=new Ext.Element(b);if(d.is("button.x-date-mp-cancel"))this.hideMonthPicker();else if(d.is("button.x-date-mp-ok")){var e=new Date(this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate());e.getMonth()!=this.mpSelMonth&&(e=new Date(this.mpSelYear,this.mpSelMonth,1).getLastDateOfMonth()),this.update(e),this.hideMonthPicker()}else(c=d.up("td.x-date-mp-month",2))?(this.mpMonths.removeClass("x-date-mp-sel"),c.addClass("x-date-mp-sel"),this.mpSelMonth=c.dom.xmonth):(c=d.up("td.x-date-mp-year",2))?(this.mpYears.removeClass("x-date-mp-sel"),c.addClass("x-date-mp-sel"),this.mpSelYear=c.dom.xyear):d.is("a.x-date-mp-prev")?this.updateMPYear(this.mpyear-10):d.is("a.x-date-mp-next")&&this.updateMPYear(this.mpyear+10)},onMonthDblClick:function(a,b){a.stopEvent();var c,d=new Ext.Element(b);(c=d.up("td.x-date-mp-month",2))?(this.update(new Date(this.mpSelYear,c.dom.xmonth,(this.activeDate||this.value).getDate())),this.hideMonthPicker()):(c=d.up("td.x-date-mp-year",2))&&(this.update(new Date(c.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate())),this.hideMonthPicker())},hideMonthPicker:function(a){this.monthPicker&&(a===!0?this.monthPicker.hide():this.monthPicker.slideOut("t",{duration:.2}))},showPrevMonth:function(){this.update(this.activeDate.add("mo",-1))},showNextMonth:function(){this.update(this.activeDate.add("mo",1))},showPrevYear:function(){this.update(this.activeDate.add("y",-1))},showNextYear:function(){this.update(this.activeDate.add("y",1))},handleMouseWheel:function(a){if(a.stopEvent(),!this.disabled){var b=a.getWheelDelta();b>0?this.showPrevMonth():0>b&&this.showNextMonth()}},handleDateClick:function(a,b){a.stopEvent(),this.disabled||!b.dateValue||Ext.fly(b.parentNode).hasClass("x-date-disabled")||(this.cancelFocus=this.focusOnSelect===!1,this.setValue(new Date(b.dateValue)),delete this.cancelFocus,this.fireEvent("select",this,this.value))},selectToday:function(){this.todayBtn&&!this.todayBtn.disabled&&(this.setValue((new Date).clearTime()),this.fireEvent("select",this,this.value))},update:function(a,b){if(this.rendered){var c=this.activeDate,d=this.isVisible();if(this.activeDate=a,!b&&c&&this.el){var e=a.getTime();if(c.getMonth()==a.getMonth()&&c.getFullYear()==a.getFullYear())return this.cells.removeClass("x-date-selected"),void this.cells.each(function(a){return a.dom.firstChild.dateValue==e?(a.addClass("x-date-selected"),d&&!this.cancelFocus&&Ext.fly(a.dom.firstChild).focus(50),!1):void 0},this)}var f=a.getDaysInMonth(),g=a.getFirstDateOfMonth(),h=g.getDay()-this.startDay;0>h&&(h+=7),f+=h;var i=a.add("mo",-1),j=i.getDaysInMonth()-h,k=this.cells.elements,l=this.textNodes,m=new Date(i.getFullYear(),i.getMonth(),j).clearTime(),n=(new Date).clearTime().getTime(),o=a.clearTime(!0).getTime(),p=this.minDate?this.minDate.clearTime(!0):Number.NEGATIVE_INFINITY,q=this.maxDate?this.maxDate.clearTime(!0):Number.POSITIVE_INFINITY,r=this.disabledDatesRE,s=this.disabledDatesText,t=this.disabledDays?this.disabledDays.join(""):!1,u=this.disabledDaysText,v=this.format;if(this.showToday){var w=(new Date).clearTime(),x=p>w||w>q||r&&v&&r.test(w.dateFormat(v))||t&&-1!=t.indexOf(w.getDay());this.disabled||(this.todayBtn.setDisabled(x),this.todayKeyListener[x?"disable":"enable"]())}for(var y=function(a,b){b.title="";var c=m.getTime();if(b.firstChild.dateValue=c,c==n&&(b.className+=" x-date-today",b.title=a.todayText),c==o&&(b.className+=" x-date-selected",d&&Ext.fly(b.firstChild).focus(50)),p>c)return b.className=" x-date-disabled",void(b.title=a.minText);if(c>q)return b.className=" x-date-disabled",void(b.title=a.maxText);if(t&&-1!=t.indexOf(m.getDay())&&(b.title=u,b.className=" x-date-disabled"),r&&v){var e=m.dateFormat(v);r.test(e)&&(b.title=s.replace("%0",e),b.className=" x-date-disabled")}},z=0;h>z;z++)l[z].innerHTML=++j,m.setDate(m.getDate()+1),k[z].className="x-date-prevday",y(this,k[z]);for(;f>z;z++){var A=z-h+1;l[z].innerHTML=A,m.setDate(m.getDate()+1),k[z].className="x-date-active",y(this,k[z])}for(var B=0;42>z;z++)l[z].innerHTML=++B,m.setDate(m.getDate()+1),k[z].className="x-date-nextday",y(this,k[z]);if(this.mbtn.setText(this.monthNames[a.getMonth()]+" "+a.getFullYear()),!this.internalRender){var C=this.el.dom.firstChild,D=C.offsetWidth;this.el.setWidth(D+this.el.getBorderWidth("lr")),Ext.fly(C).setWidth(D),this.internalRender=!0,Ext.isOpera&&!this.secondPass&&(C.rows[0].cells[1].style.width=D-(C.rows[0].cells[0].offsetWidth+C.rows[0].cells[2].offsetWidth)+"px",this.secondPass=!0,this.update.defer(10,this,[a]))}}},beforeDestroy:function(){this.rendered&&(Ext.destroy(this.keyNav,this.monthPicker,this.eventEl,this.mbtn,this.nextRepeater,this.prevRepeater,this.cells.el,this.todayBtn),delete this.textNodes,delete this.cells.elements)}}),Ext.reg("datepicker",Ext.DatePicker),Ext.LoadMask=function(a,b){if(this.el=Ext.get(a),Ext.apply(this,b),this.store)this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad}),this.removeMask=Ext.value(this.removeMask,!1);else{var c=this.el.getUpdater();c.showLoadIndicator=!1,c.on({scope:this,beforeupdate:this.onBeforeLoad,update:this.onLoad,failure:this.onLoad}),this.removeMask=Ext.value(this.removeMask,!0)}},Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:!1,disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},onLoad:function(){this.el.unmask(this.removeMask)},onBeforeLoad:function(){this.disabled||this.el.mask(this.msg,this.msgCls)},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){if(this.store)this.store.un("beforeload",this.onBeforeLoad,this),this.store.un("load",this.onLoad,this),this.store.un("exception",this.onLoad,this);else{var a=this.el.getUpdater();a.un("beforeupdate",this.onBeforeLoad,this),a.un("update",this.onLoad,this),a.un("failure",this.onLoad,this)}}},Ext.Slider=Ext.extend(Ext.BoxComponent,{vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,initComponent:function(){Ext.isDefined(this.value)||(this.value=this.minValue),Ext.Slider.superclass.initComponent.call(this),this.keyIncrement=Math.max(this.increment,this.keyIncrement),this.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend"),this.vertical&&Ext.apply(this,Ext.Slider.Vertical)},onRender:function(){this.autoEl={cls:"x-slider "+(this.vertical?"x-slider-vert":"x-slider-horz"),cn:{cls:"x-slider-end",cn:{cls:"x-slider-inner",cn:[{cls:"x-slider-thumb"},{tag:"a",cls:"x-slider-focus",href:"#",tabIndex:"-1",hidefocus:"on"}]}}},Ext.Slider.superclass.onRender.apply(this,arguments),this.endEl=this.el.first(),this.innerEl=this.endEl.first(),this.thumb=this.innerEl.first(),this.halfThumb=(this.vertical?this.thumb.getHeight():this.thumb.getWidth())/2,this.focusEl=this.thumb.next(),this.initEvents()},initEvents:function(){this.thumb.addClassOnOver("x-slider-thumb-over"),this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown}),this.focusEl.swallowEvent("click",!0),this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeDragStart.createDelegate(this),onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300}),this.tracker.initEl(this.thumb)},onMouseDown:function(a){if(!this.disabled){if(this.clickToChange&&a.target!=this.thumb.dom){var b=this.innerEl.translatePoints(a.getXY());this.onClickChange(b)}this.focus()}},onClickChange:function(a){a.top>this.clickRange[0]&&a.top<this.clickRange[1]&&this.setValue(Ext.util.Format.round(this.reverseValue(a.left),this.decimalPrecision),void 0,!0)},onKeyDown:function(a){if(this.disabled)return void a.preventDefault();var b=a.getKey();switch(b){case a.UP:case a.RIGHT:a.stopEvent(),a.ctrlKey?this.setValue(this.maxValue,void 0,!0):this.setValue(this.value+this.keyIncrement,void 0,!0);break;case a.DOWN:case a.LEFT:a.stopEvent(),a.ctrlKey?this.setValue(this.minValue,void 0,!0):this.setValue(this.value-this.keyIncrement,void 0,!0);break;default:a.preventDefault()}},doSnap:function(a){if(!this.increment||!a)return a;var b=a,c=this.increment,d=a%c;return 0!=d&&(b-=d,2*d>c?b+=c:-c>2*d&&(b-=c)),b.constrain(this.minValue,this.maxValue)},afterRender:function(){if(Ext.Slider.superclass.afterRender.apply(this,arguments),void 0!==this.value){var a=this.normalizeValue(this.value);a!==this.value?(delete this.value,this.setValue(a,!1)):this.moveThumb(this.translateValue(a),!1)}},getRatio:function(){var a=this.innerEl.getWidth(),b=this.maxValue-this.minValue;return 0==b?a:a/b},normalizeValue:function(a){return a=this.doSnap(a),a=Ext.util.Format.round(a,this.decimalPrecision),a=a.constrain(this.minValue,this.maxValue)},setValue:function(a,b,c){a=this.normalizeValue(a),a!==this.value&&this.fireEvent("beforechange",this,a,this.value)!==!1&&(this.value=a,this.moveThumb(this.translateValue(a),b!==!1),this.fireEvent("change",this,a),c&&this.fireEvent("changecomplete",this,a))},translateValue:function(a){var b=this.getRatio();return a*b-this.minValue*b-this.halfThumb},reverseValue:function(a){var b=this.getRatio();return(a+this.halfThumb+this.minValue*b)/b},moveThumb:function(a,b){b&&this.animate!==!1?this.thumb.shift({left:a,stopFx:!0,duration:.35}):this.thumb.setLeft(a)},focus:function(){this.focusEl.focus(10)},onBeforeDragStart:function(){return!this.disabled},onDragStart:function(a){this.thumb.addClass("x-slider-thumb-drag"),this.dragging=!0,this.dragStartValue=this.value,this.fireEvent("dragstart",this,a)},onDrag:function(a){var b=this.innerEl.translatePoints(this.tracker.getXY());this.setValue(Ext.util.Format.round(this.reverseValue(b.left),this.decimalPrecision),!1),this.fireEvent("drag",this,a)},onDragEnd:function(a){this.thumb.removeClass("x-slider-thumb-drag"),this.dragging=!1,this.fireEvent("dragend",this,a),this.dragStartValue!=this.value&&this.fireEvent("changecomplete",this,this.value)},onResize:function(a){this.innerEl.setWidth(a-(this.el.getPadding("l")+this.endEl.getPadding("r"))),this.syncThumb()},onDisable:function(){if(Ext.Slider.superclass.onDisable.call(this),this.thumb.addClass(this.disabledClass),Ext.isIE){var a=this.thumb.getXY();this.thumb.hide(),this.innerEl.addClass(this.disabledClass).dom.disabled=!0,this.thumbHolder||(this.thumbHolder=this.endEl.createChild({cls:"x-slider-thumb "+this.disabledClass})),this.thumbHolder.show().setXY(a)}},onEnable:function(){Ext.Slider.superclass.onEnable.call(this),this.thumb.removeClass(this.disabledClass),Ext.isIE&&(this.innerEl.removeClass(this.disabledClass).dom.disabled=!1,this.thumbHolder&&this.thumbHolder.hide(),this.thumb.show(),this.syncThumb())},syncThumb:function(){this.rendered&&this.moveThumb(this.translateValue(this.value))},getValue:function(){return this.value},beforeDestroy:function(){Ext.destroyMembers(this,"endEl","innerEl","thumb","halfThumb","focusEl","tracker","thumbHolder"),Ext.Slider.superclass.beforeDestroy.call(this)}}),Ext.reg("slider",Ext.Slider),Ext.Slider.Vertical={onResize:function(a,b){this.innerEl.setHeight(b-(this.el.getPadding("t")+this.endEl.getPadding("b"))),this.syncThumb()},getRatio:function(){var a=this.innerEl.getHeight(),b=this.maxValue-this.minValue;return a/b},moveThumb:function(a,b){b&&this.animate!==!1?this.thumb.shift({bottom:a,stopFx:!0,duration:.35}):this.thumb.setBottom(a)},onDrag:function(a){var b=this.innerEl.translatePoints(this.tracker.getXY()),c=this.innerEl.getHeight()-b.top;this.setValue(this.minValue+Ext.util.Format.round(c/this.getRatio(),this.decimalPrecision),!1),this.fireEvent("drag",this,a)},onClickChange:function(a){if(a.left>this.clickRange[0]&&a.left<this.clickRange[1]){var b=this.innerEl.getHeight()-a.top;this.setValue(this.minValue+Ext.util.Format.round(b/this.getRatio(),this.decimalPrecision),void 0,!0)}}},Ext.ProgressBar=Ext.extend(Ext.BoxComponent,{baseCls:"x-progress",animate:!1,waitTimer:null,initComponent:function(){Ext.ProgressBar.superclass.initComponent.call(this),this.addEvents("update")},onRender:function(a,b){var c=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>");this.el=b?c.insertBefore(b,{cls:this.baseCls},!0):c.append(a,{cls:this.baseCls},!0),this.id&&(this.el.dom.id=this.id);var d=this.el.dom.firstChild;if(this.progressBar=Ext.get(d.firstChild),this.textEl)this.textEl=Ext.get(this.textEl),delete this.textTopEl;else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);var e=Ext.get(d.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden"),this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,e.dom.firstChild]),this.textEl.setWidth(d.offsetWidth)}this.progressBar.setHeight(d.offsetHeight)},afterRender:function(){Ext.ProgressBar.superclass.afterRender.call(this),this.value?this.updateProgress(this.value,this.text):this.updateText(this.text)},updateProgress:function(a,b,c){if(this.value=a||0,b&&this.updateText(b),this.rendered){var d=Math.floor(a*this.el.dom.firstChild.offsetWidth);this.progressBar.setWidth(d,c===!0||c!==!1&&this.animate),this.textTopEl&&this.textTopEl.removeClass("x-hidden").setWidth(d)}return this.fireEvent("update",this,a,b),this},wait:function(a){if(!this.waitTimer){var b=this;a=a||{},this.updateText(a.text),this.waitTimer=Ext.TaskMgr.start({run:function(b){var c=a.increment||10;b-=1,this.updateProgress(((b+c)%c+1)*(100/c)*.01,null,a.animate)},interval:a.interval||1e3,duration:a.duration,onStop:function(){a.fn&&a.fn.apply(a.scope||this),this.reset()},scope:b})}return this},isWaiting:function(){return null!==this.waitTimer},updateText:function(a){return this.text=a||"&#160;",this.rendered&&this.textEl.update(this.text),this},syncProgressBar:function(){return this.value&&this.updateProgress(this.value,this.text),this},setSize:function(a,b){if(Ext.ProgressBar.superclass.setSize.call(this,a,b),this.textTopEl){var c=this.el.dom.firstChild;this.textEl.setSize(c.offsetWidth,c.offsetHeight)}return this.syncProgressBar(),this},reset:function(a){return this.updateProgress(0),this.textTopEl&&this.textTopEl.addClass("x-hidden"),this.waitTimer&&(this.waitTimer.onStop=null,Ext.TaskMgr.stop(this.waitTimer),this.waitTimer=null),a===!0&&this.hide(),this},onDestroy:function(){this.rendered&&(this.textEl.isComposite&&this.textEl.clear(),Ext.destroyMembers(this,"textEl","progressBar","textTopEl")),Ext.ProgressBar.superclass.onDestroy.call(this)}}),Ext.reg("progress",Ext.ProgressBar),function(){var a=Ext.EventManager,b=Ext.lib.Dom;Ext.dd.DragDrop=function(a,b,c){a&&this.init(a,b,c)},Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(){},startDrag:function(){},b4Drag:function(){},onDrag:function(){},onDragEnter:function(){},b4DragOver:function(){},onDragOver:function(){},b4DragOut:function(){},onDragOut:function(){},b4DragDrop:function(){},onDragDrop:function(){},onInvalidDrop:function(){},b4EndDrag:function(){},endDrag:function(){},b4MouseDown:function(){},onMouseDown:function(){},onMouseUp:function(){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(a,b){Ext.isNumber(b)&&(b={left:b,right:b,top:b,bottom:b}),b=b||this.defaultPadding;var c,d=Ext.get(this.getEl()).getBox(),e=Ext.get(a),f=e.getScroll(),g=e.dom;if(g==document.body)c={x:f.left,y:f.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()};else{var h=e.getXY();c={x:h[0],y:h[1],width:g.clientWidth,height:g.clientHeight}}var i=d.y-c.y,j=d.x-c.x;this.resetConstraints(),this.setXConstraint(j-(b.left||0),c.width-j-d.width-(b.right||0),this.xTickSize),this.setYConstraint(i-(b.top||0),c.height-i-d.height-(b.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(b,c,d){this.initTarget(b,c,d),a.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{},this.DDM=Ext.dd.DDM,this.groups={},"string"!=typeof a&&(a=Ext.id(a)),this.id=a,this.addToGroup(b?b:"default"),this.handleElId=a,this.setDragElId(a),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=this.config.isTarget!==!1,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=this.config.primaryButtonOnly!==!1},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(a,b,c,d){this.padding=b||0===b?c||0===c?[a,b,c,d]:[a,b,a,b]:[a,a,a,a]},setInitPosition:function(a,c){var d=this.getEl();if(this.DDM.verifyEl(d)){var e=a||0,f=c||0,g=b.getXY(d);this.initPageX=g[0]-e,this.initPageY=g[1]-f,this.lastPageX=g[0],this.lastPageY=g[1],this.setStartPosition(g)}},setStartPosition:function(a){var c=a||b.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=c[0],this.startPageY=c[1]},addToGroup:function(a){this.groups[a]=!0,this.DDM.regDragDrop(this,a)},removeFromGroup:function(a){this.groups[a]&&delete this.groups[a],this.DDM.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){"string"!=typeof a&&(a=Ext.id(a)),this.handleElId=a,this.DDM.regHandle(this.id,a)},setOuterHandleElId:function(b){"string"!=typeof b&&(b=Ext.id(b)),a.on(b,"mousedown",this.handleMouseDown,this),this.setHandleElId(b),this.hasOuterHandles=!0},unreg:function(){a.un(this.id,"mousedown",this.handleMouseDown),this._domRef=null,this.DDM._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDM.isLocked()||this.locked},handleMouseDown:function(a){if(!(this.primaryButtonOnly&&0!=a.button||this.isLocked())){this.DDM.refreshCache(this.groups);var b=new Ext.lib.Point(Ext.lib.Event.getPageX(a),Ext.lib.Event.getPageY(a));(this.hasOuterHandles||this.DDM.isOverTarget(b,this))&&this.clickValidator(a)&&(this.setStartPosition(),this.b4MouseDown(a),this.onMouseDown(a),this.DDM.handleMouseDown(a,this),this.DDM.stopEvent(a))}},clickValidator:function(a){var b=a.getTarget();return this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDM.handleWasClicked(b,this.id))},addInvalidHandleType:function(a){var b=a.toUpperCase();this.invalidHandleTypes[b]=b},addInvalidHandleId:function(a){"string"!=typeof a&&(a=Ext.id(a)),this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){"string"!=typeof a&&(a=Ext.id(a)),delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=0,c=this.invalidHandleClasses.length;c>b;++b)this.invalidHandleClasses[b]==a&&delete this.invalidHandleClasses[b]},isValidHandleChild:function(a){var b,c=!0;try{b=a.nodeName.toUpperCase()}catch(d){b=a.nodeName}c=c&&!this.invalidHandleTypes[b],c=c&&!this.invalidHandleIds[a.id];for(var e=0,f=this.invalidHandleClasses.length;c&&f>e;++e)c=!Ext.fly(a).hasClass(this.invalidHandleClasses[e]);return c},setXTicks:function(a,b){this.xTicks=[],this.xTickSize=b;
    for(var c={},d=this.initPageX;d>=this.minX;d-=b)c[d]||(this.xTicks[this.xTicks.length]=d,c[d]=!0);for(d=this.initPageX;d<=this.maxX;d+=b)c[d]||(this.xTicks[this.xTicks.length]=d,c[d]=!0);this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(a,b){this.yTicks=[],this.yTickSize=b;for(var c={},d=this.initPageY;d>=this.minY;d-=b)c[d]||(this.yTicks[this.yTicks.length]=d,c[d]=!0);for(d=this.initPageY;d<=this.maxY;d+=b)c[d]||(this.yTicks[this.yTicks.length]=d,c[d]=!0);this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(a,b,c){this.leftConstraint=a,this.rightConstraint=b,this.minX=this.initPageX-a,this.maxX=this.initPageX+b,c&&this.setXTicks(this.initPageX,c),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(a,b,c){this.topConstraint=a,this.bottomConstraint=b,this.minY=this.initPageY-a,this.maxY=this.initPageY+b,c&&this.setYTicks(this.initPageY,c),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var a=this.maintainOffset?this.lastPageX-this.initPageX:0,b=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(a,b){if(b){if(b[0]>=a)return b[0];for(var c=0,d=b.length;d>c;++c){var e=c+1;if(b[e]&&b[e]>=a){var f=a-b[c],g=b[e]-a;return g>f?b[c]:b[e]}}return b[b.length-1]}return a},toString:function(){return"DragDrop "+this.id}}}(),Ext.dd.DragDropMgr||(Ext.dd.DragDropMgr=function(){var a=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(a,b){for(var c in this.ids)for(var d in this.ids[c]){var e=this.ids[c][d];this.isTypeOfDD(e)&&e[a].apply(e,b)}},_onLoad:function(){this.init(),a.on(document,"mouseup",this.handleMouseUp,this,!0),a.on(document,"mousemove",this.handleMouseMove,this,!0),a.on(window,"unload",this._onUnload,this,!0),a.on(window,"resize",this._onResize,this,!0)},_onResize:function(){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,b){this.initialized||this.init(),this.ids[b]||(this.ids[b]={}),this.ids[b][a.id]=a},removeDDFromGroup:function(a,b){this.ids[b]||(this.ids[b]={});var c=this.ids[b];c&&c[a.id]&&delete c[a.id]},_remove:function(a){for(var b in a.groups)b&&this.ids[b]&&this.ids[b][a.id]&&delete this.ids[b][a.id];delete this.handleIds[a.id]},regHandle:function(a,b){this.handleIds[a]||(this.handleIds[a]={}),this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?!0:!1},getRelated:function(a,b){var c=[];for(var d in a.groups)for(var e in this.ids[d]){var f=this.ids[d][e];this.isTypeOfDD(f)&&(!b||f.isTarget)&&(c[c.length]=f)}return c},isLegalTarget:function(a,b){for(var c=this.getRelated(a,!0),d=0,e=c.length;e>d;++d)if(c[d].id==b.id)return!0;return!1},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(a){for(var b in this.ids)if(this.ids[b][a])return this.ids[b][a];return null},handleMouseDown:function(a,b){Ext.QuickTips&&Ext.QuickTips.disable(),this.dragCurrent&&this.handleMouseUp(a),this.currentTarget=a.getTarget(),this.dragCurrent=b;var c=b.getEl();this.startX=a.getPageX(),this.startY=a.getPageY(),this.deltaX=this.startX-c.offsetLeft,this.deltaY=this.startY-c.offsetTop,this.dragThreshMet=!1,this.clickTimeout=setTimeout(function(){var a=Ext.dd.DDM;a.startDrag(a.startX,a.startY)},this.clickTimeThresh)},startDrag:function(a,b){clearTimeout(this.clickTimeout),this.dragCurrent&&(this.dragCurrent.b4StartDrag(a,b),this.dragCurrent.startDrag(a,b)),this.dragThreshMet=!0},handleMouseUp:function(a){Ext.QuickTips&&Ext.QuickTips.enable(),this.dragCurrent&&(clearTimeout(this.clickTimeout),this.dragThreshMet&&this.fireEvents(a,!0),this.stopDrag(a),this.stopEvent(a))},stopEvent:function(a){this.stopPropagation&&a.stopPropagation(),this.preventDefault&&a.preventDefault()},stopDrag:function(a){this.dragCurrent&&(this.dragThreshMet&&(this.dragCurrent.b4EndDrag(a),this.dragCurrent.endDrag(a)),this.dragCurrent.onMouseUp(a)),this.dragCurrent=null,this.dragOvers={}},handleMouseMove:function(a){if(!this.dragCurrent)return!0;if(Ext.isIE&&0!==a.button&&1!==a.button&&2!==a.button)return this.stopEvent(a),this.handleMouseUp(a);if(!this.dragThreshMet){var b=Math.abs(this.startX-a.getPageX()),c=Math.abs(this.startY-a.getPageY());(b>this.clickPixelThresh||c>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY)}return this.dragThreshMet&&(this.dragCurrent.b4Drag(a),this.dragCurrent.onDrag(a),this.dragCurrent.moveOnly||this.fireEvents(a,!1)),this.stopEvent(a),!0},fireEvents:function(a,b){var c=this.dragCurrent;if(c&&!c.isLocked()){var d=a.getPoint(),e=[],f=[],g=[],h=[],i=[];for(var j in this.dragOvers){var k=this.dragOvers[j];this.isTypeOfDD(k)&&(this.isOverTarget(d,k,this.mode)||f.push(k),e[j]=!0,delete this.dragOvers[j])}for(var l in c.groups)if("string"==typeof l)for(j in this.ids[l]){var m=this.ids[l][j];this.isTypeOfDD(m)&&(!m.isTarget||m.isLocked()||m==c&&c.ignoreSelf!==!1||this.isOverTarget(d,m,this.mode)&&(b?h.push(m):(e[m.id]?g.push(m):i.push(m),this.dragOvers[m.id]=m)))}if(this.mode)f.length&&(c.b4DragOut(a,f),c.onDragOut(a,f)),i.length&&c.onDragEnter(a,i),g.length&&(c.b4DragOver(a,g),c.onDragOver(a,g)),h.length&&(c.b4DragDrop(a,h),c.onDragDrop(a,h));else{var n=0;for(j=0,n=f.length;n>j;++j)c.b4DragOut(a,f[j].id),c.onDragOut(a,f[j].id);for(j=0,n=i.length;n>j;++j)c.onDragEnter(a,i[j].id);for(j=0,n=g.length;n>j;++j)c.b4DragOver(a,g[j].id),c.onDragOver(a,g[j].id);for(j=0,n=h.length;n>j;++j)c.b4DragDrop(a,h[j].id),c.onDragDrop(a,h[j].id)}b&&!h.length&&c.onInvalidDrop(a)}},getBestMatch:function(a){var b=null,c=a.length;if(1==c)b=a[0];else for(var d=0;c>d;++d){var e=a[d];if(e.cursorIsOver){b=e;break}(!b||b.overlap.getArea()<e.overlap.getArea())&&(b=e)}return b},refreshCache:function(a){for(var b in a)if("string"==typeof b)for(var c in this.ids[b]){var d=this.ids[b][c];if(this.isTypeOfDD(d)){var e=this.getLocation(d);e?this.locationCache[d.id]=e:delete this.locationCache[d.id]}}},verifyEl:function(a){if(a){var b;if(Ext.isIE)try{b=a.offsetParent}catch(c){}else b=a.offsetParent;if(b)return!0}return!1},getLocation:function(a){if(!this.isTypeOfDD(a))return null;var b,c,d,e,f,g,h,i,j,k=a.getEl();try{b=Ext.lib.Dom.getXY(k)}catch(l){}return b?(c=b[0],d=c+k.offsetWidth,e=b[1],f=e+k.offsetHeight,g=e-a.padding[0],h=d+a.padding[1],i=f+a.padding[2],j=c-a.padding[3],new Ext.lib.Region(g,h,i,j)):null},isOverTarget:function(a,b,c){var d=this.locationCache[b.id];if(d&&this.useCache||(d=this.getLocation(b),this.locationCache[b.id]=d),!d)return!1;b.cursorIsOver=d.contains(a);var e=this.dragCurrent;if(!e||!e.getTargetCoord||!c&&!e.constrainX&&!e.constrainY)return b.cursorIsOver;b.overlap=null;var f=e.getTargetCoord(a.x,a.y),g=e.getDragEl(),h=new Ext.lib.Region(f.y,f.x+g.offsetWidth,f.y+g.offsetHeight,f.x),i=h.intersect(d);return i?(b.overlap=i,c?!0:b.cursorIsOver):!1},_onUnload:function(){Ext.dd.DragDropMgr.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]);for(var a in this.elementCache)delete this.elementCache[a];this.elementCache={},this.ids={}},elementCache:{},getElWrapper:function(a){var b=this.elementCache[a];return b&&b.el||(b=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a))),b},getElement:function(a){return Ext.getDom(a)},getCss:function(a){var b=Ext.getDom(a);return b?b.style:null},ElementWrapper:function(a){this.el=a||null,this.id=this.el&&a.id,this.css=this.el&&a.style},getPosX:function(a){return Ext.lib.Dom.getX(a)},getPosY:function(a){return Ext.lib.Dom.getY(a)},swapNode:function(a,b){if(a.swapNode)a.swapNode(b);else{var c=b.parentNode,d=b.nextSibling;d==a?c.insertBefore(a,b):b==a.nextSibling?c.insertBefore(b,a):(a.parentNode.replaceChild(b,a),c.insertBefore(a,d))}},getScroll:function(){var a,b,c=document.documentElement,d=document.body;return c&&(c.scrollTop||c.scrollLeft)?(a=c.scrollTop,b=c.scrollLeft):d&&(a=d.scrollTop,b=d.scrollLeft),{top:a,left:b}},getStyle:function(a,b){return Ext.fly(a).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,b){var c=Ext.lib.Dom.getXY(b);Ext.lib.Dom.setXY(a,c)},numericSort:function(a,b){return a-b},_timeoutCount:0,_addListeners:function(){var a=Ext.dd.DDM;Ext.lib.Event&&document?a._onLoad():a._timeoutCount>2e3||(setTimeout(a._addListeners,10),document&&document.body&&(a._timeoutCount+=1))},handleWasClicked:function(a,b){if(this.isHandle(b,a.id))return!0;for(var c=a.parentNode;c;){if(this.isHandle(b,c.id))return!0;c=c.parentNode}return!1}}}(),Ext.dd.DDM=Ext.dd.DragDropMgr,Ext.dd.DDM._addListeners()),Ext.dd.DD=function(a,b,c){a&&this.init(a,b,c)},Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:!0,autoOffset:function(a,b){var c=a-this.startPageX,d=b-this.startPageY;this.setDelta(c,d)},setDelta:function(a,b){this.deltaX=a,this.deltaY=b},setDragElPos:function(a,b){var c=this.getDragEl();this.alignElWithMouse(c,a,b)},alignElWithMouse:function(a,b,c){var d=this.getTargetCoord(b,c),e=a.dom?a:Ext.fly(a,"_dd");if(this.deltaSetXY)e.setLeftTop(d.x+this.deltaSetXY[0],d.y+this.deltaSetXY[1]);else{var f=[d.x,d.y];e.setXY(f);var g=e.getLeft(!0),h=e.getTop(!0);this.deltaSetXY=[g-d.x,h-d.y]}return this.cachePosition(d.x,d.y),this.autoScroll(d.x,d.y,a.offsetHeight,a.offsetWidth),d},cachePosition:function(a,b){if(a)this.lastPageX=a,this.lastPageY=b;else{var c=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=c[0],this.lastPageY=c[1]}},autoScroll:function(a,b,c,d){if(this.scroll){var e=Ext.lib.Dom.getViewHeight(),f=Ext.lib.Dom.getViewWidth(),g=this.DDM.getScrollTop(),h=this.DDM.getScrollLeft(),i=c+b,j=d+a,k=e+g-b-this.deltaY,l=f+h-a-this.deltaX,m=40,n=document.all?80:30;i>e&&m>k&&window.scrollTo(h,g+n),g>b&&g>0&&m>b-g&&window.scrollTo(h,g-n),j>f&&m>l&&window.scrollTo(h+n,g),h>a&&h>0&&m>a-h&&window.scrollTo(h-n,g)}},getTargetCoord:function(a,b){var c=a-this.deltaX,d=b-this.deltaY;return this.constrainX&&(c<this.minX&&(c=this.minX),c>this.maxX&&(c=this.maxX)),this.constrainY&&(d<this.minY&&(d=this.minY),d>this.maxY&&(d=this.maxY)),c=this.getTick(c,this.xTicks),d=this.getTick(d,this.yTicks),{x:c,y:d}},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this),this.scroll=this.config.scroll!==!1},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return"DD "+this.id}}),Ext.dd.DDProxy=function(a,b,c){a&&(this.init(a,b,c),this.initFrame())},Ext.dd.DDProxy.dragElId="ygddfdiv",Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:!0,centerFrame:!1,createFrame:function(){var a=this,b=document.body;if(!b||!b.firstChild)return void setTimeout(function(){a.createFrame()},50);var c=this.getDragEl();if(!c){c=document.createElement("div"),c.id=this.dragElId;var d=c.style;d.position="absolute",d.visibility="hidden",d.cursor="move",d.border="2px solid #aaa",d.zIndex=999,b.insertBefore(c,b.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this),this.resizeFrame=this.config.resizeFrame!==!1,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(a,b){var c=(this.getEl(),this.getDragEl()),d=c.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(d.width,10)/2),Math.round(parseInt(d.height,10)/2)),this.setDragElPos(a,b),Ext.fly(c).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c),this.setDragElPos(b,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(){Ext.fly(this.getDragEl()).hide()},endDrag:function(){var a=this.getEl(),b=this.getDragEl();b.style.visibility="",this.beforeMove(),a.style.visibility="hidden",Ext.dd.DDM.moveToEl(a,b),b.style.visibility="hidden",a.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.dd.DDTarget=function(a,b,c){a&&this.initTarget(a,b,c)},Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}}),Ext.dd.DragTracker=Ext.extend(Ext.util.Observable,{active:!1,tolerance:5,autoStart:!1,constructor:function(a){Ext.apply(this,a),this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag"),this.dragRegion=new Ext.lib.Region(0,0,0,0),this.el&&this.initEl(this.el),Ext.dd.DragTracker.superclass.constructor.call(this,a)},initEl:function(a){this.el=Ext.get(a),a.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:void 0)},destroy:function(){this.el.un("mousedown",this.onMouseDown,this)},onMouseDown:function(a,b){if(this.fireEvent("mousedown",this,a)!==!1&&this.onBeforeStart(a)!==!1){this.startXY=this.lastXY=a.getXY(),this.dragTarget=this.delegate?b:this.el.dom,this.preventDefault!==!1&&a.preventDefault();var c=Ext.getDoc();c.on("mouseup",this.onMouseUp,this),c.on("mousemove",this.onMouseMove,this),c.on("selectstart",this.stopSelect,this),this.autoStart&&(this.timer=this.triggerStart.defer(this.autoStart===!0?1e3:this.autoStart,this))}},onMouseMove:function(a){if(this.active&&Ext.isIE&&!a.browserEvent.button)return a.preventDefault(),void this.onMouseUp(a);a.preventDefault();var b=a.getXY(),c=this.startXY;if(this.lastXY=b,!this.active){if(!(Math.abs(c[0]-b[0])>this.tolerance||Math.abs(c[1]-b[1])>this.tolerance))return;this.triggerStart()}this.fireEvent("mousemove",this,a),this.onDrag(a),this.fireEvent("drag",this,a)},onMouseUp:function(a){var b=Ext.getDoc();b.un("mousemove",this.onMouseMove,this),b.un("mouseup",this.onMouseUp,this),b.un("selectstart",this.stopSelect,this),a.preventDefault(),this.clearStart();var c=this.active;this.active=!1,delete this.elRegion,this.fireEvent("mouseup",this,a),c&&(this.onEnd(a),this.fireEvent("dragend",this,a))},triggerStart:function(){this.clearStart(),this.active=!0,this.onStart(this.startXY),this.fireEvent("dragstart",this,this.startXY)},clearStart:function(){this.timer&&(clearTimeout(this.timer),delete this.timer)},stopSelect:function(a){return a.stopEvent(),!1},onBeforeStart:function(){},onStart:function(){},onDrag:function(){},onEnd:function(){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getXY:function(a){return a?this.constrainModes[a].call(this,this.lastXY):this.lastXY},getOffset:function(a){var b=this.getXY(a),c=this.startXY;return[c[0]-b[0],c[1]-b[1]]},constrainModes:{point:function(a){this.elRegion||(this.elRegion=this.getDragCt().getRegion());var b=this.dragRegion;return b.left=a[0],b.top=a[1],b.right=a[0],b.bottom=a[1],b.constrainTo(this.elRegion),[b.left,b.top]}}}),Ext.dd.ScrollManager=function(){var a=Ext.dd.DragDropMgr,b={},c=null,d={},e=function(){c=null,h()},f=function(){a.dragCurrent&&a.refreshCache(a.dragCurrent.groups)},g=function(){if(a.dragCurrent){var b=Ext.dd.ScrollManager,c=d.el.ddScrollConfig?d.el.ddScrollConfig.increment:b.increment;b.animate?d.el.scroll(d.dir,c,!0,b.animDuration,f):d.el.scroll(d.dir,c)&&f()}},h=function(){d.id&&clearInterval(d.id),d.id=0,d.el=null,d.dir=""},i=function(a,b){h(),d.el=a,d.dir=b;var c=a.ddScrollConfig&&a.ddScrollConfig.frequency?a.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency;d.id=setInterval(g,c)},j=function(e,f){if(!f&&a.dragCurrent){var g=Ext.dd.ScrollManager;c&&c==a.dragCurrent||(c=a.dragCurrent,g.refreshCache());var j=Ext.lib.Event.getXY(e),k=new Ext.lib.Point(j[0],j[1]);for(var l in b){var m=b[l],n=m._region,o=m.ddScrollConfig?m.ddScrollConfig:g;if(n&&n.contains(k)&&m.isScrollable()){if(n.bottom-k.y<=o.vthresh)return void(d.el!=m&&i(m,"down"));if(n.right-k.x<=o.hthresh)return void(d.el!=m&&i(m,"left"));if(k.y-n.top<=o.vthresh)return void(d.el!=m&&i(m,"up"));if(k.x-n.left<=o.hthresh)return void(d.el!=m&&i(m,"right"))}}h()}};return a.fireEvents=a.fireEvents.createSequence(j,a),a.stopDrag=a.stopDrag.createSequence(e,a),{register:function(a){if(Ext.isArray(a))for(var c=0,d=a.length;d>c;c++)this.register(a[c]);else a=Ext.get(a),b[a.id]=a},unregister:function(a){if(Ext.isArray(a))for(var c=0,d=a.length;d>c;c++)this.unregister(a[c]);else a=Ext.get(a),delete b[a.id]},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:.4,refreshCache:function(){for(var a in b)"object"==typeof b[a]&&(b[a]._region=b[a].getRegion())}}}(),Ext.dd.Registry=function(){var a={},b={},c=0,d=function(a,b){if("string"==typeof a)return a;var d=a.id;return d||b===!1||(d="extdd-"+ ++c,a.id=d),d};return{register:function(c,e){if(e=e||{},"string"==typeof c&&(c=document.getElementById(c)),e.ddel=c,a[d(c)]=e,e.isHandle!==!1&&(b[e.ddel.id]=e),e.handles)for(var f=e.handles,g=0,h=f.length;h>g;g++)b[d(f[g])]=e},unregister:function(c){var e=d(c,!1),f=a[e];if(f&&(delete a[e],f.handles))for(var g=f.handles,h=0,i=g.length;i>h;h++)delete b[d(g[h],!1)]},getHandle:function(a){return"string"!=typeof a&&(a=a.id),b[a]},getHandleFromEvent:function(a){var c=Ext.lib.Event.getTarget(a);return c?b[c.id]:null},getTarget:function(b){return"string"!=typeof b&&(b=b.id),a[b]},getTargetFromEvent:function(c){var d=Ext.lib.Event.getTarget(c);return d?a[d.id]||b[d.id]:null}}}(),Ext.dd.StatusProxy=function(a){Ext.apply(this,a),this.id=this.id||Ext.id(),this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!a||a.shadow!==!1}),this.ghost=Ext.get(this.el.dom.childNodes[1]),this.dropStatus=this.dropNotAllowed},Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed,this.dropStatus!=a&&(this.el.replaceClass(this.dropStatus,a),this.dropStatus=a)},reset:function(a){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed,this.dropStatus=this.dropNotAllowed,a&&this.ghost.update("")},update:function(a){"string"==typeof a?this.ghost.update(a):(this.ghost.update(""),a.style.margin="0",this.ghost.dom.appendChild(a));var b=this.ghost.dom.firstChild;b&&Ext.fly(b).setStyle("float","none")},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(a){this.el.hide(),a&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(a,b,c){this.callback=b,this.scope=c,a&&this.animRepair!==!1?(this.el.addClass("x-dd-drag-repair"),this.el.hideUnders(!0),this.anim=this.el.shift({duration:this.repairDuration||.5,easing:"easeOut",xy:a,stopFx:!0,callback:this.afterRepair,scope:this})):this.afterRepair()},afterRepair:function(){this.hide(!0),"function"==typeof this.callback&&this.callback.call(this.scope||this),this.callback=null,this.scope=null},destroy:function(){Ext.destroy(this.ghost,this.el)}},Ext.dd.DragSource=function(a,b){this.el=Ext.get(a),this.dragData||(this.dragData={}),Ext.apply(this,b),this.proxy||(this.proxy=new Ext.dd.StatusProxy),Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:this.scroll===!0}),this.dragging=!1},Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(){return this.dragData},onDragEnter:function(a,b){var c=Ext.dd.DragDropMgr.getDDById(b);if(this.cachedTarget=c,this.beforeDragEnter(c,a,b)!==!1){if(c.isNotifyTarget){var d=c.notifyEnter(this,a,this.dragData);this.proxy.setStatus(d)}else this.proxy.setStatus(this.dropAllowed);this.afterDragEnter&&this.afterDragEnter(c,a,b)}},beforeDragEnter:function(){return!0},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments),this.proxy.sync()},onDragOver:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(b);if(this.beforeDragOver(c,a,b)!==!1){if(c.isNotifyTarget){var d=c.notifyOver(this,a,this.dragData);this.proxy.setStatus(d)}this.afterDragOver&&this.afterDragOver(c,a,b)}},beforeDragOver:function(){return!0},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(b);this.beforeDragOut(c,a,b)!==!1&&(c.isNotifyTarget&&c.notifyOut(this,a,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(c,a,b)),this.cachedTarget=null},beforeDragOut:function(){return!0},onDragDrop:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(b);this.beforeDragDrop(c,a,b)!==!1&&(c.isNotifyTarget?c.notifyDrop(this,a,this.dragData)?this.onValidDrop(c,a,b):this.onInvalidDrop(c,a,b):this.onValidDrop(c,a,b),this.afterDragDrop&&this.afterDragDrop(c,a,b)),delete this.cachedTarget},beforeDragDrop:function(){return!0},onValidDrop:function(a,b,c){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(a,b,c)},getRepairXY:function(){return this.el.getXY()},onInvalidDrop:function(a,b,c){this.beforeInvalidDrop(a,b,c),this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,b,this.dragData),this.cacheTarget=null),this.proxy.repair(this.getRepairXY(b,this.dragData),this.afterRepair,this),this.afterInvalidDrop&&this.afterInvalidDrop(b,c)},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.hlColor||"c3daf9"),this.dragging=!1},beforeInvalidDrop:function(){return!0},handleMouseDown:function(a){if(!this.dragging){var b=this.getDragData(a);b&&this.onBeforeDrag(b,a)!==!1&&(this.dragData=b,this.proxy.stop(),Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments))}},onBeforeDrag:function(){return!0},onStartDrag:Ext.emptyFn,startDrag:function(a,b){this.proxy.reset(),this.dragging=!0,this.proxy.update(""),this.onInitDrag(a,b),this.proxy.show()},onInitDrag:function(a,b){var c=this.el.dom.cloneNode(!0);return c.id=Ext.id(),this.proxy.update(c),this.onStartDrag(a,b),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(){},autoOffset:function(){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DragSource.superclass.destroy.call(this),Ext.destroy(this.proxy)}}),Ext.dd.DropTarget=function(a,b){this.el=Ext.get(a),Ext.apply(this,b),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:!0})},Ext.extend(Ext.dd.DropTarget,Ext.dd.DDTarget,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(){return this.overClass&&this.el.addClass(this.overClass),this.dropAllowed},notifyOver:function(){return this.dropAllowed},notifyOut:function(){this.overClass&&this.el.removeClass(this.overClass)},notifyDrop:function(){return!1}}),Ext.dd.DragZone=function(a,b){Ext.dd.DragZone.superclass.constructor.call(this,a,b),this.containerScroll&&Ext.dd.ScrollManager.register(this.el)},Ext.extend(Ext.dd.DragZone,Ext.dd.DragSource,{getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(a,b),!0},afterRepair:function(){Ext.enableFx&&Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9"),this.dragging=!1},getRepairXY:function(){return Ext.Element.fly(this.dragData.ddel).getXY()}}),Ext.dd.DropZone=function(a,b){Ext.dd.DropZone.superclass.constructor.call(this,a,b)},Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(){},onNodeOver:function(){return this.dropAllowed},onNodeOut:function(){},onNodeDrop:function(){return!1},onContainerOver:function(){return this.dropNotAllowed},onContainerDrop:function(){return!1},notifyEnter:function(){return this.dropNotAllowed},notifyOver:function(a,b,c){var d=this.getTargetFromEvent(b);return d?(this.lastOverNode!=d&&(this.lastOverNode&&this.onNodeOut(this.lastOverNode,a,b,c),this.onNodeEnter(d,a,b,c),this.lastOverNode=d),this.onNodeOver(d,a,b,c)):(this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null),this.onContainerOver(a,b,c))},notifyOut:function(a,b,c){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null)},notifyDrop:function(a,b,c){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null);var d=this.getTargetFromEvent(b);return d?this.onNodeDrop(d,a,b,c):this.onContainerDrop(a,b,c)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}}),Ext.Element.addMethods({initDD:function(a,b,c){var d=new Ext.dd.DD(Ext.id(this.dom),a,b);return Ext.apply(d,c)},initDDProxy:function(a,b,c){var d=new Ext.dd.DDProxy(Ext.id(this.dom),a,b);return Ext.apply(d,c)},initDDTarget:function(a,b,c){var d=new Ext.dd.DDTarget(Ext.id(this.dom),a,b);return Ext.apply(d,c)}}),Ext.data.Api=function(){var a={};return{actions:{create:"create",read:"read",update:"update",destroy:"destroy"},restActions:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},isAction:function(a){return Ext.data.Api.actions[a]?!0:!1},getVerb:function(b){if(a[b])return a[b];for(var c in this.actions)if(this.actions[c]===b){a[b]=c;break}return void 0!==a[b]?a[b]:null},isValid:function(a){var b=[],c=this.actions;for(var d in a)d in c||b.push(d);return b.length?b:!0},hasUniqueUrl:function(a,b){var c=a.api[b]?a.api[b].url:null,d=!0;for(var e in a.api)if((d=e===b?!0:a.api[e].url!=c?!0:!1)==!1)break;return d},prepare:function(a){a.api||(a.api={});for(var b in this.actions){var c=this.actions[b];a.api[c]=a.api[c]||a.url||a.directFn,"string"==typeof a.api[c]&&(a.api[c]={url:a.api[c],method:a.restful===!0?Ext.data.Api.restActions[c]:void 0})}},restify:function(a){a.restful=!0;for(var b in this.restActions)a.api[this.actions[b]].method=this.restActions[b];a.onWrite=a.onWrite.createInterceptor(function(a,b,c,d){var e=(b.reader,new Ext.data.Response({action:a,raw:c}));switch(c.status){case 200:return!0;case 201:e.success=!0;break;case 204:e.success=!0,e.data=null;break;default:return!0}return e.success===!0?this.fireEvent("write",this,a,e.data,e,d,b.request.arg):this.fireEvent("exception",this,"remote",a,b,e,d),b.request.callback.call(b.request.scope,e.data,e,e.success),!1},a)}}}(),Ext.data.Response=function(a,b){Ext.apply(this,a,{raw:b})},Ext.data.Response.prototype={message:null,success:!1,status:null,root:null,raw:null,getMessage:function(){return this.message},getSuccess:function(){return this.success},getStatus:function(){return this.status},getRoot:function(){return this.root},getRawResponse:function(){return this.raw}},Ext.data.Api.Error=Ext.extend(Ext.Error,{constructor:function(a,b){this.arg=b,Ext.Error.call(this,a)},name:"Ext.data.Api"}),Ext.apply(Ext.data.Api.Error.prototype,{lang:{"action-url-undefined":"No fallback url defined for this action.  When defining a DataProxy api, please be sure to define an url for each CRUD action in Ext.data.Api.actions or define a default url in addition to your api-configuration.",invalid:"received an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions defined in Ext.data.Api.actions","invalid-url":"Invalid url.  Please review your proxy configuration.",execute:'Attempted to execute an unknown action.  Valid API actions are defined in Ext.data.Api.actions"'}}),Ext.data.SortTypes={none:function(a){return a},stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){return a?Ext.isDate(a)?a.getTime():Date.parse(String(a)):0},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}},Ext.data.Record=function(a,b){this.id=b||0===b?b:Ext.data.Record.id(this),this.data=a||{}},Ext.data.Record.create=function(a){var b=Ext.extend(Ext.data.Record,{}),c=b.prototype;c.fields=new Ext.util.MixedCollection(!1,function(a){return a.name});for(var d=0,e=a.length;e>d;d++)c.fields.add(new Ext.data.Field(a[d]));return b.getField=function(a){return c.fields.get(a)},b},Ext.data.Record.PREFIX="ext-record",Ext.data.Record.AUTO_ID=1,Ext.data.Record.EDIT="edit",Ext.data.Record.REJECT="reject",Ext.data.Record.COMMIT="commit",Ext.data.Record.id=function(a){return a.phantom=!0,[Ext.data.Record.PREFIX,"-",Ext.data.Record.AUTO_ID++].join("")},Ext.data.Record.prototype={dirty:!1,editing:!1,error:null,modified:null,phantom:!1,join:function(a){this.store=a},set:function(a,b){var c=Ext.isPrimitive(b)?String:Ext.encode;c(this.data[a])!=c(b)&&(this.dirty=!0,this.modified||(this.modified={}),void 0===this.modified[a]&&(this.modified[a]=this.data[a]),this.data[a]=b,this.editing||this.afterEdit())},afterEdit:function(){this.store&&this.store.afterEdit(this)},afterReject:function(){this.store&&this.store.afterReject(this)},afterCommit:function(){this.store&&this.store.afterCommit(this)},get:function(a){return this.data[a]},beginEdit:function(){this.editing=!0,this.modified=this.modified||{}},cancelEdit:function(){this.editing=!1,delete this.modified},endEdit:function(){this.editing=!1,this.dirty&&this.afterEdit()},reject:function(a){var b=this.modified;for(var c in b)"function"!=typeof b[c]&&(this.data[c]=b[c]);this.dirty=!1,delete this.modified,this.editing=!1,a!==!0&&this.afterReject()},commit:function(a){this.dirty=!1,delete this.modified,this.editing=!1,a!==!0&&this.afterCommit()},getChanges:function(){var a=this.modified,b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=this.data[c]);return b},hasError:function(){return null!==this.error},clearError:function(){this.error=null},copy:function(a){return new this.constructor(Ext.apply({},this.data),a||this.id)},isModified:function(a){return!(!this.modified||!this.modified.hasOwnProperty(a))},isValid:function(){return this.fields.find(function(a){return a.allowBlank===!1&&Ext.isEmpty(this.data[a.name])?!0:!1},this)?!1:!0},markDirty:function(){this.dirty=!0,this.modified||(this.modified={}),this.fields.each(function(a){this.modified[a.name]=this.data[a.name]},this)}},Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection,{register:function(){for(var a,b=0;a=arguments[b];b++)this.add(a)},unregister:function(){for(var a,b=0;a=arguments[b];b++)this.remove(this.lookup(a))
},lookup:function(a){if(Ext.isArray(a)){var b=["field1"],c=!Ext.isArray(a[0]);if(!c)for(var d=2,e=a[0].length;e>=d;++d)b.push("field"+d);return new Ext.data.ArrayStore({fields:b,data:a,expandData:c,autoDestroy:!0,autoCreated:!0})}return Ext.isObject(a)?a.events?a:Ext.create(a,"store"):this.get(a)},getKey:function(a){return a.storeId}}),Ext.data.Store=Ext.extend(Ext.util.Observable,{writer:void 0,remoteSort:!1,autoDestroy:!1,pruneModifiedRecords:!1,lastOptions:null,autoSave:!0,batch:!0,restful:!1,paramNames:void 0,defaultParamNames:{start:"start",limit:"limit",sort:"sort",dir:"dir"},batchKey:"_ext_batch_",constructor:function(a){this.data=new Ext.util.MixedCollection(!1),this.data.getKey=function(a){return a.id},this.baseParams={},this.removed=[],a&&a.data&&(this.inlineData=a.data,delete a.data),Ext.apply(this,a),this.paramNames=Ext.applyIf(this.paramNames||{},this.defaultParamNames),!this.url&&!this.api||this.proxy||(this.proxy=new Ext.data.HttpProxy({url:this.url,api:this.api})),this.restful===!0&&this.proxy&&(this.batch=!1,Ext.data.Api.restify(this.proxy)),this.reader&&(this.recordType||(this.recordType=this.reader.recordType),this.reader.onMetaChange&&(this.reader.onMetaChange=this.reader.onMetaChange.createSequence(this.onMetaChange,this)),this.writer&&(this.writer instanceof Ext.data.DataWriter==!1&&(this.writer=this.buildWriter(this.writer)),this.writer.meta=this.reader.meta,this.pruneModifiedRecords=!0)),this.recordType&&(this.fields=this.recordType.prototype.fields),this.modified=[],this.addEvents("datachanged","metachange","add","remove","update","clear","exception","beforeload","load","loadexception","beforewrite","write","beforesave","save"),this.proxy&&this.relayEvents(this.proxy,["loadexception","exception"]),this.writer&&this.on({scope:this,add:this.createRecords,remove:this.destroyRecord,update:this.updateRecord,clear:this.onClear}),this.sortToggle={},this.sortField?this.setDefaultSort(this.sortField,this.sortDir):this.sortInfo&&this.setDefaultSort(this.sortInfo.field,this.sortInfo.direction),Ext.data.Store.superclass.constructor.call(this),this.id&&(this.storeId=this.id,delete this.id),this.storeId&&Ext.StoreMgr.register(this),this.inlineData?(this.loadData(this.inlineData),delete this.inlineData):this.autoLoad&&this.load.defer(10,this,["object"==typeof this.autoLoad?this.autoLoad:void 0]),this.batchCounter=0,this.batches={}},buildWriter:function(a){var b=void 0;switch(type=(a.format||"json").toLowerCase()){case"json":b=Ext.data.JsonWriter;break;case"xml":b=Ext.data.XmlWriter;break;default:b=Ext.data.JsonWriter}return new b(a)},destroy:function(){this.isDestroyed||(this.storeId&&Ext.StoreMgr.unregister(this),this.clearData(),this.data=null,Ext.destroy(this.proxy),this.reader=this.writer=null,this.purgeListeners(),this.isDestroyed=!0)},add:function(a){if(a=[].concat(a),!(a.length<1)){for(var b=0,c=a.length;c>b;b++)a[b].join(this);var d=this.data.length;this.data.addAll(a),this.snapshot&&this.snapshot.addAll(a),this.fireEvent("add",this,a,d)}},addSorted:function(a){var b=this.findInsertIndex(a);this.insert(b,a)},remove:function(a){Ext.isArray(a)&&Ext.each(a,function(a){this.remove(a)},this);var b=this.data.indexOf(a);b>-1&&(a.join(null),this.data.removeAt(b)),this.pruneModifiedRecords&&this.modified.remove(a),this.snapshot&&this.snapshot.remove(a),b>-1&&this.fireEvent("remove",this,a,b)},removeAt:function(a){this.remove(this.getAt(a))},removeAll:function(a){var b=[];this.each(function(a){b.push(a)}),this.clearData(),this.snapshot&&this.snapshot.clear(),this.pruneModifiedRecords&&(this.modified=[]),a!==!0&&this.fireEvent("clear",this,b)},onClear:function(a,b){Ext.each(b,function(a,b){this.destroyRecord(this,a,b)},this)},insert:function(a,b){b=[].concat(b);for(var c=0,d=b.length;d>c;c++)this.data.insert(a,b[c]),b[c].join(this);this.snapshot&&this.snapshot.addAll(b),this.fireEvent("add",this,b,a)},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},getById:function(a){return(this.snapshot||this.data).key(a)},getAt:function(a){return this.data.itemAt(a)},getRange:function(a,b){return this.data.getRange(a,b)},storeOptions:function(a){a=Ext.apply({},a),delete a.callback,delete a.scope,this.lastOptions=a},clearData:function(){this.data.each(function(a){a.join(null)}),this.data.clear()},load:function(a){if(a=a||{},this.storeOptions(a),this.sortInfo&&this.remoteSort){var b=this.paramNames;a.params=a.params||{},a.params[b.sort]=this.sortInfo.field,a.params[b.dir]=this.sortInfo.direction}try{return this.execute("read",null,a)}catch(c){return this.handleException(c),!1}},updateRecord:function(a,b,c){c==Ext.data.Record.EDIT&&this.autoSave===!0&&(!b.phantom||b.phantom&&b.isValid())&&this.save()},createRecords:function(a,b){for(var c=0,d=b.length;d>c;c++)b[c].phantom&&b[c].isValid()&&(b[c].markDirty(),this.modified.push(b[c]));this.autoSave===!0&&this.save()},destroyRecord:function(a,b,c){-1!=this.modified.indexOf(b)&&this.modified.remove(b),b.phantom||(this.removed.push(b),b.lastIndex=c,this.autoSave===!0&&this.save())},execute:function(a,b,c,d){if(!Ext.data.Api.isAction(a))throw new Ext.data.Api.Error("execute",a);c=Ext.applyIf(c||{},{params:{}}),void 0!==d&&this.addToBatch(d);var e=!0;return"read"===a?(Ext.applyIf(c.params,this.baseParams),e=this.fireEvent("beforeload",this,c)):(this.writer.listful===!0&&this.restful!==!0?b=Ext.isArray(b)?b:[b]:Ext.isArray(b)&&1==b.length&&(b=b.shift()),(e=this.fireEvent("beforewrite",this,a,b,c))!==!1&&this.writer.apply(c.params,this.baseParams,a,b)),e!==!1&&(this.writer&&this.proxy.url&&!this.proxy.restful&&!Ext.data.Api.hasUniqueUrl(this.proxy,a)&&(c.params.xaction=a),this.proxy.request(Ext.data.Api.actions[a],b,c.params,this.reader,this.createCallback(a,b,d),this,c)),e},save:function(){if(!this.writer)throw new Ext.data.Store.Error("writer-undefined");var a,b,c,d=[],e={};this.removed.length&&d.push(["destroy",this.removed]);var f=[].concat(this.getModifiedRecords());if(f.length){for(var g=[],h=f.length-1;h>=0;h--)if(f[h].phantom===!0){var i=f.splice(h,1).shift();i.isValid()&&g.push(i)}else f[h].isValid()||f.splice(h,1);g.length&&d.push(["create",g]),f.length&&d.push(["update",f])}if(a=d.length){c=++this.batchCounter;for(var h=0;a>h;++h)b=d[h],e[b[0]]=b[1];if(this.fireEvent("beforesave",this,e)!==!1){for(var h=0;a>h;++h)b=d[h],this.doTransaction(b[0],b[1],c);return c}}return-1},doTransaction:function(a,b,c){function d(b){try{this.execute(a,b,void 0,c)}catch(d){this.handleException(d)}}if(this.batch===!1)for(var e=0,f=b.length;f>e;e++)d.call(this,b[e]);else d.call(this,b)},addToBatch:function(a){var b=this.batches,c=this.batchKey+a,d=b[c];d||(b[c]=d={id:a,count:0,data:{}}),++d.count},removeFromBatch:function(a,b,c){var c,d,e=this.batches,f=this.batchKey+a,g=e[f];g&&(d=g.data[b]||[],g.data[b]=d.concat(c),1===g.count?(c=g.data,delete e[f],this.fireEvent("save",this,a,c)):--g.count)},createCallback:function(a,b,c){Ext.data.Api.actions;return"read"==a?this.loadRecords:function(d,e,f){this["on"+Ext.util.Format.capitalize(a)+"Records"](f,b,[].concat(d)),f===!0&&this.fireEvent("write",this,a,d,e,b),this.removeFromBatch(c,a,d)}},clearModified:function(a){if(Ext.isArray(a))for(var b=a.length-1;b>=0;b--)this.modified.splice(this.modified.indexOf(a[b]),1);else this.modified.splice(this.modified.indexOf(a),1)},reMap:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;c>b;b++)this.reMap(a[b]);else{delete this.data.map[a._phid],this.data.map[a.id]=a;var d=this.data.keys.indexOf(a._phid);this.data.keys.splice(d,1,a.id),delete a._phid}},onCreateRecords:function(a,b,c){if(a===!0)try{this.reader.realize(b,c),this.reMap(b)}catch(d){this.handleException(d),Ext.isArray(b)&&this.onCreateRecords(a,b,c)}},onUpdateRecords:function(a,b,c){if(a===!0)try{this.reader.update(b,c)}catch(d){this.handleException(d),Ext.isArray(b)&&this.onUpdateRecords(a,b,c)}},onDestroyRecords:function(a,b){b=b instanceof Ext.data.Record?[b]:[].concat(b);for(var c=0,d=b.length;d>c;c++)this.removed.splice(this.removed.indexOf(b[c]),1);if(a===!1)for(c=b.length-1;c>=0;c--)this.insert(b[c].lastIndex,b[c])},handleException:function(a){Ext.handleError(a)},reload:function(a){this.load(Ext.applyIf(a||{},this.lastOptions))},loadRecords:function(a,b,c){if(this.isDestroyed!==!0){if(!a||c===!1)return c!==!1&&this.fireEvent("load",this,[],b),void(b.callback&&b.callback.call(b.scope||this,[],b,!1,a));var d=a.records,e=a.totalRecords||d.length;if(b&&b.add===!0)this.totalLength=Math.max(e,this.data.length+d.length),this.add(d);else{this.pruneModifiedRecords&&(this.modified=[]);for(var f=0,g=d.length;g>f;f++)d[f].join(this);this.snapshot&&(this.data=this.snapshot,delete this.snapshot),this.clearData(),this.data.addAll(d),this.totalLength=e,this.applySort(),this.fireEvent("datachanged",this)}this.fireEvent("load",this,d,b),b.callback&&b.callback.call(b.scope||this,d,b,!0)}},loadData:function(a,b){var c=this.reader.readRecords(a);this.loadRecords(c,{add:b},!0)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalLength||0},getSortState:function(){return this.sortInfo},applySort:function(){if(this.sortInfo&&!this.remoteSort){var a=this.sortInfo,b=a.field;this.sortData(b,a.direction)}},sortData:function(a,b){b=b||"ASC";var c=this.fields.get(a).sortType,d=function(b,d){var e=c(b.data[a]),f=c(d.data[a]);return e>f?1:f>e?-1:0};this.data.sort(b,d),this.snapshot&&this.snapshot!=this.data&&this.snapshot.sort(b,d)},setDefaultSort:function(a,b){b=b?b.toUpperCase():"ASC",this.sortInfo={field:a,direction:b},this.sortToggle[a]=b},sort:function(a,b){var c=this.fields.get(a);if(!c)return!1;b||(b=this.sortInfo&&this.sortInfo.field==c.name?(this.sortToggle[c.name]||"ASC").toggle("ASC","DESC"):c.sortDir);var d=this.sortToggle?this.sortToggle[c.name]:null,e=this.sortInfo?this.sortInfo:null;this.sortToggle[c.name]=b,this.sortInfo={field:c.name,direction:b},this.remoteSort?this.load(this.lastOptions)||(d&&(this.sortToggle[c.name]=d),e&&(this.sortInfo=e)):(this.applySort(),this.fireEvent("datachanged",this))},each:function(a,b){this.data.each(a,b)},getModifiedRecords:function(){return this.modified},createFilterFn:function(a,b,c,d){return Ext.isEmpty(b,!1)?!1:(b=this.data.createValueMatcher(b,c,d),function(c){return b.test(c.data[a])})},sum:function(a,b,c){var d=this.data.items,e=0;b=b||0,c=c||0===c?c:d.length-1;for(var f=b;c>=f;f++)e+=d[f].data[a]||0;return e},filter:function(a,b,c,d){var e=this.createFilterFn(a,b,c,d);return e?this.filterBy(e):this.clearFilter()},filterBy:function(a,b){this.snapshot=this.snapshot||this.data,this.data=this.queryBy(a,b||this),this.fireEvent("datachanged",this)},query:function(a,b,c,d){var e=this.createFilterFn(a,b,c,d);return e?this.queryBy(e):this.data.clone()},queryBy:function(a,b){var c=this.snapshot||this.data;return c.filterBy(a,b||this)},find:function(a,b,c,d,e){var f=this.createFilterFn(a,b,d,e);return f?this.data.findIndexBy(f,null,c):-1},findExact:function(a,b,c){return this.data.findIndexBy(function(c){return c.get(a)===b},this,c)},findBy:function(a,b,c){return this.data.findIndexBy(a,b,c)},collect:function(a,b,c){for(var d,e,f=c===!0&&this.snapshot?this.snapshot.items:this.data.items,g=[],h={},i=0,j=f.length;j>i;i++)d=f[i].data[a],e=String(d),!b&&Ext.isEmpty(d)||h[e]||(h[e]=!0,g[g.length]=d);return g},clearFilter:function(a){this.isFiltered()&&(this.data=this.snapshot,delete this.snapshot,a!==!0&&this.fireEvent("datachanged",this))},isFiltered:function(){return this.snapshot&&this.snapshot!=this.data},afterEdit:function(a){-1==this.modified.indexOf(a)&&this.modified.push(a),this.fireEvent("update",this,a,Ext.data.Record.EDIT)},afterReject:function(a){this.modified.remove(a),this.fireEvent("update",this,a,Ext.data.Record.REJECT)},afterCommit:function(a){this.modified.remove(a),this.fireEvent("update",this,a,Ext.data.Record.COMMIT)},commitChanges:function(){var a=this.modified.slice(0);this.modified=[];for(var b=0,c=a.length;c>b;b++)a[b].commit()},rejectChanges:function(){var a=this.modified.slice(0);this.modified=[];for(var b=0,c=a.length;c>b;b++)a[b].reject();var a=this.removed.slice(0).reverse();this.removed=[];for(var b=0,c=a.length;c>b;b++)this.insert(a[b].lastIndex||0,a[b]),a[b].reject()},onMetaChange:function(){this.recordType=this.reader.recordType,this.fields=this.recordType.prototype.fields,delete this.snapshot,this.reader.meta.sortInfo?this.sortInfo=this.reader.meta.sortInfo:this.sortInfo&&!this.fields.get(this.sortInfo.field)&&delete this.sortInfo,this.writer&&(this.writer.meta=this.reader.meta),this.modified=[],this.fireEvent("metachange",this,this.reader.meta)},findInsertIndex:function(a){this.suspendEvents();var b=this.data.clone();this.data.add(a),this.applySort();var c=this.data.indexOf(a);return this.data=b,this.resumeEvents(),c},setBaseParam:function(a,b){this.baseParams=this.baseParams||{},this.baseParams[a]=b}}),Ext.reg("store",Ext.data.Store),Ext.data.Store.Error=Ext.extend(Ext.Error,{name:"Ext.data.Store"}),Ext.apply(Ext.data.Store.Error.prototype,{lang:{"writer-undefined":"Attempted to execute a write-action without a DataWriter installed."}}),Ext.data.Field=function(a){"string"==typeof a&&(a={name:a}),Ext.apply(this,a),this.type||(this.type="auto");var b=Ext.data.SortTypes;if("string"==typeof this.sortType&&(this.sortType=b[this.sortType]),!this.sortType)switch(this.type){case"string":this.sortType=b.asUCString;break;case"date":this.sortType=b.asDate;break;default:this.sortType=b.none}var c=/[\$,%]/g;if(!this.convert){var d,e=this.dateFormat;switch(this.type){case"":case"auto":case void 0:d=function(a){return a};break;case"string":d=function(a){return void 0===a||null===a?"":String(a)};break;case"int":d=function(a){return void 0!==a&&null!==a&&""!==a?parseInt(String(a).replace(c,""),10):""};break;case"float":d=function(a){return void 0!==a&&null!==a&&""!==a?parseFloat(String(a).replace(c,""),10):""};break;case"bool":d=function(a){return a===!0||"true"===a||1==a};break;case"date":d=function(a){if(!a)return"";if(Ext.isDate(a))return a;if(e)return"timestamp"==e?new Date(1e3*a):"time"==e?new Date(parseInt(a,10)):Date.parseDate(a,e);var b=Date.parse(a);return b?new Date(b):null};break;default:d=function(a){return a}}this.convert=d}},Ext.data.Field.prototype={dateFormat:null,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0},Ext.data.DataReader=function(a,b){this.meta=a,this.recordType=Ext.isArray(b)?Ext.data.Record.create(b):b,this.recordType&&this.buildExtractors()},Ext.data.DataReader.prototype={getTotal:Ext.emptyFn,getRoot:Ext.emptyFn,getMessage:Ext.emptyFn,getSuccess:Ext.emptyFn,getId:Ext.emptyFn,buildExtractors:Ext.emptyFn,extractData:Ext.emptyFn,extractValues:Ext.emptyFn,realize:function(a,b){if(Ext.isArray(a))for(var c=a.length-1;c>=0;c--)Ext.isArray(b)?this.realize(a.splice(c,1).shift(),b.splice(c,1).shift()):this.realize(a.splice(c,1).shift(),b);else{if(Ext.isArray(b)&&1==b.length&&(b=b.shift()),!this.isData(b))throw new Ext.data.DataReader.Error("realize",a);a.phantom=!1,a._phid=a.id,a.id=this.getId(b),a.fields.each(function(c){b[c.name]!==c.defaultValue&&(a.data[c.name]=b[c.name])}),a.commit()}},update:function(a,b){if(Ext.isArray(a))for(var c=a.length-1;c>=0;c--)Ext.isArray(b)?this.update(a.splice(c,1).shift(),b.splice(c,1).shift()):this.update(a.splice(c,1).shift(),b);else Ext.isArray(b)&&1==b.length&&(b=b.shift()),this.isData(b)&&a.fields.each(function(c){b[c.name]!==c.defaultValue&&(a.data[c.name]=b[c.name])}),a.commit()},extractData:function(a,b){var c=this instanceof Ext.data.JsonReader?"json":"node",d=[];!this.isData(a)||this instanceof Ext.data.XmlReader||(a=[a]);var e=this.recordType.prototype.fields,f=e.items,g=e.length,d=[];if(b===!0)for(var h=this.recordType,i=0;i<a.length;i++){var j=a[i],k=new h(this.extractValues(j,f,g),this.getId(j));k[c]=j,d.push(k)}else for(var i=0;i<a.length;i++){var l=this.extractValues(a[i],f,g);l[this.meta.idProperty]=this.getId(a[i]),d.push(l)}return d},isData:function(a){return a&&Ext.isObject(a)&&!Ext.isEmpty(this.getId(a))?!0:!1},onMetaChange:function(a){delete this.ef,this.meta=a,this.recordType=Ext.data.Record.create(a.fields),this.buildExtractors()}},Ext.data.DataReader.Error=Ext.extend(Ext.Error,{constructor:function(a,b){this.arg=b,Ext.Error.call(this,a)},name:"Ext.data.DataReader"}),Ext.apply(Ext.data.DataReader.Error.prototype,{lang:{update:"#update received invalid data from server.  Please see docs for DataReader#update and review your DataReader configuration.",realize:"#realize was called with invalid remote-data.  Please see the docs for DataReader#realize and review your DataReader configuration.","invalid-response":"#readResponse received an invalid response from the server."}}),Ext.data.DataWriter=function(a){Ext.apply(this,a)},Ext.data.DataWriter.prototype={writeAllFields:!1,listful:!1,apply:function(a,b,c,d){var e=[],f=c+"Record";Ext.isArray(d)?Ext.each(d,function(a){e.push(this[f](a))},this):d instanceof Ext.data.Record&&(e=this[f](d)),this.render(a,b,e)},render:Ext.emptyFn,updateRecord:Ext.emptyFn,createRecord:Ext.emptyFn,destroyRecord:Ext.emptyFn,toHash:function(a){var b,c=a.fields.map,d={},e=this.writeAllFields===!1&&a.phantom===!1?a.getChanges():a.data;return Ext.iterate(e,function(a,e){(b=c[a])&&(d[b.mapping?b.mapping:b.name]=e)}),a.phantom?a.fields.containsKey(this.meta.idProperty)&&Ext.isEmpty(a.data[this.meta.idProperty])&&delete d[this.meta.idProperty]:d[this.meta.idProperty]=a.id,d},toArray:function(a){var b=[];return Ext.iterate(a,function(a,c){b.push({name:a,value:c})},this),b}},Ext.data.DataProxy=function(a){a=a||{},this.api=a.api,this.url=a.url,this.restful=a.restful,this.listeners=a.listeners,this.prettyUrls=a.prettyUrls,this.addEvents("exception","beforeload","load","loadexception","beforewrite","write"),Ext.data.DataProxy.superclass.constructor.call(this);try{Ext.data.Api.prepare(this)}catch(b){b instanceof Ext.data.Api.Error&&b.toConsole()}Ext.data.DataProxy.relayEvents(this,["beforewrite","write","exception"])},Ext.extend(Ext.data.DataProxy,Ext.util.Observable,{restful:!1,setApi:function(){if(1==arguments.length){var a=Ext.data.Api.isValid(arguments[0]);if(a!==!0)throw new Ext.data.Api.Error("invalid",a);this.api=arguments[0]}else if(2==arguments.length){if(!Ext.data.Api.isAction(arguments[0]))throw new Ext.data.Api.Error("invalid",arguments[0]);this.api[arguments[0]]=arguments[1]}Ext.data.Api.prepare(this)},isApiAction:function(a){return this.api[a]?!0:!1},request:function(a,b,c,d,e,f,g){if(!this.api[a]&&!this.load)throw new Ext.data.DataProxy.Error("action-undefined",a);c=c||{},(a===Ext.data.Api.actions.read?this.fireEvent("beforeload",this,c):this.fireEvent("beforewrite",this,a,b,c)!==!1)?this.doRequest.apply(this,arguments):e.call(f||this,null,g,!1)},load:null,doRequest:function(a,b,c,d,e,f,g){this.load(c,d,e,f,g)},onRead:Ext.emptyFn,onWrite:Ext.emptyFn,buildUrl:function(a,b){b=b||null;var c=this.conn&&this.conn.url?this.conn.url:this.api[a]?this.api[a].url:this.url;if(!c)throw new Ext.data.Api.Error("invalid-url",a);var d=null,e=c.match(/(.*)(\.json|\.xml|\.html)$/);return e&&(d=e[2],c=e[1]),(this.restful===!0||this.prettyUrls===!0)&&b instanceof Ext.data.Record&&!b.phantom&&(c+="/"+b.id),null===d?c:c+d},destroy:function(){this.purgeListeners()}}),Ext.apply(Ext.data.DataProxy,Ext.util.Observable.prototype),Ext.util.Observable.call(Ext.data.DataProxy),Ext.data.DataProxy.Error=Ext.extend(Ext.Error,{constructor:function(a,b){this.arg=b,Ext.Error.call(this,a)},name:"Ext.data.DataProxy"}),Ext.apply(Ext.data.DataProxy.Error.prototype,{lang:{"action-undefined":"DataProxy attempted to execute an API-action but found an undefined url / function.  Please review your Proxy url/api-configuration.","api-invalid":"Recieved an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions from Ext.data.Api.actions."}}),Ext.data.Request=function(a){Ext.apply(this,a)},Ext.data.Request.prototype={action:void 0,rs:void 0,params:void 0,callback:Ext.emptyFn,scope:void 0,reader:void 0},Ext.data.Response=function(a){Ext.apply(this,a)},Ext.data.Response.prototype={action:void 0,success:void 0,message:void 0,data:void 0,raw:void 0,records:void 0},Ext.data.ScriptTagProxy=function(a){Ext.apply(this,a),Ext.data.ScriptTagProxy.superclass.constructor.call(this,a),this.head=document.getElementsByTagName("head")[0]},Ext.data.ScriptTagProxy.TRANS_ID=1e3,Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:3e4,callbackParam:"callback",nocache:!0,doRequest:function(a,b,c,d,e,f,g){var h=Ext.urlEncode(Ext.apply(c,this.extraParams)),i=this.buildUrl(a,b);if(!i)throw new Ext.data.Api.Error("invalid-url",i);i=Ext.urlAppend(i,h),this.nocache&&(i=Ext.urlAppend(i,"_dc="+(new Date).getTime()));var j=++Ext.data.ScriptTagProxy.TRANS_ID,k={id:j,action:a,cb:"stcCallback"+j,scriptId:"stcScript"+j,params:c,arg:g,url:i,callback:e,scope:f,reader:d};window[k.cb]=this.createCallback(a,b,k),i+=String.format("&{0}={1}",this.callbackParam,k.cb),this.autoAbort!==!1&&this.abort(),k.timeoutId=this.handleFailure.defer(this.timeout,this,[k]);var l=document.createElement("script");l.setAttribute("src",i),l.setAttribute("type","text/javascript"),l.setAttribute("id",k.scriptId),this.head.appendChild(l),this.trans=k},createCallback:function(a,b,c){var d=this;return function(e){d.trans=!1,d.destroyTrans(c,!0),a===Ext.data.Api.actions.read?d.onRead.call(d,a,c,e):d.onWrite.call(d,a,c,e,b)}},onRead:function(a,b,c){var d;try{d=b.reader.readRecords(c)}catch(e){return this.fireEvent("loadexception",this,b,c,e),this.fireEvent("exception",this,"response",a,b,c,e),void b.callback.call(b.scope||window,null,b.arg,!1)}d.success===!1?(this.fireEvent("loadexception",this,b,c),this.fireEvent("exception",this,"remote",a,b,c,null)):this.fireEvent("load",this,c,b.arg),b.callback.call(b.scope||window,d,b.arg,d.success)},onWrite:function(a,b,c,d){var e=b.reader;try{var f=e.readResponse(a,c)}catch(g){return this.fireEvent("exception",this,"response",a,b,f,g),void b.callback.call(b.scope||window,null,f,!1)}return!f.success==!0?(this.fireEvent("exception",this,"remote",a,b,f,d),void b.callback.call(b.scope||window,null,f,!1)):(this.fireEvent("write",this,a,f.data,f,d,b.arg),void b.callback.call(b.scope||window,f.data,f,!0))},isLoading:function(){return this.trans?!0:!1},abort:function(){this.isLoading()&&this.destroyTrans(this.trans)},destroyTrans:function(a,b){if(this.head.removeChild(document.getElementById(a.scriptId)),clearTimeout(a.timeoutId),b){window[a.cb]=void 0;try{delete window[a.cb]}catch(c){}}else window[a.cb]=function(){window[a.cb]=void 0;try{delete window[a.cb]}catch(b){}}},handleFailure:function(a){this.trans=!1,this.destroyTrans(a,!1),a.action===Ext.data.Api.actions.read&&this.fireEvent("loadexception",this,null,a.arg),this.fireEvent("exception",this,"response",a.action,{response:null,options:a.arg}),a.callback.call(a.scope||window,null,a.arg,!1)},destroy:function(){this.abort(),Ext.data.ScriptTagProxy.superclass.destroy.call(this)}}),Ext.data.HttpProxy=function(a){Ext.data.HttpProxy.superclass.constructor.call(this,a),this.conn=a,this.conn.url=null,this.useAjax=!a||!a.events;var b=Ext.data.Api.actions;this.activeRequest={};for(var c in b)this.activeRequest[b[c]]=void 0},Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn},setUrl:function(a,b){this.conn.url=a,b===!0&&(this.url=a,this.api=null,Ext.data.Api.prepare(this))},doRequest:function(a,b,c,d,e,f,g){var h={method:this.api[a]?this.api[a].method:void 0,request:{callback:e,scope:f,arg:g},reader:d,callback:this.createCallback(a,b),scope:this};c.jsonData?h.jsonData=c.jsonData:c.xmlData?h.xmlData=c.xmlData:h.params=c||{},this.conn.url=this.buildUrl(a,b),this.useAjax?(Ext.applyIf(h,this.conn),this.activeRequest[a],this.activeRequest[a]=Ext.Ajax.request(h)):this.conn.request(h),this.conn.url=null},createCallback:function(a,b){return function(c,d,e){return this.activeRequest[a]=void 0,d?void(a===Ext.data.Api.actions.read?this.onRead(a,c,e):this.onWrite(a,c,e,b)):(a===Ext.data.Api.actions.read&&this.fireEvent("loadexception",this,c,e),this.fireEvent("exception",this,"response",a,c,e),void c.request.callback.call(c.request.scope,null,c.request.arg,!1))}},onRead:function(a,b,c){var d;try{d=b.reader.read(c)}catch(e){return this.fireEvent("loadexception",this,b,c,e),this.fireEvent("exception",this,"response",a,b,c,e),void b.request.callback.call(b.request.scope,null,b.request.arg,!1)}if(d.success===!1){this.fireEvent("loadexception",this,b,c);var f=b.reader.readResponse(a,c);this.fireEvent("exception",this,"remote",a,b,f,null)}else this.fireEvent("load",this,b,b.request.arg);b.request.callback.call(b.request.scope,d,b.request.arg,d.success)},onWrite:function(a,b,c,d){var e,f=b.reader;try{e=f.readResponse(a,c)}catch(g){return this.fireEvent("exception",this,"response",a,b,c,g),void b.request.callback.call(b.request.scope,null,b.request.arg,!1)}e.success===!1?this.fireEvent("exception",this,"remote",a,b,e,d):this.fireEvent("write",this,a,e.data,e,d,b.request.arg),b.request.callback.call(b.request.scope,e.data,e,e.success)},destroy:function(){if(this.useAjax){if(this.activeRequest){var a=Ext.data.Api.actions;for(var b in a)this.activeRequest[a[b]]&&Ext.Ajax.abort(this.activeRequest[a[b]])}}else this.conn.abort();Ext.data.HttpProxy.superclass.destroy.call(this)}}),Ext.data.MemoryProxy=function(a){var b={};b[Ext.data.Api.actions.read]=!0,Ext.data.MemoryProxy.superclass.constructor.call(this,{api:b}),this.data=a},Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{doRequest:function(a,b,c,d,e,f,g){c=c||{};var h;try{h=d.readRecords(this.data)}catch(i){return this.fireEvent("loadexception",this,null,g,i),this.fireEvent("exception",this,"response",a,g,null,i),void e.call(f,null,g,!1)}e.call(f,h,g,!0)}}),Ext.data.JsonWriter=function(a){Ext.data.JsonWriter.superclass.constructor.call(this,a),void 0!=this.returnJson&&(this.encode=this.returnJson)},Ext.extend(Ext.data.JsonWriter,Ext.data.DataWriter,{returnJson:void 0,encode:!0,render:function(a,b,c){if(this.encode===!0)Ext.apply(a,b),a[this.meta.root]=Ext.encode(c);else{var d=Ext.apply({},b);d[this.meta.root]=c,a.jsonData=d}},createRecord:function(a){return this.toHash(a)},updateRecord:function(a){return this.toHash(a)},destroyRecord:function(a){return a.id}}),Ext.data.JsonReader=function(a,b){a=a||{},Ext.applyIf(a,{idProperty:"id",successProperty:"success",totalProperty:"total"}),Ext.data.JsonReader.superclass.constructor.call(this,a,b||a.fields)},Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(a){var b=a.responseText,c=Ext.decode(b);if(!c)throw{message:"JsonReader.read: Json object not found"};return this.readRecords(c)},readResponse:function(a,b){var c=void 0!==b.responseText?Ext.decode(b.responseText):b;if(!c)throw new Ext.data.JsonReader.Error("response");var d=this.getRoot(c);if(a===Ext.data.Api.actions.create){var e=Ext.isDefined(d);if(e&&Ext.isEmpty(d))throw new Ext.data.JsonReader.Error("root-empty",this.meta.root);if(!e)throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root)}var f=new Ext.data.Response({action:a,success:this.getSuccess(c),data:d?this.extractData(d,!1):[],message:this.getMessage(c),raw:c});if(Ext.isEmpty(f.success))throw new Ext.data.JsonReader.Error("successProperty-response",this.meta.successProperty);return f},readRecords:function(a){this.jsonData=a,a.metaData&&this.onMetaChange(a.metaData);var b,c=this.meta,d=this.recordType,e=d.prototype.fields,f=(e.items,e.length,this.getRoot(a)),g=f.length,h=g,i=!0;return c.totalProperty&&(b=parseInt(this.getTotal(a),10),isNaN(b)||(h=b)),c.successProperty&&(b=this.getSuccess(a),(b===!1||"false"===b)&&(i=!1)),{success:i,records:this.extractData(f,!0),totalRecords:h}},buildExtractors:function(){if(!this.ef){var a=this.meta,b=this.recordType,c=b.prototype.fields,d=c.items,e=c.length;if(a.totalProperty&&(this.getTotal=this.createAccessor(a.totalProperty)),a.successProperty&&(this.getSuccess=this.createAccessor(a.successProperty)),a.messageProperty&&(this.getMessage=this.createAccessor(a.messageProperty)),this.getRoot=a.root?this.createAccessor(a.root):function(a){return a},a.id||a.idProperty){var f=this.createAccessor(a.id||a.idProperty);this.getId=function(a){var b=f(a);return void 0===b||""===b?null:b}}else this.getId=function(){return null};for(var g=[],h=0;e>h;h++){c=d[h];var i=void 0!==c.mapping&&null!==c.mapping?c.mapping:c.name;g.push(this.createAccessor(i))}this.ef=g}},simpleAccess:function(a,b){return a[b]},createAccessor:function(){var a=/[\[\.]/;return function(b){try{return a.test(b)?new Function("obj","return obj."+b):function(a){return a[b]}}catch(c){}return Ext.emptyFn}}(),extractValues:function(a,b,c){for(var d,e={},f=0;c>f;f++){d=b[f];var g=this.ef[f](a);e[d.name]=d.convert(void 0!==g?g:d.defaultValue,a)}return e}}),Ext.data.JsonReader.Error=Ext.extend(Ext.Error,{constructor:function(a,b){this.arg=b,Ext.Error.call(this,a)},name:"Ext.data.JsonReader"}),Ext.apply(Ext.data.JsonReader.Error.prototype,{lang:{response:"An error occurred while json-decoding your server response","successProperty-response":'Could not locate your "successProperty" in your server response.  Please review your JsonReader config to ensure the config-property "successProperty" matches the property in your server-response.  See the JsonReader docs.',"root-undefined-config":'Your JsonReader was configured without a "root" property.  Please review your JsonReader config and make sure to define the root property.  See the JsonReader docs.',"idProperty-undefined":'Your JsonReader was configured without an "idProperty"  Please review your JsonReader configuration and ensure the "idProperty" is set (e.g.: "id").  See the JsonReader docs.',"root-empty":'Data was expected to be returned by the server in the "root" property of the response.  Please review your JsonReader configuration to ensure the "root" property matches that returned in the server-response.  See JsonReader docs.'}}),Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{readRecords:function(a){this.arrayData=a;for(var b,c=this.meta,d=c?Ext.num(c.idIndex,c.id):null,e=this.recordType,f=e.prototype.fields,g=[],h=this.getRoot(a),i=0,j=h.length;j>i;i++){for(var k=h[i],l={},m=!d&&0!==d||void 0===k[d]||""===k[d]?null:k[d],n=0,o=f.length;o>n;n++){var p=f.items[n],q=void 0!==p.mapping&&null!==p.mapping?p.mapping:n;b=void 0!==k[q]?k[q]:p.defaultValue,b=p.convert(b,k),l[p.name]=b}var r=new e(l,m);r.json=k,g[g.length]=r}var s=g.length;return c.totalProperty&&(b=parseInt(this.getTotal(a),10),isNaN(b)||(s=b)),{records:g,totalRecords:s}}}),Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.ArrayStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.ArrayReader(a)}))},loadData:function(a,b){if(this.expandData===!0){for(var c=[],d=0,e=a.length;e>d;d++)c[c.length]=[a[d]];a=c}Ext.data.ArrayStore.superclass.loadData.call(this,a,b)}}),Ext.reg("arraystore",Ext.data.ArrayStore),Ext.data.SimpleStore=Ext.data.ArrayStore,Ext.reg("simplestore",Ext.data.SimpleStore),Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.JsonReader(a)}))}}),Ext.reg("jsonstore",Ext.data.JsonStore),Ext.data.XmlWriter=function(){Ext.data.XmlWriter.superclass.constructor.apply(this,arguments),this.tpl="string"==typeof this.tpl?new Ext.XTemplate(this.tpl).compile():this.tpl.compile()},Ext.extend(Ext.data.XmlWriter,Ext.data.DataWriter,{documentRoot:"xrequest",forceDocumentRoot:!1,root:"records",xmlVersion:"1.0",xmlEncoding:"ISO-8859-15",tpl:'<tpl for="."><?xml version="{version}" encoding="{encoding}"?><tpl if="documentRoot"><{documentRoot}><tpl for="baseParams"><tpl for="."><{name}>{value}</{name}</tpl></tpl></tpl><tpl if="records.length&gt;1"><{root}></tpl><tpl for="records"><{parent.record}><tpl for="."><{name}>{value}</{name}></tpl></{parent.record}></tpl><tpl if="records.length&gt;1"></{root}></tpl><tpl if="documentRoot"></{documentRoot}></tpl></tpl>',render:function(a,b,c){b=this.toArray(b),a.xmlData=this.tpl.applyTemplate({version:this.xmlVersion,encoding:this.xmlEncoding,documentRoot:b.length>0||this.forceDocumentRoot===!0?this.documentRoot:!1,record:this.meta.record,root:this.root,baseParams:b,records:Ext.isArray(c[0])?c:[c]})
},createRecord:function(a){return this.toArray(this.toHash(a))},updateRecord:function(a){return this.toArray(this.toHash(a))},destroyRecord:function(a){var b={};return b[this.meta.idProperty]=a.id,this.toArray(b)}}),Ext.data.XmlReader=function(a,b){a=a||{},Ext.applyIf(a,{idProperty:a.idProperty||a.idPath||a.id,successProperty:a.successProperty||a.success}),Ext.data.XmlReader.superclass.constructor.call(this,a,b||a.fields)},Ext.extend(Ext.data.XmlReader,Ext.data.DataReader,{read:function(a){var b=a.responseXML;if(!b)throw{message:"XmlReader.read: XML Document not available"};return this.readRecords(b)},readRecords:function(a){this.xmlData=a;var b=a.documentElement||a,c=Ext.DomQuery,d=0,e=!0;this.meta.totalProperty&&(d=this.getTotal(b,0)),this.meta.successProperty&&(e=this.getSuccess(b));var f=this.extractData(c.select(this.meta.record,b),!0);return{success:e,records:f,totalRecords:d||f.length}},readResponse:function(a,b){var c=Ext.DomQuery,d=b.responseXML,e=new Ext.data.Response({action:a,success:this.getSuccess(d),message:this.getMessage(d),data:this.extractData(c.select(this.meta.record,d)||c.select(this.meta.root,d),!1),raw:d});if(Ext.isEmpty(e.success))throw new Ext.data.DataReader.Error("successProperty-response",this.meta.successProperty);if(a===Ext.data.Api.actions.create){var f=Ext.isDefined(e.data);if(f&&Ext.isEmpty(e.data))throw new Ext.data.JsonReader.Error("root-empty",this.meta.root);if(!f)throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root)}return e},getSuccess:function(){return!0},buildExtractors:function(){if(!this.ef){var a=this.meta,b=this.recordType,c=b.prototype.fields,d=c.items,e=c.length;if(a.totalProperty&&(this.getTotal=this.createAccessor(a.totalProperty)),a.successProperty&&(this.getSuccess=this.createAccessor(a.successProperty)),a.messageProperty&&(this.getMessage=this.createAccessor(a.messageProperty)),this.getRoot=function(a){return Ext.isEmpty(a[this.meta.record])?a[this.meta.root]:a[this.meta.record]},a.idPath||a.idProperty){var f=this.createAccessor(a.idPath||a.idProperty);this.getId=function(a){var b=f(a)||a.id;return void 0===b||""===b?null:b}}else this.getId=function(){return null};for(var g=[],h=0;e>h;h++){c=d[h];var i=void 0!==c.mapping&&null!==c.mapping?c.mapping:c.name;g.push(this.createAccessor(i))}this.ef=g}},createAccessor:function(){var a=Ext.DomQuery;return function(b){switch(b){case this.meta.totalProperty:return function(c,d){return a.selectNumber(b,c,d)};case this.meta.successProperty:return function(c){var d=a.selectValue(b,c,!0),e=d!==!1&&"false"!==d;return e};default:return function(c,d){return a.selectValue(b,c,d)}}}}(),extractValues:function(a,b,c){for(var d,e={},f=0;c>f;f++){d=b[f];var g=this.ef[f](a);e[d.name]=d.convert(void 0!==g?g:d.defaultValue,a)}return e}}),Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.XmlStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.XmlReader(a)}))}}),Ext.reg("xmlstore",Ext.data.XmlStore),Ext.data.GroupingStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.GroupingStore.superclass.constructor.call(this,a),this.applyGroupField()},remoteGroup:!1,groupOnSort:!1,groupDir:"ASC",clearGrouping:function(){if(this.groupField=!1,this.remoteGroup){this.baseParams&&delete this.baseParams.groupBy;var a=this.lastOptions;a&&a.params&&delete a.params.groupBy,this.reload()}else this.applySort(),this.fireEvent("datachanged",this)},groupBy:function(a,b,c){if(c=c?"DESC"==String(c).toUpperCase()?"DESC":"ASC":this.groupDir,this.groupField!=a||this.groupDir!=c||b){if(this.groupField=a,this.groupDir=c,this.applyGroupField(),this.groupOnSort)return void this.sort(a,c);if(this.remoteGroup)this.reload();else{var d=this.sortInfo||{};d.field!=a||d.direction!=c?this.applySort():this.sortData(a,c),this.fireEvent("datachanged",this)}}},applyGroupField:function(){this.remoteGroup&&(this.baseParams||(this.baseParams={}),this.baseParams.groupBy=this.groupField,this.baseParams.groupDir=this.groupDir)},applySort:function(){if(Ext.data.GroupingStore.superclass.applySort.call(this),!this.groupOnSort&&!this.remoteGroup){var a=this.getGroupState();!a||a==this.sortInfo.field&&this.groupDir==this.sortInfo.direction||this.sortData(this.groupField,this.groupDir)}},applyGrouping:function(a){return this.groupField!==!1?(this.groupBy(this.groupField,!0,this.groupDir),!0):(a===!0&&this.fireEvent("datachanged",this),!1)},getGroupState:function(){return this.groupOnSort&&this.groupField!==!1?this.sortInfo?this.sortInfo.field:void 0:this.groupField}}),Ext.reg("groupingstore",Ext.data.GroupingStore),Ext.data.DirectProxy=function(a){Ext.apply(this,a),"string"==typeof this.paramOrder&&(this.paramOrder=this.paramOrder.split(/[\s,|]/)),Ext.data.DirectProxy.superclass.constructor.call(this,a)},Ext.extend(Ext.data.DirectProxy,Ext.data.DataProxy,{paramOrder:void 0,paramsAsHash:!0,directFn:void 0,doRequest:function(a,b,c,d,e,f,g){var h=[],i=this.api[a]||this.directFn;switch(a){case Ext.data.Api.actions.create:h.push(c.jsonData);break;case Ext.data.Api.actions.read:if(i.directCfg.method.len>0)if(this.paramOrder)for(var j=0,k=this.paramOrder.length;k>j;j++)h.push(c[this.paramOrder[j]]);else this.paramsAsHash&&h.push(c);break;case Ext.data.Api.actions.update:h.push(c.jsonData);break;case Ext.data.Api.actions.destroy:h.push(c.jsonData)}var l={params:c||{},request:{callback:e,scope:f,arg:g},reader:d};h.push(this.createCallback(a,b,l),this),i.apply(window,h)},createCallback:function(a,b,c){return function(d,e){return e.status?void(a===Ext.data.Api.actions.read?this.onRead(a,c,d,e):this.onWrite(a,c,d,e,b)):(a===Ext.data.Api.actions.read&&this.fireEvent("loadexception",this,c,e,null),this.fireEvent("exception",this,"remote",a,c,e,null),void c.request.callback.call(c.request.scope,null,c.request.arg,!1))}},onRead:function(a,b,c,d){var e;try{e=b.reader.readRecords(c)}catch(f){return this.fireEvent("loadexception",this,b,d,f),this.fireEvent("exception",this,"response",a,b,d,f),void b.request.callback.call(b.request.scope,null,b.request.arg,!1)}this.fireEvent("load",this,d,b.request.arg),b.request.callback.call(b.request.scope,e,b.request.arg,!0)},onWrite:function(a,b,c,d,e){var f=b.reader.extractData(c,!1);this.fireEvent("write",this,a,f,d,e,b.request.arg),b.request.callback.call(b.request.scope,f,d,!0)}}),Ext.data.DirectStore=function(a){a.batchTransactions=!1,Ext.data.DirectStore.superclass.constructor.call(this,Ext.apply(a,{proxy:"undefined"==typeof a.proxy?new Ext.data.DirectProxy(Ext.copyTo({},a,"paramOrder,paramsAsHash,directFn,api")):a.proxy,reader:"undefined"==typeof a.reader&&"object"==typeof a.fields?new Ext.data.JsonReader(Ext.copyTo({},a,"totalProperty,root,idProperty"),a.fields):a.reader}))},Ext.extend(Ext.data.DirectStore,Ext.data.Store,{}),Ext.reg("directstore",Ext.data.DirectStore),Ext.Direct=Ext.extend(Ext.util.Observable,{exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){this.addEvents("event","exception"),this.transactions={},this.providers={}},addProvider:function(a){var b=arguments;{if(!(b.length>1))return a.events||(a=new Ext.Direct.PROVIDERS[a.type](a)),a.id=a.id||Ext.id(),this.providers[a.id]=a,a.on("data",this.onProviderData,this),a.on("exception",this.onProviderException,this),a.isConnected()||a.connect(),a;for(var c=0,d=b.length;d>c;c++)this.addProvider(b[c])}},getProvider:function(a){return this.providers[a]},removeProvider:function(a){var b=a.id?a:this.providers[a.id];return b.un("data",this.onProviderData,this),b.un("exception",this.onProviderException,this),delete this.providers[b.id],b},addTransaction:function(a){return this.transactions[a.tid]=a,a},removeTransaction:function(a){return delete this.transactions[a.tid||a],a},getTransaction:function(a){return this.transactions[a.tid||a]},onProviderData:function(a,b){if(Ext.isArray(b))for(var c=0,d=b.length;d>c;c++)this.onProviderData(a,b[c]);else b.name&&"event"!=b.name&&"exception"!=b.name?this.fireEvent(b.name,b):"exception"==b.type&&this.fireEvent("exception",b),this.fireEvent("event",b,a)},createEvent:function(a,b){return new Ext.Direct.eventTypes[a.type](Ext.apply(a,b))}}),Ext.Direct=new Ext.Direct,Ext.Direct.TID=1,Ext.Direct.PROVIDERS={},Ext.Direct.Transaction=function(a){Ext.apply(this,a),this.tid=++Ext.Direct.TID,this.retryCount=0},Ext.Direct.Transaction.prototype={send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++,this.send()},getProvider:function(){return this.provider}},Ext.Direct.Event=function(a){Ext.apply(this,a)},Ext.Direct.Event.prototype={status:!0,getData:function(){return this.data}},Ext.Direct.RemotingEvent=Ext.extend(Ext.Direct.Event,{type:"rpc",getTransaction:function(){return this.transaction||Ext.Direct.getTransaction(this.tid)}}),Ext.Direct.ExceptionEvent=Ext.extend(Ext.Direct.RemotingEvent,{status:!1,type:"exception"}),Ext.Direct.eventTypes={rpc:Ext.Direct.RemotingEvent,event:Ext.Direct.Event,exception:Ext.Direct.ExceptionEvent},Ext.direct.Provider=Ext.extend(Ext.util.Observable,{priority:1,constructor:function(a){Ext.apply(this,a),this.addEvents("connect","disconnect","data","exception"),Ext.direct.Provider.superclass.constructor.call(this,a)},isConnected:function(){return!1},connect:Ext.emptyFn,disconnect:Ext.emptyFn}),Ext.direct.JsonProvider=Ext.extend(Ext.direct.Provider,{parseResponse:function(a){return Ext.isEmpty(a.responseText)?null:"object"==typeof a.responseText?a.responseText:Ext.decode(a.responseText)},getEvents:function(a){var b=null;try{b=this.parseResponse(a)}catch(c){var d=new Ext.Direct.ExceptionEvent({data:c,xhr:a,code:Ext.Direct.exceptions.PARSE,message:"Error parsing json response: \n\n "+b});return[d]}var e=[];if(Ext.isArray(b))for(var f=0,g=b.length;g>f;f++)e.push(Ext.Direct.createEvent(b[f]));else e.push(Ext.Direct.createEvent(b));return e}}),Ext.direct.PollingProvider=Ext.extend(Ext.direct.JsonProvider,{priority:3,interval:3e3,constructor:function(a){Ext.direct.PollingProvider.superclass.constructor.call(this,a),this.addEvents("beforepoll","poll")},isConnected:function(){return!!this.pollTask},connect:function(){if(this.url&&!this.pollTask)this.pollTask=Ext.TaskMgr.start({run:function(){this.fireEvent("beforepoll",this)!==!1&&("function"==typeof this.url?this.url(this.baseParams):Ext.Ajax.request({url:this.url,callback:this.onData,scope:this,params:this.baseParams}))},interval:this.interval,scope:this}),this.fireEvent("connect",this);else if(!this.url)throw"Error initializing PollingProvider, no url configured."},disconnect:function(){this.pollTask&&(Ext.TaskMgr.stop(this.pollTask),delete this.pollTask,this.fireEvent("disconnect",this))},onData:function(a,b,c){if(b)for(var d=this.getEvents(c),e=0,f=d.length;f>e;e++){var g=d[e];this.fireEvent("data",this,g)}else{var g=new Ext.Direct.ExceptionEvent({data:g,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:c});this.fireEvent("data",this,g)}}}),Ext.Direct.PROVIDERS.polling=Ext.direct.PollingProvider,Ext.direct.RemotingProvider=Ext.extend(Ext.direct.JsonProvider,{enableBuffer:10,maxRetries:1,timeout:void 0,constructor:function(a){Ext.direct.RemotingProvider.superclass.constructor.call(this,a),this.addEvents("beforecall","call"),this.namespace=Ext.isString(this.namespace)?Ext.ns(this.namespace):this.namespace||window,this.transactions={},this.callBuffer=[]},initAPI:function(){var a=this.actions;for(var b in a)for(var c=this.namespace[b]||(this.namespace[b]={}),d=a[b],e=0,f=d.length;f>e;e++){var g=d[e];c[g.name]=this.createMethod(b,g)}},isConnected:function(){return!!this.connected},connect:function(){if(this.url)this.initAPI(),this.connected=!0,this.fireEvent("connect",this);else if(!this.url)throw"Error initializing RemotingProvider, no url configured."},disconnect:function(){this.connected&&(this.connected=!1,this.fireEvent("disconnect",this))},onData:function(a,b,c){if(b)for(var d=this.getEvents(c),e=0,f=d.length;f>e;e++){var g=d[e],h=this.getTransaction(g);this.fireEvent("data",this,g),h&&(this.doCallback(h,g,!0),Ext.Direct.removeTransaction(h))}else for(var i=[].concat(a.ts),e=0,f=i.length;f>e;e++){var h=this.getTransaction(i[e]);if(h&&h.retryCount<this.maxRetries)h.retry();else{var g=new Ext.Direct.ExceptionEvent({data:g,transaction:h,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:c});this.fireEvent("data",this,g),h&&(this.doCallback(h,g,!1),Ext.Direct.removeTransaction(h))}}},getCallData:function(a){return{action:a.action,method:a.method,data:a.data,type:"rpc",tid:a.tid}},doSend:function(a){var b,c={url:this.url,callback:this.onData,scope:this,ts:a,timeout:this.timeout};if(Ext.isArray(a)){b=[];for(var d=0,e=a.length;e>d;d++)b.push(this.getCallData(a[d]))}else b=this.getCallData(a);if(this.enableUrlEncode){var f={};f[Ext.isString(this.enableUrlEncode)?this.enableUrlEncode:"data"]=Ext.encode(b),c.params=f}else c.jsonData=b;Ext.Ajax.request(c)},combineAndSend:function(){var a=this.callBuffer.length;a>0&&(this.doSend(1==a?this.callBuffer[0]:this.callBuffer),this.callBuffer=[])},queueTransaction:function(a){return a.form?void this.processForm(a):(this.callBuffer.push(a),void(this.enableBuffer?(this.callTask||(this.callTask=new Ext.util.DelayedTask(this.combineAndSend,this)),this.callTask.delay(Ext.isNumber(this.enableBuffer)?this.enableBuffer:10)):this.combineAndSend()))},doCall:function(a,b,c){var d=null,e=c[b.len],f=c[b.len+1];0!==b.len&&(d=c.slice(0,b.len));var g=new Ext.Direct.Transaction({provider:this,args:c,action:a,method:b.name,data:d,cb:f&&Ext.isFunction(e)?e.createDelegate(f):e});this.fireEvent("beforecall",this,g)!==!1&&(Ext.Direct.addTransaction(g),this.queueTransaction(g),this.fireEvent("call",this,g))},doForm:function(a,b,c,d,e){var f=new Ext.Direct.Transaction({provider:this,action:a,method:b.name,args:[c,d,e],cb:e&&Ext.isFunction(d)?d.createDelegate(e):d,isForm:!0});if(this.fireEvent("beforecall",this,f)!==!1){Ext.Direct.addTransaction(f);var g="multipart/form-data"==String(c.getAttribute("enctype")).toLowerCase(),h={extTID:f.tid,extAction:a,extMethod:b.name,extType:"rpc",extUpload:String(g)};Ext.apply(f,{form:Ext.getDom(c),isUpload:g,params:d&&Ext.isObject(d.params)?Ext.apply(h,d.params):h}),this.fireEvent("call",this,f),this.processForm(f)}},processForm:function(a){Ext.Ajax.request({url:this.url,params:a.params,callback:this.onData,scope:this,form:a.form,isUpload:a.isUpload,ts:a})},createMethod:function(a,b){var c;return c=b.formHandler?function(c,d,e){this.doForm(a,b,c,d,e)}.createDelegate(this):function(){this.doCall(a,b,Array.prototype.slice.call(arguments,0))}.createDelegate(this),c.directCfg={action:a,method:b},c},getTransaction:function(a){return a&&a.tid?Ext.Direct.getTransaction(a.tid):null},doCallback:function(a,b){var c=b.status?"success":"failure";if(a&&a.cb){var d=a.cb,e=Ext.isDefined(b.result)?b.result:b.data;Ext.isFunction(d)?d(e,b):(Ext.callback(d[c],d.scope,[e,b]),Ext.callback(d.callback,d.scope,[e,b]))}}}),Ext.Direct.PROVIDERS.remoting=Ext.direct.RemotingProvider,Ext.Resizable=function(a,b){if(this.el=Ext.get(a),b&&b.wrap){if(b.resizeChild=this.el,this.el=this.el.wrap("object"==typeof b.wrap?b.wrap:{cls:"xresizable-wrap"}),this.el.id=this.el.dom.id=b.resizeChild.id+"-rzwrap",this.el.setStyle("overflow","hidden"),this.el.setPositioning(b.resizeChild.getPositioning()),b.resizeChild.clearPositioning(),!b.width||!b.height){var c=b.resizeChild.getSize();this.el.setSize(c.width,c.height)}b.pinned&&!b.adjustments&&(b.adjustments="auto")}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody()),this.proxy.unselectable(),this.proxy.enableDisplayMode("block"),Ext.apply(this,b),this.pinned&&(this.disableTrackOver=!0,this.el.addClass("x-resizable-pinned"));var d=this.el.getStyle("position");"absolute"!=d&&"fixed"!=d&&this.el.setStyle("position","relative"),this.handles||(this.handles="s,e,se",this.multiDirectional&&(this.handles+=",n,w")),"all"==this.handles&&(this.handles="n s e w ne nw se sw");for(var e=this.handles.split(/\s*?[,;]\s*?| /),f=Ext.Resizable.positions,g=0,h=e.length;h>g;g++)if(e[g]&&f[e[g]]){var i=f[e[g]];this[i]=new Ext.Resizable.Handle(this,i,this.disableTrackOver,this.transparent)}if(this.corner=this.southeast,(-1!=this.handles.indexOf("n")||-1!=this.handles.indexOf("w"))&&(this.updateBox=!0),this.activeHandle=null,this.resizeChild&&(this.resizeChild="boolean"==typeof this.resizeChild?Ext.get(this.el.dom.firstChild,!0):Ext.get(this.resizeChild,!0)),"auto"==this.adjustments){var j=this.resizeChild,k=this.west,l=this.east,m=this.north,e=this.south;j&&(k||m)&&(j.position("relative"),j.setLeft(k?k.el.getWidth():0),j.setTop(m?m.el.getHeight():0)),this.adjustments=[(l?-l.el.getWidth():0)+(k?-k.el.getWidth():0),(m?-m.el.getHeight():0)+(e?-e.el.getHeight():0)-1]}this.draggable&&(this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id}),this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id),this.constrainTo&&this.dd.constrainTo(this.constrainTo)),this.addEvents("beforeresize","resize"),null!==this.width&&null!==this.height?this.resizeTo(this.width,this.height):this.updateChildSize(),Ext.isIE&&(this.el.dom.style.zoom=1),Ext.Resizable.superclass.constructor.call(this)},Ext.extend(Ext.Resizable,Ext.util.Observable,{adjustments:[0,0],animate:!1,disableTrackOver:!1,draggable:!1,duration:.35,dynamic:!1,easing:"easeOutStrong",enabled:!0,handles:!1,multiDirectional:!1,height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:5,minWidth:5,maxHeight:1e4,maxWidth:1e4,minX:0,minY:0,pinned:!1,preserveRatio:!1,resizeChild:!1,transparent:!1,resizeTo:function(a,b){this.el.setSize(a,b),this.updateChildSize(),this.fireEvent("resize",this,a,b,null)},startSizing:function(a,b){if(this.fireEvent("beforeresize",this,a),this.enabled){if(this.overlay||(this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody()),this.overlay.unselectable(),this.overlay.enableDisplayMode("block"),this.overlay.on({scope:this,mousemove:this.onMouseMove,mouseup:this.onMouseUp})),this.overlay.setStyle("cursor",b.el.getStyle("cursor")),this.resizing=!0,this.startBox=this.el.getBox(),this.startPoint=a.getXY(),this.offsets=[this.startBox.x+this.startBox.width-this.startPoint[0],this.startBox.y+this.startBox.height-this.startPoint[1]],this.overlay.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0)),this.overlay.show(),this.constrainTo){var c=Ext.get(this.constrainTo);this.resizeRegion=c.getRegion().adjust(c.getFrameWidth("t"),c.getFrameWidth("l"),-c.getFrameWidth("b"),-c.getFrameWidth("r"))}this.proxy.setStyle("visibility","hidden"),this.proxy.show(),this.proxy.setBox(this.startBox),this.dynamic||this.proxy.setStyle("visibility","visible")}},onMouseDown:function(a,b){this.enabled&&(b.stopEvent(),this.activeHandle=a,this.startSizing(b,a))},onMouseUp:function(a){this.activeHandle=null;var b=this.resizeElement();this.resizing=!1,this.handleOut(),this.overlay.hide(),this.proxy.hide(),this.fireEvent("resize",this,b.width,b.height,a)},updateChildSize:function(){if(this.resizeChild){var a=this.el,b=this.resizeChild,c=this.adjustments;if(a.dom.offsetWidth){var d=a.getSize(!0);b.setSize(d.width+c[0],d.height+c[1])}Ext.isIE&&setTimeout(function(){if(a.dom.offsetWidth){var d=a.getSize(!0);b.setSize(d.width+c[0],d.height+c[1])}},10)}},snap:function(a,b,c){if(!b||!a)return a;var d=a,e=a%b;return e>0&&(d=e>b/2?a+(b-e):a-e),Math.max(c,d)},resizeElement:function(){var a=this.proxy.getBox();return this.updateBox?this.el.setBox(a,!1,this.animate,this.duration,null,this.easing):this.el.setSize(a.width,a.height,this.animate,this.duration,null,this.easing),this.updateChildSize(),this.dynamic||this.proxy.hide(),this.draggable&&this.constrainTo&&(this.dd.resetConstraints(),this.dd.constrainTo(this.constrainTo)),a},constrain:function(a,b,c,d){return c>a-b?b=a-c:a-b>d&&(b=a-d),b},onMouseMove:function(a){if(this.enabled&&this.activeHandle)try{if(this.resizeRegion&&!this.resizeRegion.contains(a.getPoint()))return;var b,c,d=this.curSize||this.startBox,e=this.startBox.x,f=this.startBox.y,g=d.width,h=d.height,i=g,j=h,k=this.minWidth,l=this.minHeight,m=this.maxWidth,n=this.maxHeight,o=this.widthIncrement,p=this.heightIncrement,q=a.getXY(),r=-(this.startPoint[0]-Math.max(this.minX,q[0])),s=-(this.startPoint[1]-Math.max(this.minY,q[1])),t=this.activeHandle.position;switch(t){case"east":g+=r,g=Math.min(Math.max(k,g),m);break;case"south":h+=s,h=Math.min(Math.max(l,h),n);break;case"southeast":g+=r,h+=s,g=Math.min(Math.max(k,g),m),h=Math.min(Math.max(l,h),n);break;case"north":s=this.constrain(h,s,l,n),f+=s,h-=s;break;case"west":r=this.constrain(g,r,k,m),e+=r,g-=r;break;case"northeast":g+=r,g=Math.min(Math.max(k,g),m),s=this.constrain(h,s,l,n),f+=s,h-=s;break;case"northwest":r=this.constrain(g,r,k,m),s=this.constrain(h,s,l,n),f+=s,h-=s,e+=r,g-=r;break;case"southwest":r=this.constrain(g,r,k,m),h+=s,h=Math.min(Math.max(l,h),n),e+=r,g-=r}var u=this.snap(g,o,k),v=this.snap(h,p,l);if(u!=g||v!=h){switch(t){case"northeast":f-=v-h;break;case"north":f-=v-h;break;case"southwest":e-=u-g;break;case"west":e-=u-g;break;case"northwest":e-=u-g,f-=v-h}g=u,h=v}if(this.preserveRatio)switch(t){case"southeast":case"east":h=j*(g/i),h=Math.min(Math.max(l,h),n),g=i*(h/j);break;case"south":g=i*(h/j),g=Math.min(Math.max(k,g),m),h=j*(g/i);break;case"northeast":g=i*(h/j),g=Math.min(Math.max(k,g),m),h=j*(g/i);break;case"north":b=g,g=i*(h/j),g=Math.min(Math.max(k,g),m),h=j*(g/i),e+=(b-g)/2;break;case"southwest":h=j*(g/i),h=Math.min(Math.max(l,h),n),b=g,g=i*(h/j),e+=b-g;break;case"west":c=h,h=j*(g/i),h=Math.min(Math.max(l,h),n),f+=(c-h)/2,b=g,g=i*(h/j),e+=b-g;break;case"northwest":b=g,c=h,h=j*(g/i),h=Math.min(Math.max(l,h),n),g=i*(h/j),f+=c-h,e+=b-g}this.proxy.setBounds(e,f,g,h),this.dynamic&&this.resizeElement()}catch(w){}},handleOver:function(){this.enabled&&this.el.addClass("x-resizable-over")},handleOut:function(){this.resizing||this.el.removeClass("x-resizable-over")},getEl:function(){return this.el},getResizeChild:function(){return this.resizeChild},destroy:function(a){Ext.destroy(this.dd,this.overlay,this.proxy),this.overlay=null,this.proxy=null;var b=Ext.Resizable.positions;for(var c in b)"function"!=typeof b[c]&&this[b[c]]&&this[b[c]].destroy();a&&(this.el.update(""),Ext.destroy(this.el),this.el=null),this.purgeListeners()},syncHandleHeight:function(){var a=this.el.getHeight(!0);this.west&&this.west.el.setHeight(a),this.east&&this.east.el.setHeight(a)}}),Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},Ext.Resizable.Handle=function(a,b,c,d){if(!this.tpl){var e=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});e.compile(),Ext.Resizable.Handle.prototype.tpl=e}this.position=b,this.rz=a,this.el=this.tpl.append(a.el.dom,[this.position],!0),this.el.unselectable(),d&&this.el.setOpacity(0),this.el.on("mousedown",this.onMouseDown,this),c||this.el.on({scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut})},Ext.Resizable.Handle.prototype={afterResize:function(){},onMouseDown:function(a){this.rz.onMouseDown(this,a)},onMouseOver:function(a){this.rz.handleOver(this,a)},onMouseOut:function(a){this.rz.handleOut(this,a)},destroy:function(){Ext.destroy(this.el),this.el=null}},Ext.Window=Ext.extend(Ext.Panel,{baseCls:"x-window",resizable:!0,draggable:!0,closable:!0,closeAction:"close",constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:100,minWidth:200,expandOnShow:!0,collapsible:!1,initHidden:void 0,hidden:!0,monitorResize:!0,elements:"header,body",frame:!0,floating:!0,initComponent:function(){this.initTools(),Ext.Window.superclass.initComponent.call(this),this.addEvents("resize","maximize","minimize","restore"),Ext.isDefined(this.initHidden)&&(this.hidden=this.initHidden),this.hidden===!1&&(this.hidden=!0,this.show())},getState:function(){return Ext.apply(Ext.Window.superclass.getState.call(this)||{},this.getBox(!0))},onRender:function(a,b){Ext.Window.superclass.onRender.call(this,a,b),this.plain&&this.el.addClass("x-window-plain"),this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"}),this.focusEl.swallowEvent("click",!0),this.proxy=this.el.createProxy("x-window-proxy"),this.proxy.enableDisplayMode("block"),this.modal&&(this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom),this.mask.enableDisplayMode("block"),this.mask.hide(),this.mon(this.mask,"click",this.focus,this)),this.maximizable&&this.mon(this.header,"dblclick",this.toggleMaximize,this)},initEvents:function(){if(Ext.Window.superclass.initEvents.call(this),this.animateTarget&&this.setAnimateTarget(this.animateTarget),this.resizable&&(this.resizer=new Ext.Resizable(this.el,{minWidth:this.minWidth,minHeight:this.minHeight,handles:this.resizeHandles||"all",pinned:!0,resizeElement:this.resizerAction}),this.resizer.window=this,this.mon(this.resizer,"beforeresize",this.beforeResize,this)),this.draggable&&this.header.addClass("x-window-draggable"),this.mon(this.el,"mousedown",this.toFront,this),this.manager=this.manager||Ext.WindowMgr,this.manager.register(this),this.maximized&&(this.maximized=!1,this.maximize()),this.closable){var a=this.getKeyMap();a.on(27,this.onEsc,this),a.disable()}},initDraggable:function(){this.dd=new Ext.Window.DD(this)},onEsc:function(){this[this.closeAction]()},beforeDestroy:function(){this.rendered&&(this.hide(),this.doAnchor&&(Ext.EventManager.removeResizeListener(this.doAnchor,this),Ext.EventManager.un(window,"scroll",this.doAnchor,this)),Ext.destroy(this.focusEl,this.resizer,this.dd,this.proxy,this.mask)),Ext.Window.superclass.beforeDestroy.call(this)},onDestroy:function(){this.manager&&this.manager.unregister(this),Ext.Window.superclass.onDestroy.call(this)},initTools:function(){this.minimizable&&this.addTool({id:"minimize",handler:this.minimize.createDelegate(this,[])}),this.maximizable&&(this.addTool({id:"maximize",handler:this.maximize.createDelegate(this,[])}),this.addTool({id:"restore",handler:this.restore.createDelegate(this,[]),hidden:!0})),this.closable&&this.addTool({id:"close",handler:this[this.closeAction].createDelegate(this,[])})},resizerAction:function(){var a=this.proxy.getBox();return this.proxy.hide(),this.window.handleResize(a),a},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getFrameHeight()+40),this.resizer.minWidth=Math.max(this.minWidth,this.getFrameWidth()+40),this.resizeBox=this.el.getBox()},updateHandles:function(){Ext.isIE&&this.resizer&&(this.resizer.syncHandleHeight(),this.el.repaint())},handleResize:function(a){var b=this.resizeBox;b.x!=a.x||b.y!=a.y?this.updateBox(a):this.setSize(a),this.focus(),this.updateHandles(),this.saveState()},focus:function(){var a=this.focusEl,b=this.defaultButton;Ext.isDefined(b)&&(a=Ext.isNumber(b)&&this.fbar?this.fbar.items.get(b):Ext.isString(b)?Ext.getCmp(b):b),a=a||this.focusEl,a.focus.defer(10,a)},setAnimateTarget:function(a){a=Ext.get(a),this.animateTarget=a},beforeShow:function(){if(delete this.el.lastXY,delete this.el.lastLT,void 0===this.x||void 0===this.y){var a=this.el.getAlignToXY(this.container,"c-c"),b=this.el.translatePoints(a[0],a[1]);this.x=void 0===this.x?b.left:this.x,this.y=void 0===this.y?b.top:this.y}this.el.setLeftTop(this.x,this.y),this.expandOnShow&&this.expand(!1),this.modal&&(Ext.getBody().addClass("x-body-masked"),this.mask.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0)),this.mask.show())},show:function(a,b,c){return this.rendered||this.render(Ext.getBody()),this.hidden===!1?(this.toFront(),this):this.fireEvent("beforeshow",this)===!1?this:(b&&this.on("show",b,c,{single:!0}),this.hidden=!1,Ext.isDefined(a)&&this.setAnimateTarget(a),this.beforeShow(),this.animateTarget?this.animShow():this.afterShow(),this)},afterShow:function(a){if(this.proxy.hide(),this.el.setStyle("display","block"),this.el.show(),this.maximized&&this.fitContainer(),Ext.isMac&&Ext.isGecko2&&this.cascade(this.setAutoScroll),(this.monitorResize||this.modal||this.constrain||this.constrainHeader)&&Ext.EventManager.onWindowResize(this.onWindowResize,this),this.doConstrain(),this.doLayout(),this.keyMap&&this.keyMap.enable(),this.toFront(),this.updateHandles(),a&&(Ext.isIE||Ext.isWebKit)){var b=this.getSize();this.onResize(b.width,b.height)}this.onShow(),this.fireEvent("show",this)},animShow:function(){this.proxy.show(),this.proxy.setBox(this.animateTarget.getBox()),this.proxy.setOpacity(0);var a=this.getBox();this.el.setStyle("display","none"),this.proxy.shift(Ext.apply(a,{callback:this.afterShow.createDelegate(this,[!0],!1),scope:this,easing:"easeNone",duration:.25,opacity:.5}))},hide:function(a,b,c){return this.hidden||this.fireEvent("beforehide",this)===!1?this:(b&&this.on("hide",b,c,{single:!0}),this.hidden=!0,void 0!==a&&this.setAnimateTarget(a),this.modal&&(this.mask.hide(),Ext.getBody().removeClass("x-body-masked")),this.animateTarget?this.animHide():(this.el.hide(),this.afterHide()),this)},afterHide:function(){this.proxy.hide(),(this.monitorResize||this.modal||this.constrain||this.constrainHeader)&&Ext.EventManager.removeResizeListener(this.onWindowResize,this),this.keyMap&&this.keyMap.disable(),this.onHide(),this.fireEvent("hide",this)},animHide:function(){this.proxy.setOpacity(.5),this.proxy.show();var a=this.getBox(!1);this.proxy.setBox(a),this.el.hide(),this.proxy.shift(Ext.apply(this.animateTarget.getBox(),{callback:this.afterHide,scope:this,duration:.25,easing:"easeNone",opacity:0}))},onShow:Ext.emptyFn,onHide:Ext.emptyFn,onWindowResize:function(){if(this.maximized&&this.fitContainer(),this.modal){this.mask.setSize("100%","100%");{this.mask.dom.offsetHeight}this.mask.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0))}this.doConstrain()},doConstrain:function(){if(this.constrain||this.constrainHeader){var a;if(this.constrain)a={right:this.el.shadowOffset,left:this.el.shadowOffset,bottom:this.el.shadowOffset};else{var b=this.getSize();a={right:-(b.width-100),bottom:-(b.height-25)}}var c=this.el.getConstrainToXY(this.container,!0,a);c&&this.setPosition(c[0],c[1])}},ghost:function(a){var b=this.createGhost(a),c=this.getBox(!0);return b.setLeftTop(c.x,c.y),b.setWidth(c.width),this.el.hide(),this.activeGhost=b,b},unghost:function(a,b){this.activeGhost&&(a!==!1&&(this.el.show(),this.focus(),Ext.isMac&&Ext.isGecko2&&this.cascade(this.setAutoScroll)),b!==!1&&this.setPosition(this.activeGhost.getLeft(!0),this.activeGhost.getTop(!0)),this.activeGhost.hide(),this.activeGhost.remove(),delete this.activeGhost)},minimize:function(){return this.fireEvent("minimize",this),this},close:function(){this.fireEvent("beforeclose",this)!==!1&&(this.hidden?this.doClose():this.hide(null,this.doClose,this))},doClose:function(){this.fireEvent("close",this),this.destroy()},maximize:function(){return this.maximized||(this.expand(!1),this.restoreSize=this.getSize(),this.restorePos=this.getPosition(!0),this.maximizable&&(this.tools.maximize.hide(),this.tools.restore.show()),this.maximized=!0,this.el.disableShadow(),this.dd&&this.dd.lock(),this.collapsible&&this.tools.toggle.hide(),this.el.addClass("x-window-maximized"),this.container.addClass("x-window-maximized-ct"),this.setPosition(0,0),this.fitContainer(),this.fireEvent("maximize",this)),this},restore:function(){if(this.maximized){var a=this.tools;this.el.removeClass("x-window-maximized"),a.restore&&a.restore.hide(),a.maximize&&a.maximize.show(),this.setPosition(this.restorePos[0],this.restorePos[1]),this.setSize(this.restoreSize.width,this.restoreSize.height),delete this.restorePos,delete this.restoreSize,this.maximized=!1,this.el.enableShadow(!0),this.dd&&this.dd.unlock(),this.collapsible&&a.toggle&&a.toggle.show(),this.container.removeClass("x-window-maximized-ct"),this.doConstrain(),this.fireEvent("restore",this)}return this},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},fitContainer:function(){var a=this.container.getViewSize(!1);
    this.setSize(a.width,a.height)},setZIndex:function(a){this.modal&&this.mask.setStyle("z-index",a),this.el.setZIndex(++a),a+=5,this.resizer&&this.resizer.proxy.setStyle("z-index",++a),this.lastZIndex=a},alignTo:function(a,b,c){var d=this.el.getAlignToXY(a,b,c);return this.setPagePosition(d[0],d[1]),this},anchorTo:function(a,b,c,d){this.doAnchor&&(Ext.EventManager.removeResizeListener(this.doAnchor,this),Ext.EventManager.un(window,"scroll",this.doAnchor,this)),this.doAnchor=function(){this.alignTo(a,b,c)},Ext.EventManager.onWindowResize(this.doAnchor,this);var e=typeof d;return"undefined"!=e&&Ext.EventManager.on(window,"scroll",this.doAnchor,this,{buffer:"number"==e?d:50}),this.doAnchor(),this},toFront:function(a){return this.manager.bringToFront(this)&&(a&&a.getTarget().focus||this.focus()),this},setActive:function(a){a?(this.maximized||this.el.enableShadow(!0),this.fireEvent("activate",this)):(this.el.disableShadow(),this.fireEvent("deactivate",this))},toBack:function(){return this.manager.sendToBack(this),this},center:function(){var a=this.el.getAlignToXY(this.container,"c-c");return this.setPagePosition(a[0],a[1]),this}}),Ext.reg("window",Ext.Window),Ext.Window.DD=function(a){this.win=a,Ext.Window.DD.superclass.constructor.call(this,a.el.id,"WindowDD-"+a.id),this.setHandleElId(a.header.id),this.scroll=!1},Ext.extend(Ext.Window.DD,Ext.dd.DD,{moveOnly:!0,headerOffsets:[100,25],startDrag:function(){var a=this.win;if(this.proxy=a.ghost(),a.constrain!==!1){var b=a.el.shadowOffset;this.constrainTo(a.container,{right:b,left:b,bottom:b})}else if(a.constrainHeader!==!1){var c=this.proxy.getSize();this.constrainTo(a.container,{right:-(c.width-this.headerOffsets[0]),bottom:-(c.height-this.headerOffsets[1])})}},b4Drag:Ext.emptyFn,onDrag:function(a){this.alignElWithMouse(this.proxy,a.getPageX(),a.getPageY())},endDrag:function(){this.win.unghost(),this.win.saveState()}}),Ext.WindowGroup=function(){var a={},b=[],c=null,d=function(a,b){return!a._lastAccess||a._lastAccess<b._lastAccess?-1:1},e=function(){var a=b,c=a.length;if(c>0){a.sort(d);for(var e=a[0].manager.zseed,f=0;c>f;f++){var h=a[f];h&&!h.hidden&&h.setZIndex(e+10*f)}}g()},f=function(a){a!=c&&(c&&c.setActive(!1),c=a,a&&a.setActive(!0))},g=function(){for(var a=b.length-1;a>=0;--a)if(!b[a].hidden)return void f(b[a]);f(null)};return{zseed:9e3,register:function(c){c.manager&&c.manager.unregister(c),c.manager=this,a[c.id]=c,b.push(c),c.on("hide",g)},unregister:function(c){delete c.manager,delete a[c.id],c.un("hide",g),b.remove(c)},get:function(b){return"object"==typeof b?b:a[b]},bringToFront:function(a){return a=this.get(a),a!=c?(a._lastAccess=(new Date).getTime(),e(),!0):!1},sendToBack:function(a){return a=this.get(a),a._lastAccess=-(new Date).getTime(),e(),a},hideAll:function(){for(var b in a)a[b]&&"function"!=typeof a[b]&&a[b].isVisible()&&a[b].hide()},getActive:function(){return c},getBy:function(a,c){for(var d=[],e=b.length-1;e>=0;--e){var f=b[e];a.call(c||f,f)!==!1&&d.push(f)}return d},each:function(b,c){for(var d in a)if(a[d]&&"function"!=typeof a[d]&&b.call(c||a[d],a[d])===!1)return}}},Ext.WindowMgr=new Ext.WindowGroup,Ext.MessageBox=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m="",n="",o=["ok","yes","no","cancel"],p=function(c){j[c].blur(),a.isVisible()&&(a.hide(),q(),Ext.callback(b.fn,b.scope||window,[c,k.dom.value,b],1))},q=function(){b&&b.cls&&a.el.removeClass(b.cls),h.reset()},r=function(b){var c,d=0;return b?(a.footer.dom.style.display="",Ext.iterate(j,function(a,e){c=b[a],c?(e.show(),e.setText(Ext.isString(c)?c:Ext.MessageBox.buttonText[a]),d+=e.getEl().getWidth()+15):e.hide()}),d):(Ext.each(o,function(a){j[a].hide()}),d)};return{getDialog:function(k){if(!a){var l=[];j={},Ext.each(o,function(a){l.push(j[a]=new Ext.Button({text:this.buttonText[a],handler:p.createCallback(a),hideMode:"offsets"}))},this),a=new Ext.Window({autoCreate:!0,title:k,resizable:!1,constrain:!0,constrainHeader:!0,minimizable:!1,maximizable:!1,stateful:!1,modal:!0,shim:!0,buttonAlign:"center",width:400,height:100,minHeight:80,plain:!0,footer:!0,closable:!0,close:function(){p(b&&b.buttons&&b.buttons.no&&!b.buttons.cancel?"no":"cancel")},fbar:new Ext.Toolbar({items:l,enableOverflow:!1})}),a.render(document.body),a.getEl().addClass("x-window-dlg"),c=a.mask,d=a.body.createChild({html:'<div class="ext-mb-icon"></div><div class="ext-mb-content"><span class="ext-mb-text"></span><br /><div class="ext-mb-fix-cursor"><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea></div></div>'}),i=Ext.get(d.dom.firstChild);var m=d.dom.childNodes[1];e=Ext.get(m.firstChild),f=Ext.get(m.childNodes[2].firstChild),f.enableDisplayMode(),f.addKeyListener([10,13],function(){a.isVisible()&&b&&b.buttons&&(b.buttons.ok?p("ok"):b.buttons.yes&&p("yes"))}),g=Ext.get(m.childNodes[2].childNodes[1]),g.enableDisplayMode(),h=new Ext.ProgressBar({renderTo:d}),d.createChild({cls:"x-clear"})}return a},updateText:function(c){a.isVisible()||b.width||a.setSize(this.maxWidth,100),e.update(c||"&#160;");var d=""!=n?i.getWidth()+i.getMargins("lr"):0,f=e.getWidth()+e.getMargins("lr"),g=a.getFrameWidth("lr"),j=a.body.getFrameWidth("lr");Ext.isIE&&d>0&&(d+=3);var m=Math.max(Math.min(b.width||d+f+g+j,this.maxWidth),Math.max(b.minWidth||this.minWidth,l||0));return b.prompt===!0&&k.setWidth(m-d-g-j),(b.progress===!0||b.wait===!0)&&h.setSize(m-d-g-j),Ext.isIE&&m==l&&(m+=4),a.setSize(m,"auto").center(),this},updateProgress:function(a,b,c){return h.updateProgress(a,b),c&&this.updateText(c),this},isVisible:function(){return a&&a.isVisible()},hide:function(){var b=a?a.activeGhost:null;return(this.isVisible()||b)&&(a.hide(),q(),b&&a.unghost(!1,!1)),this},show:function(d){this.isVisible()&&this.hide(),b=d;var e=this.getDialog(b.title||"&#160;");e.setTitle(b.title||"&#160;");var i=b.closable!==!1&&b.progress!==!0&&b.wait!==!0;if(e.tools.close.setDisplayed(i),k=f,b.prompt=b.prompt||(b.multiline?!0:!1),b.prompt?b.multiline?(f.hide(),g.show(),g.setHeight(Ext.isNumber(b.multiline)?b.multiline:this.defaultTextHeight),k=g):(f.show(),g.hide()):(f.hide(),g.hide()),k.dom.value=b.value||"",b.prompt)e.focusEl=k;else{var n=b.buttons,o=null;n&&n.ok?o=j.ok:n&&n.yes&&(o=j.yes),o&&(e.focusEl=o)}return b.iconCls&&e.setIconClass(b.iconCls),this.setIcon(Ext.isDefined(b.icon)?b.icon:m),l=r(b.buttons),h.setVisible(b.progress===!0||b.wait===!0),this.updateProgress(0,b.progressText),this.updateText(b.msg),b.cls&&e.el.addClass(b.cls),e.proxyDrag=b.proxyDrag===!0,e.modal=b.modal!==!1,e.mask=b.modal!==!1?c:!1,e.isVisible()||(document.body.appendChild(a.el.dom),e.setAnimateTarget(b.animEl),e.on("show",function(){i===!0?e.keyMap.enable():e.keyMap.disable()},this,{single:!0}),e.show(b.animEl)),b.wait===!0&&h.wait(b.waitConfig),this},setIcon:function(b){return a?(m=void 0,b&&""!=b?(i.removeClass("x-hidden"),i.replaceClass(n,b),d.addClass("x-dlg-icon"),n=b):(i.replaceClass(n,"x-hidden"),d.removeClass("x-dlg-icon"),n=""),this):void(m=b)},progress:function(a,b,c){return this.show({title:a,msg:b,buttons:!1,progress:!0,closable:!1,minWidth:this.minProgressWidth,progressText:c}),this},wait:function(a,b,c){return this.show({title:b,msg:a,buttons:!1,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:c}),this},alert:function(a,b,c,d){return this.show({title:a,msg:b,buttons:this.OK,fn:c,scope:d}),this},confirm:function(a,b,c,d){return this.show({title:a,msg:b,buttons:this.YESNO,fn:c,scope:d,icon:this.QUESTION}),this},prompt:function(a,b,c,d,e,f){return this.show({title:a,msg:b,buttons:this.OKCANCEL,fn:c,minWidth:250,scope:d,prompt:!0,multiline:e,value:f}),this},OK:{ok:!0},CANCEL:{cancel:!0},OKCANCEL:{ok:!0,cancel:!0},YESNO:{yes:!0,no:!0},YESNOCANCEL:{yes:!0,no:!0,cancel:!0},INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}}}(),Ext.Msg=Ext.MessageBox,Ext.dd.PanelProxy=function(a,b){this.panel=a,this.id=this.panel.id+"-ddproxy",Ext.apply(this,b)},Ext.dd.PanelProxy.prototype={insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){this.ghost&&(this.proxy&&(this.proxy.remove(),delete this.proxy),this.panel.el.dom.style.display="",this.ghost.remove(),delete this.ghost)},show:function(){this.ghost||(this.ghost=this.panel.createGhost(void 0,void 0,Ext.getBody()),this.ghost.setXY(this.panel.el.getXY()),this.insertProxy&&(this.proxy=this.panel.el.insertSibling({cls:"x-panel-dd-spacer"}),this.proxy.setSize(this.panel.getSize())),this.panel.el.dom.style.display="none")},repair:function(a,b,c){this.hide(),"function"==typeof b&&b.call(c||this)},moveProxy:function(a,b){this.proxy&&a.insertBefore(this.proxy.dom,b)}},Ext.Panel.DD=function(a,b){this.panel=a,this.dragData={panel:a},this.proxy=new Ext.dd.PanelProxy(a,b),Ext.Panel.DD.superclass.constructor.call(this,a.el,b);var c=a.header;c&&this.setHandleElId(c.id),(c?c:this.panel.body).setStyle("cursor","move"),this.scroll=!1},Ext.extend(Ext.Panel.DD,Ext.dd.DragSource,{showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(){this.proxy.show()},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c)},onInitDrag:function(a,b){return this.onStartDrag(a,b),!0},createFrame:Ext.emptyFn,getDragEl:function(){return this.proxy.ghost.dom},endDrag:function(){this.proxy.hide(),this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX,b-=this.startPageY,this.setDelta(a,b)}}),Ext.state.Provider=function(){this.addEvents("statechange"),this.state={},Ext.state.Provider.superclass.constructor.call(this)},Ext.extend(Ext.state.Provider,Ext.util.Observable,{get:function(a,b){return"undefined"==typeof this.state[a]?b:this.state[a]},clear:function(a){delete this.state[a],this.fireEvent("statechange",this,a,null)},set:function(a,b){this.state[a]=b,this.fireEvent("statechange",this,a,b)},decodeValue:function(a){var b=/^(a|n|d|b|s|o)\:(.*)$/,c=b.exec(unescape(a));if(c&&c[1]){var d=c[1],e=c[2];switch(d){case"n":return parseFloat(e);case"d":return new Date(Date.parse(e));case"b":return"1"==e;case"a":var f=[];return""!=e&&Ext.each(e.split("^"),function(a){f.push(this.decodeValue(a))},this),f;case"o":var f={};return""!=e&&Ext.each(e.split("^"),function(a){var b=a.split("=");f[b[0]]=this.decodeValue(b[1])},this),f;default:return e}}},encodeValue:function(a){var b;if("number"==typeof a)b="n:"+a;else if("boolean"==typeof a)b="b:"+(a?"1":"0");else if(Ext.isDate(a))b="d:"+a.toGMTString();else if(Ext.isArray(a)){for(var c="",d=0,e=a.length;e>d;d++)c+=this.encodeValue(a[d]),d!=e-1&&(c+="^");b="a:"+c}else if("object"==typeof a){var c="";for(var f in a)"function"!=typeof a[f]&&void 0!==a[f]&&(c+=f+"="+this.encodeValue(a[f])+"^");b="o:"+c.substring(0,c.length-1)}else b="s:"+a;return escape(b)}}),Ext.state.Manager=function(){var a=new Ext.state.Provider;return{setProvider:function(b){a=b},get:function(b,c){return a.get(b,c)},set:function(b,c){a.set(b,c)},clear:function(b){a.clear(b)},getProvider:function(){return a}}}(),Ext.state.CookieProvider=function(a){Ext.state.CookieProvider.superclass.constructor.call(this),this.path="/",this.expires=new Date((new Date).getTime()+6048e5),this.domain=null,this.secure=!1,Ext.apply(this,a),this.state=this.readCookies()},Ext.extend(Ext.state.CookieProvider,Ext.state.Provider,{set:function(a,b){return"undefined"==typeof b||null===b?void this.clear(a):(this.setCookie(a,b),void Ext.state.CookieProvider.superclass.set.call(this,a,b))},clear:function(a){this.clearCookie(a),Ext.state.CookieProvider.superclass.clear.call(this,a)},readCookies:function(){for(var a,b={},c=document.cookie+";",d=/\s?(.*?)=(.*?);/g;null!=(a=d.exec(c));){var e=a[1],f=a[2];e&&"ys-"==e.substring(0,3)&&(b[e.substr(3)]=this.decodeValue(f))}return b},setCookie:function(a,b){document.cookie="ys-"+a+"="+this.encodeValue(b)+(null==this.expires?"":"; expires="+this.expires.toGMTString())+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(1==this.secure?"; secure":"")},clearCookie:function(a){document.cookie="ys-"+a+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(1==this.secure?"; secure":"")}}),Ext.DataView=Ext.extend(Ext.BoxComponent,{selectedClass:"x-view-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,last:!1,initComponent:function(){Ext.DataView.superclass.initComponent.call(this),(Ext.isString(this.tpl)||Ext.isArray(this.tpl))&&(this.tpl=new Ext.XTemplate(this.tpl)),this.addEvents("beforeclick","click","mouseenter","mouseleave","containerclick","dblclick","contextmenu","containercontextmenu","selectionchange","beforeselect"),this.store=Ext.StoreMgr.lookup(this.store),this.all=new Ext.CompositeElementLite,this.selected=new Ext.CompositeElementLite},afterRender:function(){Ext.DataView.superclass.afterRender.call(this),this.mon(this.getTemplateTarget(),{click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this}),(this.overClass||this.trackOver)&&this.mon(this.getTemplateTarget(),{mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this}),this.store&&this.bindStore(this.store,!0)},refresh:function(){this.clearSelections(!1,!0);var a=this.getTemplateTarget();a.update("");var b=this.store.getRange();b.length<1?((!this.deferEmptyText||this.hasSkippedEmptyText)&&a.update(this.emptyText),this.all.clear()):(this.tpl.overwrite(a,this.collectData(b,0)),this.all.fill(Ext.query(this.itemSelector,a.dom)),this.updateIndexes(0)),this.hasSkippedEmptyText=!0},getTemplateTarget:function(){return this.el},prepareData:function(a){return a},collectData:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c[c.length]=this.prepareData(a[d].data,b+d,a[d]);return c},bufferRender:function(a){var b=document.createElement("div");return this.tpl.overwrite(b,this.collectData(a)),Ext.query(this.itemSelector,b)},onUpdate:function(a,b){var c=this.store.indexOf(b);if(c>-1){var d=this.isSelected(c),e=this.all.elements[c],f=this.bufferRender([b],c)[0];this.all.replaceElement(c,f,!0),d&&(this.selected.replaceElement(e,f),this.all.item(c).addClass(this.selectedClass)),this.updateIndexes(c,c)}},onAdd:function(a,b,c){if(0===this.all.getCount())return void this.refresh();var d,e=this.bufferRender(b,c),f=this.all.elements;c<this.all.getCount()?(d=this.all.item(c).insertSibling(e,"before",!0),f.splice.apply(f,[c,0].concat(e))):(d=this.all.last().insertSibling(e,"after",!0),f.push.apply(f,e)),this.updateIndexes(c)},onRemove:function(a,b,c){this.deselect(c),this.all.removeElement(c,!0),this.updateIndexes(c),0===this.store.getCount()&&this.refresh()},refreshNode:function(a){this.onUpdate(this.store,this.store.getAt(a))},updateIndexes:function(a,b){var c=this.all.elements;a=a||0,b=b||(0===b?0:c.length-1);for(var d=a;b>=d;d++)c[d].viewIndex=d},getStore:function(){return this.store},bindStore:function(a,b){!b&&this.store&&(a!==this.store&&this.store.autoDestroy?this.store.destroy():(this.store.un("beforeload",this.onBeforeLoad,this),this.store.un("datachanged",this.refresh,this),this.store.un("add",this.onAdd,this),this.store.un("remove",this.onRemove,this),this.store.un("update",this.onUpdate,this),this.store.un("clear",this.refresh,this)),a||(this.store=null)),a&&(a=Ext.StoreMgr.lookup(a),a.on({scope:this,beforeload:this.onBeforeLoad,datachanged:this.refresh,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh})),this.store=a,a&&this.refresh()},findItemFromChild:function(a){return Ext.fly(a).findParent(this.itemSelector,this.getTemplateTarget())},onClick:function(a){var b=a.getTarget(this.itemSelector,this.getTemplateTarget());if(b){var c=this.indexOf(b);this.onItemClick(b,c,a)!==!1&&this.fireEvent("click",this,c,b,a)}else this.fireEvent("containerclick",this,a)!==!1&&this.onContainerClick(a)},onContainerClick:function(){this.clearSelections()},onContextMenu:function(a){var b=a.getTarget(this.itemSelector,this.getTemplateTarget());b?this.fireEvent("contextmenu",this,this.indexOf(b),b,a):this.fireEvent("containercontextmenu",this,a)},onDblClick:function(a){var b=a.getTarget(this.itemSelector,this.getTemplateTarget());b&&this.fireEvent("dblclick",this,this.indexOf(b),b,a)},onMouseOver:function(a){var b=a.getTarget(this.itemSelector,this.getTemplateTarget());b&&b!==this.lastItem&&(this.lastItem=b,Ext.fly(b).addClass(this.overClass),this.fireEvent("mouseenter",this,this.indexOf(b),b,a))},onMouseOut:function(a){this.lastItem&&(a.within(this.lastItem,!0,!0)||(Ext.fly(this.lastItem).removeClass(this.overClass),this.fireEvent("mouseleave",this,this.indexOf(this.lastItem),this.lastItem,a),delete this.lastItem))},onItemClick:function(a,b,c){return this.fireEvent("beforeclick",this,b,a,c)===!1?!1:(this.multiSelect?(this.doMultiSelection(a,b,c),c.preventDefault()):this.singleSelect&&(this.doSingleSelection(a,b,c),c.preventDefault()),!0)},doSingleSelection:function(a,b,c){c.ctrlKey&&this.isSelected(b)?this.deselect(b):this.select(b,!1)},doMultiSelection:function(a,b,c){if(c.shiftKey&&this.last!==!1){var d=this.last;this.selectRange(d,b,c.ctrlKey),this.last=d}else(c.ctrlKey||this.simpleSelect)&&this.isSelected(b)?this.deselect(b):this.select(b,c.ctrlKey||c.shiftKey||this.simpleSelect)},getSelectionCount:function(){return this.selected.getCount()},getSelectedNodes:function(){return this.selected.elements},getSelectedIndexes:function(){for(var a=[],b=this.selected.elements,c=0,d=b.length;d>c;c++)a.push(b[c].viewIndex);return a},getSelectedRecords:function(){for(var a=[],b=this.selected.elements,c=0,d=b.length;d>c;c++)a[a.length]=this.store.getAt(b[c].viewIndex);return a},getRecords:function(a){for(var b=[],c=a,d=0,e=c.length;e>d;d++)b[b.length]=this.store.getAt(c[d].viewIndex);return b},getRecord:function(a){return this.store.getAt(a.viewIndex)},clearSelections:function(a,b){(this.multiSelect||this.singleSelect)&&this.selected.getCount()>0&&(b||this.selected.removeClass(this.selectedClass),this.selected.clear(),this.last=!1,a||this.fireEvent("selectionchange",this,this.selected.elements))},isSelected:function(a){return this.selected.contains(this.getNode(a))},deselect:function(a){this.isSelected(a)&&(a=this.getNode(a),this.selected.removeElement(a),this.last==a.viewIndex&&(this.last=!1),Ext.fly(a).removeClass(this.selectedClass),this.fireEvent("selectionchange",this,this.selected.elements))},select:function(a,b,c){if(Ext.isArray(a)){b||this.clearSelections(!0);for(var d=0,e=a.length;e>d;d++)this.select(a[d],!0,!0);c||this.fireEvent("selectionchange",this,this.selected.elements)}else{var f=this.getNode(a);b||this.clearSelections(!0),f&&!this.isSelected(f)&&this.fireEvent("beforeselect",this,f,this.selected.elements)!==!1&&(Ext.fly(f).addClass(this.selectedClass),this.selected.add(f),this.last=f.viewIndex,c||this.fireEvent("selectionchange",this,this.selected.elements))}},selectRange:function(a,b,c){c||this.clearSelections(!0),this.select(this.getNodes(a,b),!0)},getNode:function(a){return Ext.isString(a)?document.getElementById(a):Ext.isNumber(a)?this.all.elements[a]:a},getNodes:function(a,b){var c=this.all.elements;a=a||0,b=Ext.isDefined(b)?b:Math.max(c.length-1,0);var d,e=[];if(b>=a)for(d=a;b>=d&&c[d];d++)e.push(c[d]);else for(d=a;d>=b&&c[d];d--)e.push(c[d]);return e},indexOf:function(a){return a=this.getNode(a),Ext.isNumber(a.viewIndex)?a.viewIndex:this.all.indexOf(a)},onBeforeLoad:function(){this.loadingText&&(this.clearSelections(!1,!0),this.getTemplateTarget().update('<div class="loading-indicator">'+this.loadingText+"</div>"),this.all.clear())},onDestroy:function(){this.all.clear(),this.selected.clear(),Ext.DataView.superclass.onDestroy.call(this),this.bindStore(null)}}),Ext.DataView.prototype.setStore=Ext.DataView.prototype.bindStore,Ext.reg("dataview",Ext.DataView),Ext.list.ListView=Ext.extend(Ext.DataView,{itemSelector:"dl",selectedClass:"x-list-selected",overClass:"x-list-over",scrollOffset:void 0,columnResize:!0,columnSort:!0,maxWidth:Ext.isIE?99:100,initComponent:function(){this.columnResize&&(this.colResizer=new Ext.list.ColumnResizer(this.colResizer),this.colResizer.init(this)),this.columnSort&&(this.colSorter=new Ext.list.Sorter(this.columnSort),this.colSorter.init(this)),this.internalTpl||(this.internalTpl=new Ext.XTemplate('<div class="x-list-header"><div class="x-list-header-inner">','<tpl for="columns">','<div style="width:{[values.width*100]}%;text-align:{align};"><em unselectable="on" id="',this.id,'-xlhd-{#}">',"{header}","</em></div>","</tpl>",'<div class="x-clear"></div>',"</div></div>",'<div class="x-list-body"><div class="x-list-body-inner">',"</div></div>")),this.tpl||(this.tpl=new Ext.XTemplate('<tpl for="rows">',"<dl>",'<tpl for="parent.columns">','<dt style="width:{[values.width*100]}%;text-align:{align};">','<em unselectable="on"<tpl if="cls"> class="{cls}</tpl>">',"{[values.tpl.apply(parent)]}","</em></dt>","</tpl>",'<div class="x-clear"></div>',"</dl>","</tpl>"));for(var a=this.columns,b=0,c=0,d=a.length,e=[],f=0;d>f;f++){var g=a[f];g.isColumn||(g.xtype=g.xtype?/^lv/.test(g.xtype)?g.xtype:"lv"+g.xtype:"lvcolumn",g=Ext.create(g)),g.width&&(b+=100*g.width,c++),e.push(g)}if(a=this.columns=e,d>c){var h=d-c;if(b<this.maxWidth)for(var i=(this.maxWidth-b)/h/100,j=0;d>j;j++){var g=a[j];g.width||(g.width=i)}}Ext.list.ListView.superclass.initComponent.call(this)},onRender:function(){this.autoEl={cls:"x-list-wrap"},Ext.list.ListView.superclass.onRender.apply(this,arguments),this.internalTpl.overwrite(this.el,{columns:this.columns}),this.innerBody=Ext.get(this.el.dom.childNodes[1].firstChild),this.innerHd=Ext.get(this.el.dom.firstChild.firstChild),this.hideHeaders&&(this.el.dom.firstChild.style.display="none")},getTemplateTarget:function(){return this.innerBody},collectData:function(){var a=Ext.list.ListView.superclass.collectData.apply(this,arguments);return{columns:this.columns,rows:a}},verifyInternalSize:function(){this.lastSize&&this.onResize(this.lastSize.width,this.lastSize.height)},onResize:function(a,b){var c=this.innerBody.dom,d=this.innerHd.dom;if(c){var e=c.parentNode;if(Ext.isNumber(a)){var f=a-Ext.num(this.scrollOffset,Ext.getScrollBarWidth());this.reserveScrollOffset||e.offsetWidth-e.clientWidth>10?(c.style.width=f+"px",d.style.width=f+"px"):(c.style.width=a+"px",d.style.width=a+"px",setTimeout(function(){e.offsetWidth-e.clientWidth>10&&(c.style.width=f+"px",d.style.width=f+"px")},10))}Ext.isNumber(b)&&(e.style.height=b-d.parentNode.offsetHeight+"px")}},updateIndexes:function(){Ext.list.ListView.superclass.updateIndexes.apply(this,arguments),this.verifyInternalSize()},findHeaderIndex:function(a){a=a.dom||a;for(var b,c=a.parentNode,d=c.parentNode.childNodes,e=0;b=d[e];e++)if(b==c)return e;return-1},setHdWidths:function(){for(var a=this.innerHd.dom.getElementsByTagName("div"),b=0,c=this.columns,d=c.length;d>b;b++)a[b].style.width=100*c[b].width+"%"}}),Ext.reg("listview",Ext.list.ListView),Ext.ListView=Ext.list.ListView,Ext.list.Column=Ext.extend(Object,{isColumn:!0,align:"left",header:"",width:null,cls:"",constructor:function(a){a.tpl?Ext.isString(a.tpl)&&(a.tpl=new Ext.XTemplate(a.tpl)):a.tpl=new Ext.XTemplate("{"+a.dataIndex+"}"),Ext.apply(this,a)}}),Ext.reg("lvcolumn",Ext.list.Column),Ext.list.NumberColumn=Ext.extend(Ext.list.Column,{format:"0,000.00",constructor:function(a){a.tpl=a.tpl||new Ext.XTemplate("{"+a.dataIndex+':number("'+(a.format||this.format)+'")}'),Ext.list.NumberColumn.superclass.constructor.call(this,a)}}),Ext.reg("lvnumbercolumn",Ext.list.NumberColumn),Ext.list.DateColumn=Ext.extend(Ext.list.Column,{format:"m/d/Y",constructor:function(a){a.tpl=a.tpl||new Ext.XTemplate("{"+a.dataIndex+':date("'+(a.format||this.format)+'")}'),Ext.list.DateColumn.superclass.constructor.call(this,a)}}),Ext.reg("lvdatecolumn",Ext.list.DateColumn),Ext.list.BooleanColumn=Ext.extend(Ext.list.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(a){a.tpl=a.tpl||new Ext.XTemplate("{"+a.dataIndex+":this.format}");var b=this.trueText,c=this.falseText,d=this.undefinedText;a.tpl.format=function(a){return void 0===a?d:a&&"false"!==a?b:c},Ext.list.DateColumn.superclass.constructor.call(this,a)}}),Ext.reg("lvbooleancolumn",Ext.list.BooleanColumn),Ext.list.ColumnResizer=Ext.extend(Ext.util.Observable,{minPct:.05,constructor:function(a){Ext.apply(this,a),Ext.list.ColumnResizer.superclass.constructor.call(this)},init:function(a){this.view=a,a.on("render",this.initEvents,this)},initEvents:function(a){a.mon(a.innerHd,"mousemove",this.handleHdMove,this),this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeStart.createDelegate(this),onStart:this.onStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onEnd.createDelegate(this),tolerance:3,autoStart:300}),this.tracker.initEl(a.innerHd),a.on("beforedestroy",this.tracker.destroy,this.tracker)},handleHdMove:function(a){var b=5,c=a.getPageX(),d=a.getTarget("em",3,!0);if(d){var e=d.getRegion(),f=d.dom.style,g=d.dom.parentNode;c-e.left<=b&&g!=g.parentNode.firstChild?(this.activeHd=Ext.get(g.previousSibling.firstChild),f.cursor=Ext.isWebKit?"e-resize":"col-resize"):e.right-c<=b&&g!=g.parentNode.lastChild.previousSibling?(this.activeHd=d,f.cursor=Ext.isWebKit?"w-resize":"col-resize"):(delete this.activeHd,f.cursor="")}},onBeforeStart:function(){return this.dragHd=this.activeHd,!!this.dragHd},onStart:function(){this.view.disableHeaders=!0,this.proxy=this.view.el.createChild({cls:"x-list-resizer"}),this.proxy.setHeight(this.view.el.getHeight());var a=this.tracker.getXY()[0],b=this.view.innerHd.getWidth();this.hdX=this.dragHd.getX(),this.hdIndex=this.view.findHeaderIndex(this.dragHd),this.proxy.setX(this.hdX),this.proxy.setWidth(a-this.hdX),this.minWidth=b*this.minPct,this.maxWidth=b-this.minWidth*(this.view.columns.length-1-this.hdIndex)},onDrag:function(){var a=this.tracker.getXY()[0];this.proxy.setWidth((a-this.hdX).constrain(this.minWidth,this.maxWidth))},onEnd:function(){var a=this.proxy.getWidth();this.proxy.remove();for(var b=this.hdIndex,c=this.view,d=c.columns,e=d.length,f=this.view.innerHd.getWidth(),g=100*this.minPct,h=Math.ceil(a*c.maxWidth/f),i=100*d[b].width-h,j=Math.floor(i/(e-1-b)),k=i-j*(e-1-b),l=b+1;e>l;l++){var m=100*d[l].width+j,n=Math.max(g,m);m!=n&&(k+=m-n),d[l].width=n/100}d[b].width=h/100,d[b+1].width+=k/100,delete this.dragHd,c.setHdWidths(),c.refresh(),setTimeout(function(){c.disableHeaders=!1},100)}}),Ext.ListView.ColumnResizer=Ext.list.ColumnResizer,Ext.list.Sorter=Ext.extend(Ext.util.Observable,{sortClasses:["sort-asc","sort-desc"],constructor:function(a){Ext.apply(this,a),Ext.list.Sorter.superclass.constructor.call(this)},init:function(a){this.view=a,a.on("render",this.initEvents,this)},initEvents:function(a){a.mon(a.innerHd,"click",this.onHdClick,this),a.innerHd.setStyle("cursor","pointer"),a.mon(a.store,"datachanged",this.updateSortState,this),this.updateSortState.defer(10,this,[a.store])},updateSortState:function(a){var b=a.getSortState();if(b){this.sortState=b;for(var c=this.view.columns,d=-1,e=0,f=c.length;f>e;e++)if(c[e].dataIndex==b.field){d=e;break}if(-1!=d){var g=b.direction;this.updateSortIcon(d,g)}}},updateSortIcon:function(a,b){var c=this.sortClasses,d=this.view.innerHd.select("em").removeClass(c);d.item(a).addClass(c["DESC"==b?1:0])},onHdClick:function(a){var b=a.getTarget("em",3);if(b&&!this.view.disableHeaders){var c=this.view.findHeaderIndex(b);this.view.store.sort(this.view.columns[c].dataIndex)}}}),Ext.ListView.Sorter=Ext.list.Sorter,Ext.TabPanel=Ext.extend(Ext.Panel,{monitorResize:!0,deferredRender:!0,tabWidth:120,minTabWidth:30,resizeTabs:!1,enableTabScroll:!1,scrollIncrement:0,scrollRepeatInterval:400,scrollDuration:.35,animScroll:!0,tabPosition:"top",baseCls:"x-tab-panel",autoTabs:!1,autoTabSelector:"div.x-tab",activeTab:void 0,tabMargin:2,plain:!1,wheelIncrement:20,idDelimiter:"__",itemCls:"x-tab-item",elements:"body",headerAsText:!1,frame:!1,hideBorders:!0,initComponent:function(){this.frame=!1,Ext.TabPanel.superclass.initComponent.call(this),this.addEvents("beforetabchange","tabchange","contextmenu"),this.setLayout(new Ext.layout.CardLayout(Ext.apply({layoutOnCardChange:this.layoutOnTabChange,deferredRender:this.deferredRender},this.layoutConfig))),"top"==this.tabPosition?(this.elements+=",header",this.stripTarget="header"):(this.elements+=",footer",this.stripTarget="footer"),this.stack||(this.stack=Ext.TabPanel.AccessStack()),this.initItems()},onRender:function(a,b){if(Ext.TabPanel.superclass.onRender.call(this,a,b),this.plain){var c="top"==this.tabPosition?"header":"footer";this[c].addClass("x-tab-panel-"+c+"-plain")}var d=this[this.stripTarget];this.stripWrap=d.createChild({cls:"x-tab-strip-wrap",cn:{tag:"ul",cls:"x-tab-strip x-tab-strip-"+this.tabPosition}});var e="bottom"==this.tabPosition?this.stripWrap:null;if(d.createChild({cls:"x-tab-strip-spacer"},e),this.strip=new Ext.Element(this.stripWrap.dom.firstChild),this.edge=this.strip.createChild({tag:"li",cls:"x-tab-edge",cn:[{tag:"span",cls:"x-tab-strip-text",cn:"&#160;"}]}),this.strip.createChild({cls:"x-clear"}),this.body.addClass("x-tab-panel-body-"+this.tabPosition),!this.itemTpl){var f=new Ext.Template('<li class="{cls}" id="{id}"><a class="x-tab-strip-close"></a>','<a class="x-tab-right" href="#"><em class="x-tab-left">','<span class="x-tab-strip-inner"><span class="x-tab-strip-text {iconCls}">{text}</span></span>',"</em></a></li>");f.disableFormats=!0,f.compile(),Ext.TabPanel.prototype.itemTpl=f}this.items.each(this.initTab,this)},afterRender:function(){if(Ext.TabPanel.superclass.afterRender.call(this),this.autoTabs&&this.readTabs(!1),void 0!==this.activeTab){var a=Ext.isObject(this.activeTab)?this.activeTab:this.items.get(this.activeTab);delete this.activeTab,this.setActiveTab(a)}},initEvents:function(){Ext.TabPanel.superclass.initEvents.call(this),this.mon(this.strip,{scope:this,mousedown:this.onStripMouseDown,contextmenu:this.onStripContextMenu}),this.enableTabScroll&&this.mon(this.strip,"mousewheel",this.onWheel,this)},findTargets:function(a){var b=null,c=a.getTarget("li",this.strip);return c&&(b=this.getComponent(c.id.split(this.idDelimiter)[1]),b.disabled)?{close:null,item:null,el:null}:{close:a.getTarget(".x-tab-strip-close",this.strip),item:b,el:c}},onStripMouseDown:function(a){if(0===a.button){a.preventDefault();var b=this.findTargets(a);return b.close?void(b.item.fireEvent("beforeclose",b.item)!==!1&&(b.item.fireEvent("close",b.item),this.remove(b.item))):void(b.item&&b.item!=this.activeTab&&this.setActiveTab(b.item))}},onStripContextMenu:function(a){a.preventDefault();var b=this.findTargets(a);b.item&&this.fireEvent("contextmenu",this,b.item,a)},readTabs:function(a){a===!0&&this.items.each(function(a){this.remove(a)},this);for(var b=this.el.query(this.autoTabSelector),c=0,d=b.length;d>c;c++){var e=b[c],f=e.getAttribute("title");e.removeAttribute("title"),this.add({title:f,contentEl:e})}},initTab:function(a,b){var c=this.strip.dom.childNodes[b],d=this.getTemplateArgs(a),e=c?this.itemTpl.insertBefore(c,d):this.itemTpl.append(this.strip,d),f="x-tab-strip-over",g=Ext.get(e);g.hover(function(){a.disabled||g.addClass(f)},function(){g.removeClass(f)}),a.tabTip&&(g.child("span.x-tab-strip-text",!0).qtip=a.tabTip),a.tabEl=e,g.select("a").on("click",function(a){a.getPageX()||this.onStripMouseDown(a)},this,{preventDefault:!0}),a.on({scope:this,disable:this.onItemDisabled,enable:this.onItemEnabled,titlechange:this.onItemTitleChanged,iconchange:this.onItemIconChanged,beforeshow:this.onBeforeShowItem})},getTemplateArgs:function(a){var b=a.closable?"x-tab-strip-closable":"";return a.disabled&&(b+=" x-item-disabled"),a.iconCls&&(b+=" x-tab-with-icon"),a.tabCls&&(b+=" "+a.tabCls),{id:this.id+this.idDelimiter+a.getItemId(),text:a.title,cls:b,iconCls:a.iconCls||""}},onAdd:function(a){if(Ext.TabPanel.superclass.onAdd.call(this,a),this.rendered){var b=this.items;this.initTab(a,b.indexOf(a)),1==b.getCount()&&this.syncSize(),this.delegateUpdates()
}},onBeforeAdd:function(a){var b=a.events?this.items.containsKey(a.getItemId())?a:null:this.items.get(a);if(b)return this.setActiveTab(a),!1;Ext.TabPanel.superclass.onBeforeAdd.apply(this,arguments);var c=a.elements;a.elements=c?c.replace(",header",""):c,a.border=a.border===!0},onRemove:function(a){var b=Ext.get(a.tabEl);if(b&&(b.select("a").removeAllListeners(),Ext.destroy(b)),Ext.TabPanel.superclass.onRemove.call(this,a),this.stack.remove(a),delete a.tabEl,a.un("disable",this.onItemDisabled,this),a.un("enable",this.onItemEnabled,this),a.un("titlechange",this.onItemTitleChanged,this),a.un("iconchange",this.onItemIconChanged,this),a.un("beforeshow",this.onBeforeShowItem,this),a==this.activeTab){var c=this.stack.next();this.setActiveTab(c?c:this.items.getCount()>0?0:null)}this.destroying||this.delegateUpdates()},onBeforeShowItem:function(a){return a!=this.activeTab?(this.setActiveTab(a),!1):void 0},onItemDisabled:function(a){var b=this.getTabEl(a);b&&Ext.fly(b).addClass("x-item-disabled"),this.stack.remove(a)},onItemEnabled:function(a){var b=this.getTabEl(a);b&&Ext.fly(b).removeClass("x-item-disabled")},onItemTitleChanged:function(a){var b=this.getTabEl(a);b&&(Ext.fly(b).child("span.x-tab-strip-text",!0).innerHTML=a.title)},onItemIconChanged:function(a,b,c){var d=this.getTabEl(a);d&&(d=Ext.get(d),d.child("span.x-tab-strip-text").replaceClass(c,b),d[Ext.isEmpty(b)?"removeClass":"addClass"]("x-tab-with-icon"))},getTabEl:function(a){var b=this.getComponent(a);return b?b.tabEl:null},onResize:function(){Ext.TabPanel.superclass.onResize.apply(this,arguments),this.delegateUpdates()},beginUpdate:function(){this.suspendUpdates=!0},endUpdate:function(){this.suspendUpdates=!1,this.delegateUpdates()},hideTabStripItem:function(a){a=this.getComponent(a);var b=this.getTabEl(a);b&&(b.style.display="none",this.delegateUpdates()),this.stack.remove(a)},unhideTabStripItem:function(a){a=this.getComponent(a);var b=this.getTabEl(a);b&&(b.style.display="",this.delegateUpdates())},delegateUpdates:function(){this.suspendUpdates||(this.resizeTabs&&this.rendered&&this.autoSizeTabs(),this.enableTabScroll&&this.rendered&&this.autoScrollTabs())},autoSizeTabs:function(){var a=this.items.length,b="bottom"!=this.tabPosition?"header":"footer",c=(this[b].dom.offsetWidth,this[b].dom.clientWidth);if(this.resizeTabs&&!(1>a)&&c){var d=Math.max(Math.min(Math.floor((c-4)/a)-this.tabMargin,this.tabWidth),this.minTabWidth);this.lastTabWidth=d;for(var e=this.strip.query("li:not([className^=x-tab-edge])"),f=0,g=e.length;g>f;f++){var h=e[f],i=Ext.fly(h).child(".x-tab-strip-inner",!0),j=h.offsetWidth,k=i.offsetWidth;i.style.width=d-(j-k)+"px"}}},adjustBodyWidth:function(a){return this.header&&this.header.setWidth(a),this.footer&&this.footer.setWidth(a),a},setActiveTab:function(a){if(a=this.getComponent(a),this.fireEvent("beforetabchange",this,a,this.activeTab)!==!1){if(!this.rendered)return void(this.activeTab=a);if(this.activeTab!=a){if(this.activeTab){var b=this.getTabEl(this.activeTab);b&&Ext.fly(b).removeClass("x-tab-strip-active")}if(a){var c=this.getTabEl(a);Ext.fly(c).addClass("x-tab-strip-active"),this.activeTab=a,this.stack.add(a),this.layout.setActiveItem(a),this.scrolling&&this.scrollToTab(a,this.animScroll)}this.fireEvent("tabchange",this,a)}}},getActiveTab:function(){return this.activeTab||null},getItem:function(a){return this.getComponent(a)},autoScrollTabs:function(){this.pos="bottom"==this.tabPosition?this.footer:this.header;var a=this.items.length,b=(this.pos.dom.offsetWidth,this.pos.dom.clientWidth),c=this.stripWrap,d=c.dom,e=d.offsetWidth,f=this.getScrollPos(),g=this.edge.getOffsetsTo(this.stripWrap)[0]+f;!this.enableTabScroll||1>a||20>e||(b>=g?(d.scrollLeft=0,c.setWidth(b),this.scrolling&&(this.scrolling=!1,this.pos.removeClass("x-tab-scrolling"),this.scrollLeft.hide(),this.scrollRight.hide(),(Ext.isAir||Ext.isWebKit)&&(d.style.marginLeft="",d.style.marginRight=""))):(this.scrolling||(this.pos.addClass("x-tab-scrolling"),(Ext.isAir||Ext.isWebKit)&&(d.style.marginLeft="18px",d.style.marginRight="18px")),b-=c.getMargins("lr"),c.setWidth(b>20?b:20),this.scrolling||(this.scrollLeft?(this.scrollLeft.show(),this.scrollRight.show()):this.createScrollers()),this.scrolling=!0,f>g-b?d.scrollLeft=g-b:this.scrollToTab(this.activeTab,!1),this.updateScrollButtons()))},createScrollers:function(){this.pos.addClass("x-tab-scrolling-"+this.tabPosition);var a=this.stripWrap.dom.offsetHeight,b=this.pos.insertFirst({cls:"x-tab-scroller-left"});b.setHeight(a),b.addClassOnOver("x-tab-scroller-left-over"),this.leftRepeater=new Ext.util.ClickRepeater(b,{interval:this.scrollRepeatInterval,handler:this.onScrollLeft,scope:this}),this.scrollLeft=b;var c=this.pos.insertFirst({cls:"x-tab-scroller-right"});c.setHeight(a),c.addClassOnOver("x-tab-scroller-right-over"),this.rightRepeater=new Ext.util.ClickRepeater(c,{interval:this.scrollRepeatInterval,handler:this.onScrollRight,scope:this}),this.scrollRight=c},getScrollWidth:function(){return this.edge.getOffsetsTo(this.stripWrap)[0]+this.getScrollPos()},getScrollPos:function(){return parseInt(this.stripWrap.dom.scrollLeft,10)||0},getScrollArea:function(){return parseInt(this.stripWrap.dom.clientWidth,10)||0},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},getScrollIncrement:function(){return this.scrollIncrement||(this.resizeTabs?this.lastTabWidth+2:100)},scrollToTab:function(a,b){if(a){var c=this.getTabEl(a),d=this.getScrollPos(),e=this.getScrollArea(),f=Ext.fly(c).getOffsetsTo(this.stripWrap)[0]+d,g=f+c.offsetWidth;d>f?this.scrollTo(f,b):g>d+e&&this.scrollTo(g-e,b)}},scrollTo:function(a,b){this.stripWrap.scrollTo("left",a,b?this.getScrollAnim():!1),b||this.updateScrollButtons()},onWheel:function(a){var b=a.getWheelDelta()*this.wheelIncrement*-1;a.stopEvent();var c=this.getScrollPos(),d=c+b,e=this.getScrollWidth()-this.getScrollArea(),f=Math.max(0,Math.min(e,d));f!=c&&this.scrollTo(f,!1)},onScrollRight:function(){var a=this.getScrollWidth()-this.getScrollArea(),b=this.getScrollPos(),c=Math.min(a,b+this.getScrollIncrement());c!=b&&this.scrollTo(c,this.animScroll)},onScrollLeft:function(){var a=this.getScrollPos(),b=Math.max(0,a-this.getScrollIncrement());b!=a&&this.scrollTo(b,this.animScroll)},updateScrollButtons:function(){var a=this.getScrollPos();this.scrollLeft[0===a?"addClass":"removeClass"]("x-tab-scroller-left-disabled"),this.scrollRight[a>=this.getScrollWidth()-this.getScrollArea()?"addClass":"removeClass"]("x-tab-scroller-right-disabled")},beforeDestroy:function(){Ext.destroy(this.leftRepeater,this.rightRepeater),this.deleteMembers("strip","edge","scrollLeft","scrollRight","stripWrap"),this.activeTab=null,Ext.TabPanel.superclass.beforeDestroy.apply(this)}}),Ext.reg("tabpanel",Ext.TabPanel),Ext.TabPanel.prototype.activate=Ext.TabPanel.prototype.setActiveTab,Ext.TabPanel.AccessStack=function(){var a=[];return{add:function(b){a.push(b),a.length>10&&a.shift()},remove:function(b){for(var c=[],d=0,e=a.length;e>d;d++)a[d]!=b&&c.push(a[d]);a=c},next:function(){return a.pop()}}},Ext.Button=Ext.extend(Ext.BoxComponent,{hidden:!1,disabled:!1,pressed:!1,enableToggle:!1,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr:nth(2)",clickEvent:"click",handleMouseEvents:!0,tooltipType:"qtip",buttonSelector:"button:first-child",scale:"small",iconAlign:"left",arrowAlign:"right",initComponent:function(){Ext.Button.superclass.initComponent.call(this),this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout"),this.menu&&(this.menu=Ext.menu.MenuMgr.get(this.menu)),Ext.isString(this.toggleGroup)&&(this.enableToggle=!0)},getTemplateArgs:function(){return[this.type,"x-btn-"+this.scale+" x-btn-icon-"+this.scale+"-"+this.iconAlign,this.getMenuClass(),this.cls,this.id]},setButtonClass:function(){this.useSetClass&&(Ext.isEmpty(this.oldCls)||this.el.removeClass([this.oldCls,"x-btn-pressed"]),this.oldCls=this.iconCls||this.icon?this.text?" x-btn-text-icon":" x-btn-icon":" x-btn-noicon",this.el.addClass([this.oldCls,this.pressed?"x-btn-pressed":null]))},getMenuClass:function(){return this.menu?"bottom"!=this.arrowAlign?"x-btn-arrow":"x-btn-arrow-bottom":""},onRender:function(a,b){this.template||(Ext.Button.buttonTemplate||(Ext.Button.buttonTemplate=new Ext.Template('<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{2}" unselectable="on"><button type="{0}"></button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>"),Ext.Button.buttonTemplate.compile()),this.template=Ext.Button.buttonTemplate);var c,d=this.getTemplateArgs();c=b?this.template.insertBefore(b,d,!0):this.template.append(a,d,!0),this.btnEl=c.child(this.buttonSelector),this.mon(this.btnEl,{scope:this,focus:this.onFocus,blur:this.onBlur}),this.initButtonEl(c,this.btnEl),Ext.ButtonToggleMgr.register(this)},initButtonEl:function(a,b){if(this.el=a,this.setIcon(this.icon),this.setText(this.text),this.setIconClass(this.iconCls),Ext.isDefined(this.tabIndex)&&(b.dom.tabIndex=this.tabIndex),this.tooltip&&this.setTooltip(this.tooltip,!0),this.handleMouseEvents&&this.mon(a,{scope:this,mouseover:this.onMouseOver,mousedown:this.onMouseDown}),this.menu&&this.mon(this.menu,{scope:this,show:this.onMenuShow,hide:this.onMenuHide}),this.repeat){var c=new Ext.util.ClickRepeater(a,Ext.isObject(this.repeat)?this.repeat:{});this.mon(c,"click",this.onClick,this)}this.mon(a,this.clickEvent,this.onClick,this)},afterRender:function(){Ext.Button.superclass.afterRender.call(this),this.useSetClass=!0,this.setButtonClass(),this.doc=Ext.getDoc(),this.doAutoWidth()},setIconClass:function(a){return this.iconCls=a,this.el&&(this.btnEl.dom.className="",this.btnEl.addClass(["x-btn-text",a||""]),this.setButtonClass()),this},setTooltip:function(a,b){return this.rendered?(b||this.clearTip(),Ext.isObject(a)?(Ext.QuickTips.register(Ext.apply({target:this.btnEl.id},a)),this.tooltip=a):this.btnEl.dom[this.tooltipType]=a):this.tooltip=a,this},clearTip:function(){Ext.isObject(this.tooltip)&&Ext.QuickTips.unregister(this.btnEl)},beforeDestroy:function(){this.rendered&&this.clearTip(),this.menu&&this.menu.autoDestroy&&Ext.destroy(this.menu),Ext.destroy(this.repeater)},onDestroy:function(){this.rendered&&(this.doc.un("mouseover",this.monitorMouseOver,this),this.doc.un("mouseup",this.onMouseUp,this),delete this.doc,delete this.btnEl,Ext.ButtonToggleMgr.unregister(this))},doAutoWidth:function(){if(this.el&&this.text&&void 0===this.width){if(this.el.setWidth("auto"),Ext.isIE7&&Ext.isStrict){var a=this.btnEl;a&&a.getWidth()>20&&(a.clip(),a.setWidth(Ext.util.TextMetrics.measure(a,this.text).width+a.getFrameWidth("lr")))}this.minWidth&&this.el.getWidth()<this.minWidth&&this.el.setWidth(this.minWidth)}},setHandler:function(a,b){return this.handler=a,this.scope=b,this},setText:function(a){return this.text=a,this.el&&(this.btnEl.update(a||"&#160;"),this.setButtonClass()),this.doAutoWidth(),this},setIcon:function(a){return this.icon=a,this.el&&(this.btnEl.setStyle("background-image",a?"url("+a+")":""),this.setButtonClass()),this},getText:function(){return this.text},toggle:function(a,b){return a=void 0===a?!this.pressed:!!a,a!=this.pressed&&(this.rendered&&this.el[a?"addClass":"removeClass"]("x-btn-pressed"),this.pressed=a,b||(this.fireEvent("toggle",this,a),this.toggleHandler&&this.toggleHandler.call(this.scope||this,this,a))),this},focus:function(){this.btnEl.focus()},onDisable:function(){this.onDisableChange(!0)},onEnable:function(){this.onDisableChange(!1)},onDisableChange:function(a){this.el&&(Ext.isIE6&&this.text||this.el[a?"addClass":"removeClass"](this.disabledClass),this.el.dom.disabled=a),this.disabled=a},showMenu:function(){return this.rendered&&this.menu&&(this.tooltip&&Ext.QuickTips.getQuickTip().cancelShow(this.btnEl),this.menu.show(this.el,this.menuAlign)),this},hideMenu:function(){return this.menu&&this.menu.hide(),this},hasVisibleMenu:function(){return this.menu&&this.menu.isVisible()},onClick:function(a){a&&a.preventDefault(),0===a.button&&(this.disabled||(!this.enableToggle||this.allowDepress===!1&&this.pressed||this.toggle(),!this.menu||this.menu.isVisible()||this.ignoreNextClick||this.showMenu(),this.fireEvent("click",this,a),this.handler&&this.handler.call(this.scope||this,this,a)))},isMenuTriggerOver:function(a,b){return this.menu&&!b},isMenuTriggerOut:function(a,b){return this.menu&&!b},onMouseOver:function(a){if(!this.disabled){var b=a.within(this.el,!0);b||(this.el.addClass("x-btn-over"),this.monitoringMouseOver||(this.doc.on("mouseover",this.monitorMouseOver,this),this.monitoringMouseOver=!0),this.fireEvent("mouseover",this,a)),this.isMenuTriggerOver(a,b)&&this.fireEvent("menutriggerover",this,this.menu,a)}},monitorMouseOver:function(a){a.target==this.el.dom||a.within(this.el)||(this.monitoringMouseOver&&(this.doc.un("mouseover",this.monitorMouseOver,this),this.monitoringMouseOver=!1),this.onMouseOut(a))},onMouseOut:function(a){var b=a.within(this.el)&&a.target!=this.el.dom;this.el.removeClass("x-btn-over"),this.fireEvent("mouseout",this,a),this.isMenuTriggerOut(a,b)&&this.fireEvent("menutriggerout",this,this.menu,a)},focus:function(){this.btnEl.focus()},blur:function(){this.btnEl.blur()},onFocus:function(){this.disabled||this.el.addClass("x-btn-focus")},onBlur:function(){this.el.removeClass("x-btn-focus")},getClickEl:function(){return this.el},onMouseDown:function(a){this.disabled||0!==a.button||(this.getClickEl(a).addClass("x-btn-click"),this.doc.on("mouseup",this.onMouseUp,this))},onMouseUp:function(a){0===a.button&&(this.getClickEl(a,!0).removeClass("x-btn-click"),this.doc.un("mouseup",this.onMouseUp,this))},onMenuShow:function(){this.menu.ownerCt=this,this.ignoreNextClick=0,this.el.addClass("x-btn-menu-active"),this.fireEvent("menushow",this,this.menu)},onMenuHide:function(){this.el.removeClass("x-btn-menu-active"),this.ignoreNextClick=this.restoreClick.defer(250,this),this.fireEvent("menuhide",this,this.menu),delete this.menu.ownerCt},restoreClick:function(){this.ignoreNextClick=0}}),Ext.reg("button",Ext.Button),Ext.ButtonToggleMgr=function(){function a(a,c){if(c)for(var d=b[a.toggleGroup],e=0,f=d.length;f>e;e++)d[e]!=a&&d[e].toggle(!1)}var b={};return{register:function(c){if(c.toggleGroup){var d=b[c.toggleGroup];d||(d=b[c.toggleGroup]=[]),d.push(c),c.on("toggle",a)}},unregister:function(c){if(c.toggleGroup){var d=b[c.toggleGroup];d&&(d.remove(c),c.un("toggle",a))}},getPressed:function(a){var c=b[a];if(c)for(var d=0,e=c.length;e>d;d++)if(c[d].pressed===!0)return c[d];return null}}}(),Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"em",split:!0,initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this),this.addEvents("arrowclick")},onRender:function(){Ext.SplitButton.superclass.onRender.apply(this,arguments),this.arrowTooltip&&(this.el.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip)},setArrowHandler:function(a,b){this.arrowHandler=a,this.scope=b},getMenuClass:function(){return"x-btn-split"+("bottom"==this.arrowAlign?"-bottom":"")},isClickOnArrow:function(a){if("bottom"!=this.arrowAlign){var b=this.el.child("em.x-btn-split"),c=b.getRegion().right-b.getPadding("r");return a.getPageX()>c}return a.getPageY()>this.btnEl.getRegion().bottom},onClick:function(a){a.preventDefault(),this.disabled||(this.isClickOnArrow(a)?(!this.menu||this.menu.isVisible()||this.ignoreNextClick||this.showMenu(),this.fireEvent("arrowclick",this,a),this.arrowHandler&&this.arrowHandler.call(this.scope||this,this,a)):(this.enableToggle&&this.toggle(),this.fireEvent("click",this,a),this.handler&&this.handler.call(this.scope||this,this,a)))},isMenuTriggerOver:function(a){return this.menu&&a.target.tagName==this.arrowSelector},isMenuTriggerOut:function(a){return this.menu&&a.target.tagName!=this.arrowSelector}}),Ext.reg("splitbutton",Ext.SplitButton),Ext.CycleButton=Ext.extend(Ext.SplitButton,{getItemText:function(a){if(a&&this.showText===!0){var b="";return this.prependText&&(b+=this.prependText),b+=a.text}return void 0},setActiveItem:function(a,b){if(Ext.isObject(a)||(a=this.menu.getComponent(a)),a){if(this.rendered){var c=this.getItemText(a);c&&this.setText(c),this.setIconClass(a.iconCls)}else this.text=this.getItemText(a),this.iconCls=a.iconCls;this.activeItem=a,a.checked||a.setChecked(!0,!0),this.forceIcon&&this.setIconClass(this.forceIcon),b||this.fireEvent("change",this,a)}},getActiveItem:function(){return this.activeItem},initComponent:function(){this.addEvents("change"),this.changeHandler&&(this.on("change",this.changeHandler,this.scope||this),delete this.changeHandler),this.itemCount=this.items.length,this.menu={cls:"x-cycle-menu",items:[]};var a;Ext.each(this.items,function(b,c){Ext.apply(b,{group:b.group||this.id,itemIndex:c,checkHandler:this.checkHandler,scope:this,checked:b.checked||!1}),this.menu.items.push(b),b.checked&&(a=b)},this),this.setActiveItem(a,!0),Ext.CycleButton.superclass.initComponent.call(this),this.on("click",this.toggleSelected,this)},checkHandler:function(a,b){b&&this.setActiveItem(a)},toggleSelected:function(){var a=this.menu;a.render(),a.hasLayout||a.doLayout();for(var b,c,d=1;d<this.itemCount;d++)if(b=(this.activeItem.itemIndex+d)%this.itemCount,c=a.items.itemAt(b),!c.disabled){c.setChecked(!0);break}}}),Ext.reg("cycle",Ext.CycleButton),Ext.layout.ToolbarLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,triggerWidth:18,lastOverflow:!1,forceLayout:!0,noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',onLayout:function(a,b){if(!this.leftTr){var c="center"==a.buttonAlign?"center":"left";b.addClass("x-toolbar-layout-ct"),b.insertHtml("beforeEnd",'<table cellspacing="0" class="x-toolbar-ct"><tbody><tr><td class="x-toolbar-left" align="'+c+'"><table cellspacing="0"><tbody><tr class="x-toolbar-left-row"></tr></tbody></table></td><td class="x-toolbar-right" align="right"><table cellspacing="0" class="x-toolbar-right-ct"><tbody><tr><td><table cellspacing="0"><tbody><tr class="x-toolbar-right-row"></tr></tbody></table></td><td><table cellspacing="0"><tbody><tr class="x-toolbar-extras-row"></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table>'),this.leftTr=b.child("tr.x-toolbar-left-row",!0),this.rightTr=b.child("tr.x-toolbar-right-row",!0),this.extrasTr=b.child("tr.x-toolbar-extras-row",!0)}for(var d,e="right"==a.buttonAlign?this.rightTr:this.leftTr,f=0,g=a.items.items,h=0,i=g.length;i>h;h++,f++)if(d=g[h],d.isFill)e=this.rightTr,f=-1;else if(d.rendered){if(!d.xtbHidden&&!this.isValidParent(d,e.childNodes[f])){var j=this.insertCell(d,e,f);j.appendChild(d.getPositionEl().dom),d.container=Ext.get(j)}}else d.render(this.insertCell(d,e,f));this.cleanup(this.leftTr),this.cleanup(this.rightTr),this.cleanup(this.extrasTr),this.fitToSize(b)},cleanup:function(a){for(var b,c=a.childNodes,d=c.length-1;d>=0&&(b=c[d]);d--)b.firstChild||a.removeChild(b)},insertCell:function(a,b,c){var d=document.createElement("td");return d.className="x-toolbar-cell",b.insertBefore(d,b.childNodes[c]||null),d},hideItem:function(a){var b=this.hiddens=this.hiddens||[];b.push(a),a.xtbHidden=!0,a.xtbWidth=a.getPositionEl().dom.parentNode.offsetWidth,a.hide()},unhideItem:function(a){a.show(),a.xtbHidden=!1,this.hiddens.remove(a),this.hiddens.length<1&&delete this.hiddens},getItemWidth:function(a){return a.hidden?a.xtbWidth||0:a.getPositionEl().dom.parentNode.offsetWidth},fitToSize:function(a){if(this.container.enableOverflow!==!1){var b=a.dom.clientWidth,c=this.lastWidth||0,d=a.dom.firstChild.offsetWidth,e=b-this.triggerWidth;if(this.lastWidth=b,d>b||this.hiddens&&b>=c){var f,g,h=this.container.items.items,i=h.length,j=0;for(f=0;i>f;f++)g=h[f],g.isFill||(j+=this.getItemWidth(g),j>e?g.hidden||g.xtbHidden||this.hideItem(g):g.xtbHidden&&this.unhideItem(g))}this.hiddens?(this.initMore(),this.lastOverflow||(this.container.fireEvent("overflowchange",this.container,!0),this.lastOverflow=!0)):this.more&&(this.clearMenu(),this.more.destroy(),delete this.more,this.lastOverflow&&(this.container.fireEvent("overflowchange",this.container,!1),this.lastOverflow=!1))}},createMenuConfig:function(a,b){var c=Ext.apply({},a.initialConfig),d=a.toggleGroup;return Ext.apply(c,{text:a.overflowText||a.text,iconCls:a.iconCls,icon:a.icon,itemId:a.itemId,disabled:a.disabled,handler:a.handler,scope:a.scope,menu:a.menu,hideOnClick:b}),(d||a.enableToggle)&&Ext.apply(c,{group:d,checked:a.pressed,listeners:{checkchange:function(b,c){a.toggle(c)}}}),delete c.ownerCt,delete c.xtype,delete c.id,c},addComponentToMenu:function(a,b){b instanceof Ext.Toolbar.Separator?a.add("-"):Ext.isFunction(b.isXType)&&(b.isXType("splitbutton")?a.add(this.createMenuConfig(b,!0)):b.isXType("button")?a.add(this.createMenuConfig(b,!b.menu)):b.isXType("buttongroup")&&b.items.each(function(b){this.addComponentToMenu(a,b)},this))},clearMenu:function(){var a=this.moreMenu;a&&a.items&&a.items.each(function(a){delete a.menu})},beforeMoreShow:function(a){var b,c,d=this.container.items.items,e=d.length,f=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.Toolbar.Separator)};this.clearMenu(),a.removeAll();for(var g=0;e>g;g++)b=d[g],b.xtbHidden&&(c&&(f(b,c)||f(c,b))&&a.add("-"),this.addComponentToMenu(a,b),c=b);a.items.length<1&&a.add(this.noItemsMenuText)},initMore:function(){if(!this.more){this.moreMenu=new Ext.menu.Menu({listeners:{beforeshow:this.beforeMoreShow,scope:this}}),this.moreMenu.ownerCt=this.container,this.more=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.moreMenu});var a=this.insertCell(this.more,this.extrasTr,100);this.more.render(a)}},onRemove:function(a){delete this.leftTr,delete this.rightTr,delete this.extrasTr,Ext.layout.ToolbarLayout.superclass.onRemove.call(this,a)},destroy:function(){Ext.destroy(this.more,this.moreMenu),delete this.leftTr,delete this.rightTr,delete this.extrasTr,Ext.layout.ToolbarLayout.superclass.destroy.call(this)}}),Ext.Container.LAYOUTS.toolbar=Ext.layout.ToolbarLayout,Ext.Toolbar=function(a){Ext.isArray(a)?a={items:a,layout:"toolbar"}:(a=Ext.apply({layout:"toolbar"},a),a.buttons&&(a.items=a.buttons)),Ext.Toolbar.superclass.constructor.call(this,a)},function(){var a=Ext.Toolbar;Ext.extend(a,Ext.Container,{defaultType:"button",trackMenus:!0,internalDefaults:{removeMode:"container",hideParent:!0},toolbarCls:"x-toolbar",initComponent:function(){a.superclass.initComponent.call(this),this.addEvents("overflowchange")},onRender:function(a,b){this.el||(this.autoCreate||(this.autoCreate={cls:this.toolbarCls+" x-small-editor"}),this.el=a.createChild(Ext.apply({id:this.id},this.autoCreate),b),Ext.Toolbar.superclass.onRender.apply(this,arguments))},lookupComponent:function(b){return Ext.isString(b)?(b="-"==b?new a.Separator:" "==b?new a.Spacer:"->"==b?new a.Fill:new a.TextItem(b),this.applyDefaults(b)):b.isFormField||b.render?b=this.createComponent(b):b.tag?b=new a.Item({autoEl:b}):b.tagName?b=new a.Item({el:b}):Ext.isObject(b)&&(b=b.xtype?this.createComponent(b):this.constructButton(b)),b},applyDefaults:function(a){if(!Ext.isString(a)){a=Ext.Toolbar.superclass.applyDefaults.call(this,a);var b=this.internalDefaults;a.events?(Ext.applyIf(a.initialConfig,b),Ext.apply(a,b)):Ext.applyIf(a,b)}return a},addSeparator:function(){return this.add(new a.Separator)},addSpacer:function(){return this.add(new a.Spacer)},addFill:function(){this.add(new a.Fill)},addElement:function(b){return this.addItem(new a.Item({el:b}))},addItem:function(){return this.add.apply(this,arguments)},addButton:function(a){if(Ext.isArray(a)){for(var b=[],c=0,d=a.length;d>c;c++)b.push(this.addButton(a[c]));return b}return this.add(this.constructButton(a))},addText:function(b){return this.addItem(new a.TextItem(b))},addDom:function(b){return this.add(new a.Item({autoEl:b}))},addField:function(a){return this.add(a)},insertButton:function(a,b){if(Ext.isArray(b)){for(var c=[],d=0,e=b.length;e>d;d++)c.push(this.insertButton(a+d,b[d]));return c}return Ext.Toolbar.superclass.insert.call(this,a,b)},trackMenu:function(a,b){if(this.trackMenus&&a.menu){var c=b?"mun":"mon";this[c](a,"menutriggerover",this.onButtonTriggerOver,this),this[c](a,"menushow",this.onButtonMenuShow,this),this[c](a,"menuhide",this.onButtonMenuHide,this)}},constructButton:function(a){var b=a.events?a:this.createComponent(a,a.split?"splitbutton":this.defaultType);return b},onAdd:function(a){Ext.Toolbar.superclass.onAdd.call(this),this.trackMenu(a)},onRemove:function(a){Ext.Toolbar.superclass.onRemove.call(this),this.trackMenu(a,!0)},onDisable:function(){this.items.each(function(a){a.disable&&a.disable()})},onEnable:function(){this.items.each(function(a){a.enable&&a.enable()})},onButtonTriggerOver:function(a){this.activeMenuBtn&&this.activeMenuBtn!=a&&(this.activeMenuBtn.hideMenu(),a.showMenu(),this.activeMenuBtn=a)},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(){delete this.activeMenuBtn}}),Ext.reg("toolbar",Ext.Toolbar),a.Item=Ext.extend(Ext.BoxComponent,{hideParent:!0,enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.reg("tbitem",a.Item),a.Separator=Ext.extend(a.Item,{onRender:function(a,b){this.el=a.createChild({tag:"span",cls:"xtb-sep"},b)}}),Ext.reg("tbseparator",a.Separator),a.Spacer=Ext.extend(a.Item,{onRender:function(a,b){this.el=a.createChild({tag:"div",cls:"xtb-spacer",style:this.width?"width:"+this.width+"px":""},b)}}),Ext.reg("tbspacer",a.Spacer),a.Fill=Ext.extend(a.Item,{render:Ext.emptyFn,isFill:!0}),Ext.reg("tbfill",a.Fill),a.TextItem=Ext.extend(a.Item,{constructor:function(b){a.TextItem.superclass.constructor.call(this,Ext.isString(b)?{text:b}:b)},onRender:function(b,c){this.autoEl={cls:"xtb-text",html:this.text||""},a.TextItem.superclass.onRender.call(this,b,c)},setText:function(a){this.rendered?this.el.update(a):this.text=a}}),Ext.reg("tbtext",a.TextItem),a.Button=Ext.extend(Ext.Button,{}),a.SplitButton=Ext.extend(Ext.SplitButton,{}),Ext.reg("tbbutton",a.Button),Ext.reg("tbsplit",a.SplitButton)}(),Ext.ButtonGroup=Ext.extend(Ext.Panel,{baseCls:"x-btn-group",layout:"table",defaultType:"button",frame:!0,internalDefaults:{removeMode:"container",hideParent:!0},initComponent:function(){this.layoutConfig=this.layoutConfig||{},Ext.applyIf(this.layoutConfig,{columns:this.columns}),this.title||this.addClass("x-btn-group-notitle"),this.on("afterlayout",this.onAfterLayout,this),Ext.ButtonGroup.superclass.initComponent.call(this)},applyDefaults:function(a){a=Ext.ButtonGroup.superclass.applyDefaults.call(this,a);var b=this.internalDefaults;return a.events?(Ext.applyIf(a.initialConfig,b),Ext.apply(a,b)):Ext.applyIf(a,b),a},onAfterLayout:function(){var a=this.body.getFrameWidth("lr")+this.body.dom.firstChild.offsetWidth;this.body.setWidth(a),this.el.setWidth(a+this.getFrameWidth())}}),Ext.reg("buttongroup",Ext.ButtonGroup),function(){var a=Ext.Toolbar;Ext.PagingToolbar=Ext.extend(Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",initComponent:function(){var b=[this.first=new a.Button({tooltip:this.firstText,overflowText:this.firstText,iconCls:"x-tbar-page-first",disabled:!0,handler:this.moveFirst,scope:this}),this.prev=new a.Button({tooltip:this.prevText,overflowText:this.prevText,iconCls:"x-tbar-page-prev",disabled:!0,handler:this.movePrevious,scope:this}),"-",this.beforePageText,this.inputItem=new Ext.form.NumberField({cls:"x-tbar-page-number",allowDecimals:!1,allowNegative:!1,enableKeyEvents:!0,selectOnFocus:!0,submitValue:!1,listeners:{scope:this,keydown:this.onPagingKeyDown,blur:this.onPagingBlur}}),this.afterTextItem=new a.TextItem({text:String.format(this.afterPageText,1)}),"-",this.next=new a.Button({tooltip:this.nextText,overflowText:this.nextText,iconCls:"x-tbar-page-next",disabled:!0,handler:this.moveNext,scope:this}),this.last=new a.Button({tooltip:this.lastText,overflowText:this.lastText,iconCls:"x-tbar-page-last",disabled:!0,handler:this.moveLast,scope:this}),"-",this.refresh=new a.Button({tooltip:this.refreshText,overflowText:this.refreshText,iconCls:"x-tbar-loading",handler:this.doRefresh,scope:this})],c=this.items||this.buttons||[];this.items=this.prependButtons?c.concat(b):b.concat(c),delete this.buttons,this.displayInfo&&(this.items.push("->"),this.items.push(this.displayItem=new a.TextItem({}))),Ext.PagingToolbar.superclass.initComponent.call(this),this.addEvents("change","beforechange"),this.on("afterlayout",this.onFirstLayout,this,{single:!0}),this.cursor=0,this.bindStore(this.store,!0)},onFirstLayout:function(){this.dsLoaded&&this.onLoad.apply(this,this.dsLoaded)},updateInfo:function(){if(this.displayItem){var a=this.store.getCount(),b=0==a?this.emptyMsg:String.format(this.displayMsg,this.cursor+1,this.cursor+a,this.store.getTotalCount());this.displayItem.setText(b)}},onLoad:function(a,b,c){if(!this.rendered)return void(this.dsLoaded=[a,b,c]);var d=this.getParams();this.cursor=c.params&&c.params[d.start]?c.params[d.start]:0;var e=this.getPageData(),f=e.activePage,g=e.pages;this.afterTextItem.setText(String.format(this.afterPageText,e.pages)),this.inputItem.setValue(f),this.first.setDisabled(1==f),this.prev.setDisabled(1==f),this.next.setDisabled(f==g),this.last.setDisabled(f==g),this.refresh.enable(),this.updateInfo(),this.fireEvent("change",this,e)},getPageData:function(){var a=this.store.getTotalCount();return{total:a,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:a<this.pageSize?1:Math.ceil(a/this.pageSize)}},changePage:function(a){this.doLoad(((a-1)*this.pageSize).constrain(0,this.store.getTotalCount()))},onLoadError:function(){this.rendered&&this.refresh.enable()},readPage:function(a){var b,c=this.inputItem.getValue();return!c||isNaN(b=parseInt(c,10))?(this.inputItem.setValue(a.activePage),!1):b},onPagingFocus:function(){this.inputItem.select()},onPagingBlur:function(){this.inputItem.setValue(this.getPageData().activePage)},onPagingKeyDown:function(a,b){var c,d=b.getKey(),e=this.getPageData();if(d==b.RETURN)b.stopEvent(),c=this.readPage(e),c!==!1&&(c=Math.min(Math.max(1,c),e.pages)-1,this.doLoad(c*this.pageSize));else if(d==b.HOME||d==b.END)b.stopEvent(),c=d==b.HOME?1:e.pages,a.setValue(c);else if((d==b.UP||d==b.PAGEUP||d==b.DOWN||d==b.PAGEDOWN)&&(b.stopEvent(),c=this.readPage(e))){var f=b.shiftKey?10:1;(d==b.DOWN||d==b.PAGEDOWN)&&(f*=-1),c+=f,c>=1&c<=e.pages&&a.setValue(c)}},getParams:function(){return this.paramNames||this.store.paramNames},beforeLoad:function(){this.rendered&&this.refresh&&this.refresh.disable()},doLoad:function(a){var b={},c=this.getParams();b[c.start]=a,b[c.limit]=this.pageSize,this.fireEvent("beforechange",this,b)!==!1&&this.store.load({params:b})},moveFirst:function(){this.doLoad(0)},movePrevious:function(){this.doLoad(Math.max(0,this.cursor-this.pageSize))},moveNext:function(){this.doLoad(this.cursor+this.pageSize)},moveLast:function(){var a=this.store.getTotalCount(),b=a%this.pageSize;this.doLoad(b?a-b:a-this.pageSize)},doRefresh:function(){this.doLoad(this.cursor)},bindStore:function(a,b){var c;!b&&this.store&&(a!==this.store&&this.store.autoDestroy?this.store.destroy():(this.store.un("beforeload",this.beforeLoad,this),this.store.un("load",this.onLoad,this),this.store.un("exception",this.onLoadError,this)),a||(this.store=null)),a&&(a=Ext.StoreMgr.lookup(a),a.on({scope:this,beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}),c=!0),this.store=a,c&&this.onLoad(a,null,{})},unbind:function(){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.bindStore(null),Ext.PagingToolbar.superclass.onDestroy.call(this)}})}(),Ext.reg("paging",Ext.PagingToolbar),Ext.History=function(){function a(){var a=top.location.href,b=a.indexOf("#");
    return b>=0?a.substr(b+1):null}function b(){h.value=i}function c(a){i=a,Ext.History.fireEvent("change",a)}function d(a){var b=['<html><body><div id="state">',Ext.util.Format.htmlEncode(a),"</div></body></html>"].join("");try{var c=g.contentWindow.document;return c.open(),c.write(b),c.close(),!0}catch(d){return!1}}function e(){if(!g.contentWindow||!g.contentWindow.document)return void setTimeout(e,10);var f=g.contentWindow.document,h=f.getElementById("state"),i=h?h.innerText:null,k=a();setInterval(function(){f=g.contentWindow.document,h=f.getElementById("state");var e=h?h.innerText:null,j=a();e!==i?(i=e,c(i),top.location.hash=i,k=i,b()):j!==k&&(k=j,d(j))},50),j=!0,Ext.History.fireEvent("ready",Ext.History)}function f(){if(i=h.value?h.value:a(),Ext.isIE)e();else{var d=a();setInterval(function(){var e=a();e!==d&&(d=e,c(d),b())},50),j=!0,Ext.History.fireEvent("ready",Ext.History)}}var g,h,i,j=!1;return{fieldId:"x-history-field",iframeId:"x-history-frame",events:{},init:function(a,b){return j?void Ext.callback(a,b,[this]):Ext.isReady?(h=Ext.getDom(Ext.History.fieldId),Ext.isIE&&(g=Ext.getDom(Ext.History.iframeId)),this.addEvents("ready","change"),a&&this.on("ready",a,b,{single:!0}),void f()):void Ext.onReady(function(){Ext.History.init(a,b)})},add:function(a,b){return b!==!1&&this.getToken()==a?!0:Ext.isIE?d(a):(top.location.hash=a,!0)},back:function(){history.go(-1)},forward:function(){history.go(1)},getToken:function(){return j?i:a()}}}(),Ext.apply(Ext.History,new Ext.util.Observable),Ext.Tip=Ext.extend(Ext.Panel,{minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",autoRender:!0,quickShowInterval:250,frame:!0,hidden:!0,baseCls:"x-tip",floating:{shadow:!0,shim:!0,useDisplay:!0,constrain:!1},autoHeight:!0,closeAction:"hide",initComponent:function(){Ext.Tip.superclass.initComponent.call(this),this.closable&&!this.title&&(this.elements+=",header")},afterRender:function(){Ext.Tip.superclass.afterRender.call(this),this.closable&&this.addTool({id:"close",handler:this[this.closeAction],scope:this})},showAt:function(a){Ext.Tip.superclass.show.call(this),this.measureWidth===!1||this.initialConfig&&"number"==typeof this.initialConfig.width||this.doAutoWidth(),this.constrainPosition&&(a=this.el.adjustForConstraints(a)),this.setPagePosition(a[0],a[1])},doAutoWidth:function(a){a=a||0;var b=this.body.getTextWidth();this.title&&(b=Math.max(b,this.header.child("span").getTextWidth(this.title))),b+=this.getFrameWidth()+(this.closable?20:0)+this.body.getPadding("lr")+a,this.setWidth(b.constrain(this.minWidth,this.maxWidth)),Ext.isIE7&&!this.repainted&&(this.el.repaint(),this.repainted=!0)},showBy:function(a,b){this.rendered||this.render(Ext.getBody()),this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign))},initDraggable:function(){this.dd=new Ext.Tip.DD(this,"boolean"==typeof this.draggable?null:this.draggable),this.header.addClass("x-tip-draggable")}}),Ext.reg("tip",Ext.Tip),Ext.Tip.DD=function(a,b){Ext.apply(this,b),this.tip=a,Ext.Tip.DD.superclass.constructor.call(this,a.el.id,"WindowDD-"+a.id),this.setHandleElId(a.header.id),this.scroll=!1},Ext.extend(Ext.Tip.DD,Ext.dd.DD,{moveOnly:!0,scroll:!1,headerOffsets:[100,25],startDrag:function(){this.tip.el.disableShadow()},endDrag:function(){this.tip.el.enableShadow(!0)}}),Ext.ToolTip=Ext.extend(Ext.Tip,{showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,constrainPosition:!1,initComponent:function(){Ext.ToolTip.superclass.initComponent.call(this),this.lastActive=new Date,this.initTarget(this.target),this.origAnchor=this.anchor},onRender:function(a,b){Ext.ToolTip.superclass.onRender.call(this,a,b),this.anchorCls="x-tip-anchor-"+this.getAnchorPosition(),this.anchorEl=this.el.createChild({cls:"x-tip-anchor "+this.anchorCls})},afterRender:function(){Ext.ToolTip.superclass.afterRender.call(this),this.anchorEl.setStyle("z-index",this.el.getZIndex()+1)},initTarget:function(a){var b;if(b=Ext.get(a)){if(this.target){var c=Ext.get(this.target);this.mun(c,"mouseover",this.onTargetOver,this),this.mun(c,"mouseout",this.onTargetOut,this),this.mun(c,"mousemove",this.onMouseMove,this)}this.mon(b,{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this}),this.target=b}this.anchor&&(this.anchorTarget=this.target)},onMouseMove:function(a){var b=this.delegate?a.getTarget(this.delegate):this.triggerElement=!0;b?(this.targetXY=a.getXY(),b===this.triggerElement?!this.hidden&&this.trackMouse&&this.setPagePosition(this.getTargetXY()):(this.hide(),this.lastActive=new Date(0),this.onTargetOver(a))):!this.closable&&this.isVisible()&&this.hide()},getTargetXY:function(){if(this.delegate&&(this.anchorTarget=this.triggerElement),this.anchor){this.targetCounter++;var a=this.getOffsets(),b=this.anchorToTarget&&!this.trackMouse?this.el.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY,c=Ext.lib.Dom.getViewWidth()-5,d=Ext.lib.Dom.getViewHeight()-5,e=document.documentElement,f=document.body,g=(e.scrollLeft||f.scrollLeft||0)+5,h=(e.scrollTop||f.scrollTop||0)+5,i=[b[0]+a[0],b[1]+a[1]];if(sz=this.getSize(),this.anchorEl.removeClass(this.anchorCls),this.targetCounter<2){if(i[0]<g)return this.anchorToTarget&&(this.defaultAlign="l-r",this.mouseOffset&&(this.mouseOffset[0]*=-1)),this.anchor="left",this.getTargetXY();if(i[0]+sz.width>c)return this.anchorToTarget&&(this.defaultAlign="r-l",this.mouseOffset&&(this.mouseOffset[0]*=-1)),this.anchor="right",this.getTargetXY();if(i[1]<h)return this.anchorToTarget&&(this.defaultAlign="t-b",this.mouseOffset&&(this.mouseOffset[1]*=-1)),this.anchor="top",this.getTargetXY();if(i[1]+sz.height>d)return this.anchorToTarget&&(this.defaultAlign="b-t",this.mouseOffset&&(this.mouseOffset[1]*=-1)),this.anchor="bottom",this.getTargetXY()}return this.anchorCls="x-tip-anchor-"+this.getAnchorPosition(),this.anchorEl.addClass(this.anchorCls),this.targetCounter=0,i}var j=this.getMouseOffset();return[this.targetXY[0]+j[0],this.targetXY[1]+j[1]]},getMouseOffset:function(){var a=this.anchor?[0,0]:[15,18];return this.mouseOffset&&(a[0]+=this.mouseOffset[0],a[1]+=this.mouseOffset[1]),a},getAnchorPosition:function(){if(this.anchor)this.tipAnchor=this.anchor.charAt(0);else{var a=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!a)throw"AnchorTip.defaultAlign is invalid";this.tipAnchor=a[1].charAt(0)}switch(this.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var a,b=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse)switch(b){case"t":a=[0,9];break;case"b":a=[0,-13];break;case"r":a=[-13,0];break;default:a=[9,0]}else switch(b){case"t":a=[-15-this.anchorOffset,30];break;case"b":a=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case"r":a=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:a=[25,-13-this.anchorOffset]}var c=this.getMouseOffset();return a[0]+=c[0],a[1]+=c[1],a},onTargetOver:function(a){if(!this.disabled&&!a.within(this.target.dom,!0)){var b=a.getTarget(this.delegate);b&&(this.triggerElement=b,this.clearTimer("hide"),this.targetXY=a.getXY(),this.delayShow())}},delayShow:function(){this.hidden&&!this.showTimer?this.lastActive.getElapsed()<this.quickShowInterval?this.show():this.showTimer=this.show.defer(this.showDelay,this):this.hidden||this.autoHide===!1||this.show()},onTargetOut:function(a){this.disabled||a.within(this.target.dom,!0)||(this.clearTimer("show"),this.autoHide!==!1&&this.delayHide())},delayHide:function(){this.hidden||this.hideTimer||(this.hideTimer=this.hide.defer(this.hideDelay,this))},hide:function(){this.clearTimer("dismiss"),this.lastActive=new Date,this.anchorEl&&this.anchorEl.hide(),Ext.ToolTip.superclass.hide.call(this),delete this.triggerElement},show:function(){this.anchor&&(this.showAt([-1e3,-1e3]),this.origConstrainPosition=this.constrainPosition,this.constrainPosition=!1,this.anchor=this.origAnchor),this.showAt(this.getTargetXY()),this.anchor?(this.syncAnchor(),this.anchorEl.show(),this.constrainPosition=this.origConstrainPosition):this.anchorEl.hide()},showAt:function(a){this.lastActive=new Date,this.clearTimers(),Ext.ToolTip.superclass.showAt.call(this,a),this.dismissDelay&&this.autoHide!==!1&&(this.dismissTimer=this.hide.defer(this.dismissDelay,this)),this.anchor&&!this.anchorEl.isVisible()&&(this.syncAnchor(),this.anchorEl.show())},syncAnchor:function(){var a,b,c;switch(this.tipAnchor.charAt(0)){case"t":a="b",b="tl",c=[20+this.anchorOffset,2];break;case"r":a="l",b="tr",c=[-2,11+this.anchorOffset];break;case"b":a="t",b="bl",c=[20+this.anchorOffset,-2];break;default:a="r",b="tl",c=[2,11+this.anchorOffset]}this.anchorEl.alignTo(this.el,a+"-"+b,c)},setPagePosition:function(a,b){Ext.ToolTip.superclass.setPagePosition.call(this,a,b),this.anchor&&this.syncAnchor()},clearTimer:function(a){a+="Timer",clearTimeout(this[a]),delete this[a]},clearTimers:function(){this.clearTimer("show"),this.clearTimer("dismiss"),this.clearTimer("hide")},onShow:function(){Ext.ToolTip.superclass.onShow.call(this),Ext.getDoc().on("mousedown",this.onDocMouseDown,this)},onHide:function(){Ext.ToolTip.superclass.onHide.call(this),Ext.getDoc().un("mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(a){this.autoHide===!0||this.closable||a.within(this.el.dom)||(this.disable(),this.enable.defer(100,this))},onDisable:function(){this.clearTimers(),this.hide()},adjustPosition:function(a,b){if(this.contstrainPosition){var c=this.targetXY[1],d=this.getSize().height;c>=b&&b+d>=c&&(b=c-d-5)}return{x:a,y:b}},beforeDestroy:function(){this.clearTimers(),Ext.destroy(this.anchorEl),delete this.anchorEl,delete this.target,delete this.anchorTarget,delete this.triggerElement,Ext.ToolTip.superclass.beforeDestroy.call(this)},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this),Ext.ToolTip.superclass.onDestroy.call(this)}}),Ext.reg("tooltip",Ext.ToolTip),Ext.QuickTip=Ext.extend(Ext.ToolTip,{interceptTitles:!1,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){this.target=this.target||Ext.getDoc(),this.targets=this.targets||{},Ext.QuickTip.superclass.initComponent.call(this)},register:function(a){for(var b=Ext.isArray(a)?a:arguments,c=0,d=b.length;d>c;c++){var e=b[c],f=e.target;if(f)if(Ext.isArray(f))for(var g=0,h=f.length;h>g;g++)this.targets[Ext.id(f[g])]=e;else this.targets[Ext.id(f)]=e}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this.activeTarget;a=Ext.get(a).dom,this.isVisible()?b&&b.el==a&&this.hide():b&&b.el==a&&this.clearTimer("show")},getTipCfg:function(a){var b,c,d=a.getTarget();return this.interceptTitles&&d.title&&Ext.isString(d.title)?(b=d.title,d.qtip=b,d.removeAttribute("title"),a.preventDefault()):(c=this.tagConfig,b=d.qtip||Ext.fly(d).getAttribute(c.attribute,c.namespace)),b},onTargetOver:function(a){if(!this.disabled){this.targetXY=a.getXY();var b=a.getTarget();if(b&&1===b.nodeType&&b!=document&&b!=document.body){if(this.activeTarget&&(b==this.activeTarget.el||Ext.fly(this.activeTarget.el).contains(b)))return this.clearTimer("hide"),void this.show();if(b&&this.targets[b.id])return this.activeTarget=this.targets[b.id],this.activeTarget.el=b,this.anchor=this.activeTarget.anchor,this.anchor&&(this.anchorTarget=b),void this.delayShow();var c,d=Ext.fly(b),e=this.tagConfig,f=e.namespace;if(c=this.getTipCfg(a)){var g=d.getAttribute(e.hide,f);this.activeTarget={el:b,text:c,width:d.getAttribute(e.width,f),autoHide:"user"!=g&&"false"!==g,title:d.getAttribute(e.title,f),cls:d.getAttribute(e.cls,f),align:d.getAttribute(e.align,f)},this.anchor=d.getAttribute(e.anchor,f),this.anchor&&(this.anchorTarget=b),this.delayShow()}}}},onTargetOut:function(a){this.activeTarget&&a.within(this.activeTarget.el)&&!this.getTipCfg(a)||(this.clearTimer("show"),this.autoHide!==!1&&this.delayHide())},showAt:function(a){var b=this.activeTarget;b&&(this.rendered||(this.render(Ext.getBody()),this.activeTarget=b),b.width?(this.setWidth(b.width),this.body.setWidth(this.adjustBodyWidth(b.width-this.getFrameWidth())),this.measureWidth=!1):this.measureWidth=!0,this.setTitle(b.title||""),this.body.update(b.text),this.autoHide=b.autoHide,this.dismissDelay=b.dismissDelay||this.dismissDelay,this.lastCls&&(this.el.removeClass(this.lastCls),delete this.lastCls),b.cls&&(this.el.addClass(b.cls),this.lastCls=b.cls),this.anchor?this.constrainPosition=!1:b.align?(a=this.el.getAlignToXY(b.el,b.align),this.constrainPosition=!1):this.constrainPosition=!0),Ext.QuickTip.superclass.showAt.call(this,a)},hide:function(){delete this.activeTarget,Ext.QuickTip.superclass.hide.call(this)}}),Ext.reg("quicktip",Ext.QuickTip),Ext.QuickTips=function(){var a,b=[];return{init:function(b){if(!a){if(!Ext.isReady)return void Ext.onReady(function(){Ext.QuickTips.init(b)});a=new Ext.QuickTip({elements:"header,body"}),b!==!1&&a.render(Ext.getBody())}},enable:function(){a&&(b.pop(),b.length<1&&a.enable())},disable:function(){a&&a.disable(),b.push(1)},isEnabled:function(){return void 0!==a&&!a.disabled},getQuickTip:function(){return a},register:function(){a.register.apply(a,arguments)},unregister:function(){a.unregister.apply(a,arguments)},tips:function(){a.register.apply(a,arguments)}}}(),Ext.tree.TreePanel=Ext.extend(Ext.Panel,{rootVisible:!0,animate:Ext.enableFx,lines:!0,enableDD:!1,hlDrop:Ext.enableFx,pathSeparator:"/",bubbleEvents:[],initComponent:function(){Ext.tree.TreePanel.superclass.initComponent.call(this),this.eventModel||(this.eventModel=new Ext.tree.TreeEventModel(this));var a=this.loader;if(a?Ext.isObject(a)&&!a.load&&(a=new Ext.tree.TreeLoader(a)):a=new Ext.tree.TreeLoader({dataUrl:this.dataUrl,requestMethod:this.requestMethod}),this.loader=a,this.nodeHash={},this.root){var b=this.root;delete this.root,this.setRootNode(b)}this.addEvents("append","remove","movenode","insert","beforeappend","beforeremove","beforemovenode","beforeinsert","beforeload","load","textchange","beforeexpandnode","beforecollapsenode","expandnode","disabledchange","collapsenode","beforeclick","click","containerclick","checkchange","beforedblclick","dblclick","containerdblclick","contextmenu","containercontextmenu","beforechildrenrendered","startdrag","enddrag","dragdrop","beforenodedrop","nodedrop","nodedragover"),this.singleExpand&&this.on("beforeexpandnode",this.restrictExpand,this)},proxyNodeEvent:function(a,b,c,d,e,f,g){return("collapse"==a||"expand"==a||"beforecollapse"==a||"beforeexpand"==a||"move"==a||"beforemove"==a)&&(a+="node"),this.fireEvent(a,b,c,d,e,f,g)},getRootNode:function(){return this.root},setRootNode:function(a){if(Ext.destroy(this.root),a.render||(a=this.loader.createNode(a)),this.root=a,a.ownerTree=this,a.isRoot=!0,this.registerNode(a),!this.rootVisible){var b=a.attributes.uiProvider;a.ui=b?new b(a):new Ext.tree.RootTreeNodeUI(a)}return this.innerCt&&(this.innerCt.update(""),this.afterRender()),a},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a){this.nodeHash[a.id]=a},unregisterNode:function(a){delete this.nodeHash[a.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"},restrictExpand:function(a){var b=a.parentNode;b&&(b.expandedChild&&b.expandedChild.parentNode==b&&b.expandedChild.collapse(),b.expandedChild=a)},getChecked:function(a,b){b=b||this.root;var c=[],d=function(){this.attributes.checked&&c.push(a?"id"==a?this.id:this.attributes[a]:this)};return b.cascade(d),c},getLoader:function(){return this.loader},expandAll:function(){this.root.expand(!0)},collapseAll:function(){this.root.collapse(!0)},getSelectionModel:function(){return this.selModel||(this.selModel=new Ext.tree.DefaultSelectionModel),this.selModel},expandPath:function(a,b,c){b=b||"id";var d=a.split(this.pathSeparator),e=this.root;if(e.attributes[b]!=d[1])return void(c&&c(!1,null));var f=1,g=function(){if(++f==d.length)return void(c&&c(!0,e));var a=e.findChild(b,d[f]);return a?(e=a,void a.expand(!1,!1,g)):void(c&&c(!1,e))};e.expand(!1,!1,g)},selectPath:function(a,b,c){b=b||"id";var d=a.split(this.pathSeparator),e=d.pop();if(d.length>1){var f=function(a,d){if(a&&d){var f=d.findChild(b,e);f?(f.select(),c&&c(!0,f)):c&&c(!1,f)}else c&&c(!1,f)};this.expandPath(d.join(this.pathSeparator),b,f)}else this.root.select(),c&&c(!0,this.root)},getTreeEl:function(){return this.body},onRender:function(a,b){Ext.tree.TreePanel.superclass.onRender.call(this,a,b),this.el.addClass("x-tree"),this.innerCt=this.body.createChild({tag:"ul",cls:"x-tree-root-ct "+(this.useArrows?"x-tree-arrows":this.lines?"x-tree-lines":"x-tree-no-lines")})},initEvents:function(){Ext.tree.TreePanel.superclass.initEvents.call(this),this.containerScroll&&Ext.dd.ScrollManager.register(this.body),!this.enableDD&&!this.enableDrop||this.dropZone||(this.dropZone=new Ext.tree.TreeDropZone(this,this.dropConfig||{ddGroup:this.ddGroup||"TreeDD",appendOnly:this.ddAppendOnly===!0})),!this.enableDD&&!this.enableDrag||this.dragZone||(this.dragZone=new Ext.tree.TreeDragZone(this,this.dragConfig||{ddGroup:this.ddGroup||"TreeDD",scroll:this.ddScroll})),this.getSelectionModel().init(this)},afterRender:function(){Ext.tree.TreePanel.superclass.afterRender.call(this),this.root.render(),this.rootVisible||this.root.renderChildren()},beforeDestroy:function(){this.rendered&&(Ext.dd.ScrollManager.unregister(this.body),Ext.destroy(this.dropZone,this.dragZone)),Ext.destroy(this.root,this.loader),this.nodeHash=this.root=this.loader=null,Ext.tree.TreePanel.superclass.beforeDestroy.call(this)}}),Ext.tree.TreePanel.nodeTypes={},Ext.reg("treepanel",Ext.tree.TreePanel),Ext.tree.TreeEventModel=function(a){this.tree=a,this.tree.on("render",this.initEvents,this)},Ext.tree.TreeEventModel.prototype={initEvents:function(){var a=this.tree;a.trackMouseOver!==!1&&a.mon(a.innerCt,{scope:this,mouseover:this.delegateOver,mouseout:this.delegateOut}),a.mon(a.getTreeEl(),{scope:this,click:this.delegateClick,dblclick:this.delegateDblClick,contextmenu:this.delegateContextMenu})},getNode:function(a){var b;if(b=a.getTarget(".x-tree-node-el",10)){var c=Ext.fly(b,"_treeEvents").getAttribute("tree-node-id","ext");if(c)return this.tree.getNodeById(c)}return null},getNodeTarget:function(a){var b=a.getTarget(".x-tree-node-icon",1);return b||(b=a.getTarget(".x-tree-node-el",6)),b},delegateOut:function(a,b){if(this.beforeEvent(a)){if(a.getTarget(".x-tree-ec-icon",1)){var c=this.getNode(a);this.onIconOut(a,c),c==this.lastEcOver&&delete this.lastEcOver}(b=this.getNodeTarget(a))&&!a.within(b,!0)&&this.onNodeOut(a,this.getNode(a))}},delegateOver:function(a,b){this.beforeEvent(a)&&(Ext.isGecko&&!this.trackingDoc&&(Ext.getBody().on("mouseover",this.trackExit,this),this.trackingDoc=!0),this.lastEcOver&&(this.onIconOut(a,this.lastEcOver),delete this.lastEcOver),a.getTarget(".x-tree-ec-icon",1)&&(this.lastEcOver=this.getNode(a),this.onIconOver(a,this.lastEcOver)),(b=this.getNodeTarget(a))&&this.onNodeOver(a,this.getNode(a)))},trackExit:function(a){this.lastOverNode&&!a.within(this.lastOverNode.ui.getEl())&&(this.onNodeOut(a,this.lastOverNode),delete this.lastOverNode,Ext.getBody().un("mouseover",this.trackExit,this),this.trackingDoc=!1)},delegateClick:function(a){this.beforeEvent(a)&&(a.getTarget("input[type=checkbox]",1)?this.onCheckboxClick(a,this.getNode(a)):a.getTarget(".x-tree-ec-icon",1)?this.onIconClick(a,this.getNode(a)):this.getNodeTarget(a)?this.onNodeClick(a,this.getNode(a)):this.onContainerEvent(a,"click"))},delegateDblClick:function(a){this.beforeEvent(a)&&(this.getNodeTarget(a)?this.onNodeDblClick(a,this.getNode(a)):this.onContainerEvent(a,"dblclick"))},delegateContextMenu:function(a){this.beforeEvent(a)&&(this.getNodeTarget(a)?this.onNodeContextMenu(a,this.getNode(a)):this.onContainerEvent(a,"contextmenu"))},onContainerEvent:function(a,b){this.tree.fireEvent("container"+b,this.tree,a)},onNodeClick:function(a,b){b.ui.onClick(a)},onNodeOver:function(a,b){this.lastOverNode=b,b.ui.onOver(a)},onNodeOut:function(a,b){b.ui.onOut(a)},onIconOver:function(a,b){b.ui.addClass("x-tree-ec-over")},onIconOut:function(a,b){b.ui.removeClass("x-tree-ec-over")},onIconClick:function(a,b){b.ui.ecClick(a)},onCheckboxClick:function(a,b){b.ui.onCheckChange(a)},onNodeDblClick:function(a,b){b.ui.onDblClick(a)},onNodeContextMenu:function(a,b){b.ui.onContextMenu(a)},beforeEvent:function(a){return this.disabled?(a.stopEvent(),!1):!0},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}},Ext.tree.DefaultSelectionModel=function(a){this.selNode=null,this.addEvents("selectionchange","beforeselect"),Ext.apply(this,a),Ext.tree.DefaultSelectionModel.superclass.constructor.call(this)},Ext.extend(Ext.tree.DefaultSelectionModel,Ext.util.Observable,{init:function(a){this.tree=a,a.mon(a.getTreeEl(),"keydown",this.onKeyDown,this),a.on("click",this.onNodeClick,this)},onNodeClick:function(a){this.select(a)},select:function(a,b){if(!Ext.fly(a.ui.wrap).isVisible()&&b)return b.call(this,a);var c=this.selNode;return a==c?a.ui.onSelectedChange(!0):this.fireEvent("beforeselect",this,a,c)!==!1&&(c&&c.ui&&c.ui.onSelectedChange(!1),this.selNode=a,a.ui.onSelectedChange(!0),this.fireEvent("selectionchange",this,a,c)),a},unselect:function(a,b){this.selNode==a&&this.clearSelections(b)},clearSelections:function(a){var b=this.selNode;return b&&(b.ui.onSelectedChange(!1),this.selNode=null,a!==!0&&this.fireEvent("selectionchange",this,null)),b},getSelectedNode:function(){return this.selNode},isSelected:function(a){return this.selNode==a},selectPrevious:function(a){if(!(a=a||this.selNode||this.lastSelNode))return null;var b=a.previousSibling;if(b){if(!b.isExpanded()||b.childNodes.length<1)return this.select(b,this.selectPrevious);for(var c=b.lastChild;c&&c.isExpanded()&&Ext.fly(c.ui.wrap).isVisible()&&c.childNodes.length>0;)c=c.lastChild;return this.select(c,this.selectPrevious)}return!a.parentNode||!this.tree.rootVisible&&a.parentNode.isRoot?null:this.select(a.parentNode,this.selectPrevious)},selectNext:function(a){if(!(a=a||this.selNode||this.lastSelNode))return null;if(a.firstChild&&a.isExpanded()&&Ext.fly(a.ui.wrap).isVisible())return this.select(a.firstChild,this.selectNext);if(a.nextSibling)return this.select(a.nextSibling,this.selectNext);if(a.parentNode){var b=null;return a.parentNode.bubble(function(){return this.nextSibling?(b=this.getOwnerTree().selModel.select(this.nextSibling,this.selectNext),!1):void 0}),b}return null},onKeyDown:function(a){var b=this.selNode||this.lastSelNode;if(b){var c=a.getKey();switch(c){case a.DOWN:a.stopEvent(),this.selectNext();break;case a.UP:a.stopEvent(),this.selectPrevious();break;case a.RIGHT:a.preventDefault(),b.hasChildNodes()&&(b.isExpanded()?b.firstChild&&this.select(b.firstChild,a):b.expand());break;case a.LEFT:a.preventDefault(),b.hasChildNodes()&&b.isExpanded()?b.collapse():b.parentNode&&(this.tree.rootVisible||b.parentNode!=this.tree.getRootNode())&&this.select(b.parentNode,a)}}}}),Ext.tree.MultiSelectionModel=function(a){this.selNodes=[],this.selMap={},this.addEvents("selectionchange"),Ext.apply(this,a),Ext.tree.MultiSelectionModel.superclass.constructor.call(this)},Ext.extend(Ext.tree.MultiSelectionModel,Ext.util.Observable,{init:function(a){this.tree=a,a.mon(a.getTreeEl(),"keydown",this.onKeyDown,this),a.on("click",this.onNodeClick,this)},onNodeClick:function(a,b){b.ctrlKey&&this.isSelected(a)?this.unselect(a):this.select(a,b,b.ctrlKey)},select:function(a,b,c){return c!==!0&&this.clearSelections(!0),this.isSelected(a)?(this.lastSelNode=a,a):(this.selNodes.push(a),this.selMap[a.id]=a,this.lastSelNode=a,a.ui.onSelectedChange(!0),this.fireEvent("selectionchange",this,this.selNodes),a)},unselect:function(a){if(this.selMap[a.id]){a.ui.onSelectedChange(!1);var b=this.selNodes,c=b.indexOf(a);-1!=c&&this.selNodes.splice(c,1),delete this.selMap[a.id],this.fireEvent("selectionchange",this,this.selNodes)}},clearSelections:function(a){var b=this.selNodes;if(b.length>0){for(var c=0,d=b.length;d>c;c++)b[c].ui.onSelectedChange(!1);this.selNodes=[],this.selMap={},a!==!0&&this.fireEvent("selectionchange",this,this.selNodes)}},isSelected:function(a){return this.selMap[a.id]?!0:!1},getSelectedNodes:function(){return this.selNodes},onKeyDown:Ext.tree.DefaultSelectionModel.prototype.onKeyDown,selectNext:Ext.tree.DefaultSelectionModel.prototype.selectNext,selectPrevious:Ext.tree.DefaultSelectionModel.prototype.selectPrevious}),Ext.data.Tree=function(a){this.nodeHash={},this.root=null,a&&this.setRootNode(a),this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert"),Ext.data.Tree.superclass.constructor.call(this)},Ext.extend(Ext.data.Tree,Ext.util.Observable,{pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments)},getRootNode:function(){return this.root},setRootNode:function(a){return this.root=a,a.ownerTree=this,a.isRoot=!0,this.registerNode(a),a},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a){this.nodeHash[a.id]=a},unregisterNode:function(a){delete this.nodeHash[a.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"}}),Ext.data.Node=function(a){this.attributes=a||{},this.leaf=this.attributes.leaf,this.id=this.attributes.id,this.id||(this.id=Ext.id(null,"xnode-"),this.attributes.id=this.id),this.childNodes=[],this.childNodes.indexOf||(this.childNodes.indexOf=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return b;return-1}),this.parentNode=null,this.firstChild=null,this.lastChild=null,this.previousSibling=null,this.nextSibling=null,this.addEvents({append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0}),this.listeners=this.attributes.listeners,Ext.data.Node.superclass.constructor.call(this)},Ext.extend(Ext.data.Node,Ext.util.Observable,{fireEvent:function(){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===!1)return!1;var a=this.getOwnerTree();return a&&a.proxyNodeEvent.apply(a,arguments)===!1?!1:!0},isLeaf:function(){return this.leaf===!0},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},isLast:function(){return this.parentNode?this.parentNode.lastChild==this:!0},isFirst:function(){return this.parentNode?this.parentNode.firstChild==this:!0},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes()},appendChild:function(a){var b=!1;if(Ext.isArray(a)?b=a:arguments.length>1&&(b=arguments),!b){if(this.fireEvent("beforeappend",this.ownerTree,this,a)===!1)return!1;var c=this.childNodes.length,d=a.parentNode;if(d){if(a.fireEvent("beforemove",a.getOwnerTree(),a,d,this,c)===!1)return!1;d.removeChild(a)}c=this.childNodes.length,0===c&&this.setFirstChild(a),this.childNodes.push(a),a.parentNode=this;var e=this.childNodes[c-1];return e?(a.previousSibling=e,e.nextSibling=a):a.previousSibling=null,a.nextSibling=null,this.setLastChild(a),a.setOwnerTree(this.getOwnerTree()),this.fireEvent("append",this.ownerTree,this,a,c),d&&a.fireEvent("move",this.ownerTree,a,d,this,c),a}for(var f=0,g=b.length;g>f;f++)this.appendChild(b[f])},removeChild:function(a,b){var c=this.childNodes.indexOf(a);return-1==c?!1:this.fireEvent("beforeremove",this.ownerTree,this,a)===!1?!1:(this.childNodes.splice(c,1),a.previousSibling&&(a.previousSibling.nextSibling=a.nextSibling),a.nextSibling&&(a.nextSibling.previousSibling=a.previousSibling),this.firstChild==a&&this.setFirstChild(a.nextSibling),this.lastChild==a&&this.setLastChild(a.previousSibling),a.clear(),this.fireEvent("remove",this.ownerTree,this,a),b&&a.destroy(),a)},clear:function(a){this.setOwnerTree(null,a),this.parentNode=this.previousSibling=this.nextSibling=null,a&&(this.firstChild=this.lastChild=null)},destroy:function(){this.purgeListeners(),this.clear(!0),Ext.each(this.childNodes,function(a){a.destroy()}),this.childNodes=null},insertBefore:function(a,b){if(!b)return this.appendChild(a);if(a==b)return!1;if(this.fireEvent("beforeinsert",this.ownerTree,this,a,b)===!1)return!1;var c=this.childNodes.indexOf(b),d=a.parentNode,e=c;if(d==this&&this.childNodes.indexOf(a)<c&&e--,d){if(a.fireEvent("beforemove",a.getOwnerTree(),a,d,this,c,b)===!1)return!1;d.removeChild(a)}0===e&&this.setFirstChild(a),this.childNodes.splice(e,0,a),a.parentNode=this;var f=this.childNodes[e-1];return f?(a.previousSibling=f,f.nextSibling=a):a.previousSibling=null,a.nextSibling=b,b.previousSibling=a,a.setOwnerTree(this.getOwnerTree()),this.fireEvent("insert",this.ownerTree,this,a,b),d&&a.fireEvent("move",this.ownerTree,a,d,this,e,b),a},remove:function(a){return this.parentNode.removeChild(this,a),this},item:function(a){return this.childNodes[a]},replaceChild:function(a,b){var c=b?b.nextSibling:null;return this.removeChild(b),this.insertBefore(a,c),b},indexOf:function(a){return this.childNodes.indexOf(a)},getOwnerTree:function(){if(!this.ownerTree)for(var a=this;a;){if(a.ownerTree){this.ownerTree=a.ownerTree;break}a=a.parentNode}return this.ownerTree},getDepth:function(){for(var a=0,b=this;b.parentNode;)++a,b=b.parentNode;return a},setOwnerTree:function(a,b){a!=this.ownerTree&&(this.ownerTree&&this.ownerTree.unregisterNode(this),this.ownerTree=a,b!==!0&&Ext.each(this.childNodes,function(b){b.setOwnerTree(a)}),a&&a.registerNode(this))},setId:function(a){if(a!==this.id){var b=this.ownerTree;b&&b.unregisterNode(this),this.id=this.attributes.id=a,b&&b.registerNode(this),this.onIdChange(a)}},onIdChange:Ext.emptyFn,getPath:function(a){a=a||"id";for(var b=this.parentNode,c=[this.attributes[a]];b;)c.unshift(b.attributes[a]),b=b.parentNode;var d=this.getOwnerTree().pathSeparator;return d+c.join(d)},bubble:function(a,b,c){for(var d=this;d&&a.apply(b||d,c||[d])!==!1;)d=d.parentNode},cascade:function(a,b,c){if(a.apply(b||this,c||[this])!==!1)for(var d=this.childNodes,e=0,f=d.length;f>e;e++)d[e].cascade(a,b,c)},eachChild:function(a,b,c){for(var d=this.childNodes,e=0,f=d.length;f>e&&a.apply(b||this,c||[d[e]])!==!1;e++);},findChild:function(a,b){for(var c=this.childNodes,d=0,e=c.length;e>d;d++)if(c[d].attributes[a]==b)return c[d];return null},findChildBy:function(a,b){for(var c=this.childNodes,d=0,e=c.length;e>d;d++)if(a.call(b||c[d],c[d])===!0)return c[d];return null},sort:function(a,b){var c=this.childNodes,d=c.length;if(d>0){var e=b?function(){a.apply(b,arguments)}:a;c.sort(e);for(var f=0;d>f;f++){var g=c[f];g.previousSibling=c[f-1],g.nextSibling=c[f+1],0===f&&this.setFirstChild(g),f==d-1&&this.setLastChild(g)}}},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){for(var b=this.parentNode;b;){if(b==a)return!0;b=b.parentNode}return!1},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]"}}),Ext.tree.TreeNode=function(a){a=a||{},Ext.isString(a)&&(a={text:a}),this.childrenRendered=!1,this.rendered=!1,Ext.tree.TreeNode.superclass.constructor.call(this,a),this.expanded=a.expanded===!0,this.isTarget=a.isTarget!==!1,this.draggable=a.draggable!==!1&&a.allowDrag!==!1,this.allowChildren=a.allowChildren!==!1&&a.allowDrop!==!1,this.text=a.text,this.disabled=a.disabled===!0,this.hidden=a.hidden===!0,this.addEvents("textchange","beforeexpand","beforecollapse","expand","disabledchange","collapse","beforeclick","click","checkchange","beforedblclick","dblclick","contextmenu","beforechildrenrendered");var b=this.attributes.uiProvider||this.defaultUI||Ext.tree.TreeNodeUI;this.ui=new b(this)},Ext.extend(Ext.tree.TreeNode,Ext.data.Node,{preventHScroll:!0,isExpanded:function(){return this.expanded},getUI:function(){return this.ui},getLoader:function(){var a;return this.loader||((a=this.getOwnerTree())&&a.loader?a.loader:this.loader=new Ext.tree.TreeLoader)},setFirstChild:function(a){var b=this.firstChild;Ext.tree.TreeNode.superclass.setFirstChild.call(this,a),this.childrenRendered&&b&&a!=b&&b.renderIndent(!0,!0),this.rendered&&this.renderIndent(!0,!0)},setLastChild:function(a){var b=this.lastChild;
    Ext.tree.TreeNode.superclass.setLastChild.call(this,a),this.childrenRendered&&b&&a!=b&&b.renderIndent(!0,!0),this.rendered&&this.renderIndent(!0,!0)},appendChild:function(a){a.render||Ext.isArray(a)||(a=this.getLoader().createNode(a));var b=Ext.tree.TreeNode.superclass.appendChild.call(this,a);return b&&this.childrenRendered&&b.render(),this.ui.updateExpandIcon(),b},removeChild:function(a){return this.ownerTree.getSelectionModel().unselect(a),Ext.tree.TreeNode.superclass.removeChild.apply(this,arguments),a.ui.rendered&&a.ui.remove(),this.childNodes.length<1?this.collapse(!1,!1):this.ui.updateExpandIcon(),this.firstChild||this.isHiddenRoot()||(this.childrenRendered=!1),a},insertBefore:function(a,b){a.render||(a=this.getLoader().createNode(a));var c=Ext.tree.TreeNode.superclass.insertBefore.call(this,a,b);return c&&b&&this.childrenRendered&&a.render(),this.ui.updateExpandIcon(),c},setText:function(a){var b=this.text;this.text=this.attributes.text=a,this.rendered&&this.ui.onTextChange(this,a,b),this.fireEvent("textchange",this,a,b)},select:function(){var a=this.getOwnerTree();a&&a.getSelectionModel().select(this)},unselect:function(a){var b=this.getOwnerTree();b&&b.getSelectionModel().unselect(this,a)},isSelected:function(){var a=this.getOwnerTree();return a?a.getSelectionModel().isSelected(this):!1},expand:function(a,b,c,d){if(this.expanded)this.runCallback(c,d||this,[this]);else{if(this.fireEvent("beforeexpand",this,a,b)===!1)return;if(this.childrenRendered||this.renderChildren(),this.expanded=!0,!this.isHiddenRoot()&&this.getOwnerTree().animate&&b!==!1||b)return void this.ui.animExpand(function(){this.fireEvent("expand",this),this.runCallback(c,d||this,[this]),a===!0&&this.expandChildNodes(!0)}.createDelegate(this));this.ui.expand(),this.fireEvent("expand",this),this.runCallback(c,d||this,[this])}a===!0&&this.expandChildNodes(!0)},runCallback:function(a,b,c){Ext.isFunction(a)&&a.apply(b,c)},isHiddenRoot:function(){return this.isRoot&&!this.getOwnerTree().rootVisible},collapse:function(a,b,c,d){if(this.expanded&&!this.isHiddenRoot()){if(this.fireEvent("beforecollapse",this,a,b)===!1)return;if(this.expanded=!1,this.getOwnerTree().animate&&b!==!1||b)return void this.ui.animCollapse(function(){this.fireEvent("collapse",this),this.runCallback(c,d||this,[this]),a===!0&&this.collapseChildNodes(!0)}.createDelegate(this));this.ui.collapse(),this.fireEvent("collapse",this),this.runCallback(c,d||this,[this])}else this.expanded||this.runCallback(c,d||this,[this]);if(a===!0)for(var e=this.childNodes,f=0,g=e.length;g>f;f++)e[f].collapse(!0,!1)},delayedExpand:function(a){this.expandProcId||(this.expandProcId=this.expand.defer(a,this))},cancelExpand:function(){this.expandProcId&&clearTimeout(this.expandProcId),this.expandProcId=!1},toggle:function(){this.expanded?this.collapse():this.expand()},ensureVisible:function(a,b){var c=this.getOwnerTree();c.expandPath(this.parentNode?this.parentNode.getPath():this.getPath(),!1,function(){var d=c.getNodeById(this.id);c.getTreeEl().scrollChildIntoView(d.ui.anchor),this.runCallback(a,b||this,[this])}.createDelegate(this))},expandChildNodes:function(a){for(var b=this.childNodes,c=0,d=b.length;d>c;c++)b[c].expand(a)},collapseChildNodes:function(a){for(var b=this.childNodes,c=0,d=b.length;d>c;c++)b[c].collapse(a)},disable:function(){this.disabled=!0,this.unselect(),this.rendered&&this.ui.onDisableChange&&this.ui.onDisableChange(this,!0),this.fireEvent("disabledchange",this,!0)},enable:function(){this.disabled=!1,this.rendered&&this.ui.onDisableChange&&this.ui.onDisableChange(this,!1),this.fireEvent("disabledchange",this,!1)},renderChildren:function(a){a!==!1&&this.fireEvent("beforechildrenrendered",this);for(var b=this.childNodes,c=0,d=b.length;d>c;c++)b[c].render(!0);this.childrenRendered=!0},sort:function(){if(Ext.tree.TreeNode.superclass.sort.apply(this,arguments),this.childrenRendered)for(var a=this.childNodes,b=0,c=a.length;c>b;b++)a[b].render(!0)},render:function(a){this.ui.render(a),this.rendered||(this.getOwnerTree().registerNode(this),this.rendered=!0,this.expanded&&(this.expanded=!1,this.expand(!1,!1)))},renderIndent:function(a,b){if(b&&(this.ui.childIndent=null),this.ui.renderIndent(),a===!0&&this.childrenRendered)for(var c=this.childNodes,d=0,e=c.length;e>d;d++)c[d].renderIndent(!0,b)},beginUpdate:function(){this.childrenRendered=!1},endUpdate:function(){this.expanded&&this.rendered&&this.renderChildren()},destroy:function(){this.unselect(!0),Ext.tree.TreeNode.superclass.destroy.call(this),Ext.destroy(this.ui,this.loader),this.ui=this.loader=null},onIdChange:function(a){this.ui.onIdChange(a)}}),Ext.tree.TreePanel.nodeTypes.node=Ext.tree.TreeNode,Ext.tree.AsyncTreeNode=function(a){this.loaded=a&&a.loaded===!0,this.loading=!1,Ext.tree.AsyncTreeNode.superclass.constructor.apply(this,arguments),this.addEvents("beforeload","load")},Ext.extend(Ext.tree.AsyncTreeNode,Ext.tree.TreeNode,{expand:function(a,b,c,d){if(this.loading){var e,f=function(){this.loading||(clearInterval(e),this.expand(a,b,c,d))}.createDelegate(this);return void(e=setInterval(f,200))}if(!this.loaded){if(this.fireEvent("beforeload",this)===!1)return;this.loading=!0,this.ui.beforeLoad(this);var g=this.loader||this.attributes.loader||this.getOwnerTree().getLoader();if(g)return void g.load(this,this.loadComplete.createDelegate(this,[a,b,c,d]),this)}Ext.tree.AsyncTreeNode.superclass.expand.call(this,a,b,c,d)},isLoading:function(){return this.loading},loadComplete:function(a,b,c,d){this.loading=!1,this.loaded=!0,this.ui.afterLoad(this),this.fireEvent("load",this),this.expand(a,b,c,d)},isLoaded:function(){return this.loaded},hasChildNodes:function(){return this.isLeaf()||this.loaded?Ext.tree.AsyncTreeNode.superclass.hasChildNodes.call(this):!0},reload:function(a,b){for(this.collapse(!1,!1);this.firstChild;)this.removeChild(this.firstChild).destroy();this.childrenRendered=!1,this.loaded=!1,this.isHiddenRoot()&&(this.expanded=!1),this.expand(!1,!1,a,b)}}),Ext.tree.TreePanel.nodeTypes.async=Ext.tree.AsyncTreeNode,Ext.tree.TreeNodeUI=function(a){this.node=a,this.rendered=!1,this.animating=!1,this.wasLeaf=!0,this.ecc="x-tree-ec-icon x-tree-elbow",this.emptyIcon=Ext.BLANK_IMAGE_URL},Ext.tree.TreeNodeUI.prototype={removeChild:function(a){this.rendered&&this.ctNode.removeChild(a.ui.getEl())},beforeLoad:function(){this.addClass("x-tree-node-loading")},afterLoad:function(){this.removeClass("x-tree-node-loading")},onTextChange:function(a,b){this.rendered&&(this.textNode.innerHTML=b)},onDisableChange:function(a,b){this.disabled=b,this.checkbox&&(this.checkbox.disabled=b),b?this.addClass("x-tree-node-disabled"):this.removeClass("x-tree-node-disabled")},onSelectedChange:function(a){a?(this.focus(),this.addClass("x-tree-selected")):this.removeClass("x-tree-selected")},onMove:function(a,b,c,d,e,f){if(this.childIndent=null,this.rendered){var g=d.ui.getContainer();if(!g)return this.holder=document.createElement("div"),void this.holder.appendChild(this.wrap);var h=f?f.ui.getEl():null;h?g.insertBefore(this.wrap,h):g.appendChild(this.wrap),this.node.renderIndent(!0,c!=d)}},addClass:function(a){this.elNode&&Ext.fly(this.elNode).addClass(a)},removeClass:function(a){this.elNode&&Ext.fly(this.elNode).removeClass(a)},remove:function(){this.rendered&&(this.holder=document.createElement("div"),this.holder.appendChild(this.wrap))},fireEvent:function(){return this.node.fireEvent.apply(this.node,arguments)},initEvents:function(){this.node.on("move",this.onMove,this),this.node.disabled&&this.onDisableChange(this.node,!0),this.node.hidden&&this.hide();var a=this.node.getOwnerTree(),b=a.enableDD||a.enableDrag||a.enableDrop;!b||this.node.isRoot&&!a.rootVisible||Ext.dd.Registry.register(this.elNode,{node:this.node,handles:this.getDDHandles(),isHandle:!1})},getDDHandles:function(){return[this.iconNode,this.textNode,this.elNode]},hide:function(){this.node.hidden=!0,this.wrap&&(this.wrap.style.display="none")},show:function(){this.node.hidden=!1,this.wrap&&(this.wrap.style.display="")},onContextMenu:function(a){(this.node.hasListener("contextmenu")||this.node.getOwnerTree().hasListener("contextmenu"))&&(a.preventDefault(),this.focus(),this.fireEvent("contextmenu",this.node,a))},onClick:function(a){if(this.dropping)return void a.stopEvent();if(this.fireEvent("beforeclick",this.node,a)!==!1){var b=a.getTarget("a");if(!this.disabled&&this.node.attributes.href&&b)return void this.fireEvent("click",this.node,a);if(b&&a.ctrlKey&&a.stopEvent(),a.preventDefault(),this.disabled)return;this.node.attributes.singleClickExpand&&!this.animating&&this.node.isExpandable()&&this.node.toggle(),this.fireEvent("click",this.node,a)}else a.stopEvent()},onDblClick:function(a){a.preventDefault(),this.disabled||this.fireEvent("beforedblclick",this.node,a)!==!1&&(this.checkbox&&this.toggleCheck(),!this.animating&&this.node.isExpandable()&&this.node.toggle(),this.fireEvent("dblclick",this.node,a))},onOver:function(){this.addClass("x-tree-node-over")},onOut:function(){this.removeClass("x-tree-node-over")},onCheckChange:function(){var a=this.checkbox.checked;this.checkbox.defaultChecked=a,this.node.attributes.checked=a,this.fireEvent("checkchange",this.node,a)},ecClick:function(){!this.animating&&this.node.isExpandable()&&this.node.toggle()},startDrop:function(){this.dropping=!0},endDrop:function(){setTimeout(function(){this.dropping=!1}.createDelegate(this),50)},expand:function(){this.updateExpandIcon(),this.ctNode.style.display=""},focus:function(){if(this.node.preventHScroll)try{var a=this.node.getOwnerTree().getTreeEl().dom,b=a.scrollLeft;this.anchor.focus(),a.scrollLeft=b}catch(c){}else try{this.anchor.focus()}catch(c){}},toggleCheck:function(a){var b=this.checkbox;b&&(b.checked=void 0===a?!b.checked:a,this.onCheckChange())},blur:function(){try{this.anchor.blur()}catch(a){}},animExpand:function(a){var b=Ext.get(this.ctNode);return b.stopFx(),this.node.isExpandable()?(this.animating=!0,this.updateExpandIcon(),void b.slideIn("t",{callback:function(){this.animating=!1,Ext.callback(a)},scope:this,duration:this.node.ownerTree.duration||.25})):(this.updateExpandIcon(),this.ctNode.style.display="",void Ext.callback(a))},highlight:function(){var a=this.node.getOwnerTree();Ext.fly(this.wrap).highlight(a.hlColor||"C3DAF9",{endColor:a.hlBaseColor})},collapse:function(){this.updateExpandIcon(),this.ctNode.style.display="none"},animCollapse:function(a){var b=Ext.get(this.ctNode);b.enableDisplayMode("block"),b.stopFx(),this.animating=!0,this.updateExpandIcon(),b.slideOut("t",{callback:function(){this.animating=!1,Ext.callback(a)},scope:this,duration:this.node.ownerTree.duration||.25})},getContainer:function(){return this.ctNode},getEl:function(){return this.wrap},appendDDGhost:function(a){a.appendChild(this.elNode.cloneNode(!0))},getDDRepairXY:function(){return Ext.lib.Dom.getXY(this.iconNode)},onRender:function(){this.render()},render:function(a){var b=this.node,c=b.attributes,d=b.parentNode?b.parentNode.ui.getContainer():b.ownerTree.innerCt.dom;this.rendered?a===!0&&d.appendChild(this.wrap):(this.rendered=!0,this.renderElements(b,c,d,a),c.qtip?this.textNode.setAttributeNS?(this.textNode.setAttributeNS("ext","qtip",c.qtip),c.qtipTitle&&this.textNode.setAttributeNS("ext","qtitle",c.qtipTitle)):(this.textNode.setAttribute("ext:qtip",c.qtip),c.qtipTitle&&this.textNode.setAttribute("ext:qtitle",c.qtipTitle)):c.qtipCfg&&(c.qtipCfg.target=Ext.id(this.textNode),Ext.QuickTips.register(c.qtipCfg)),this.initEvents(),this.node.expanded||this.updateExpandIcon(!0))},renderElements:function(a,b,c,d){this.indentMarkup=a.parentNode?a.parentNode.ui.getChildIndent():"";var e,f=Ext.isBoolean(b.checked),g=b.href?b.href:Ext.isGecko?"":"#",h=['<li class="x-tree-node"><div ext:tree-node-id="',a.id,'" class="x-tree-node-el x-tree-node-leaf x-unselectable ',b.cls,'" unselectable="on">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow" />','<img src="',b.icon||this.emptyIcon,'" class="x-tree-node-icon',b.icon?" x-tree-node-inline-icon":"",b.iconCls?" "+b.iconCls:"",'" unselectable="on" />',f?'<input class="x-tree-node-cb" type="checkbox" '+(b.checked?'checked="checked" />':"/>"):"",'<a hidefocus="on" class="x-tree-node-anchor" href="',g,'" tabIndex="1" ',b.hrefTarget?' target="'+b.hrefTarget+'"':"",'><span unselectable="on">',a.text,"</span></a></div>",'<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>"].join("");this.wrap=d!==!0&&a.nextSibling&&(e=a.nextSibling.ui.getEl())?Ext.DomHelper.insertHtml("beforeBegin",e,h):Ext.DomHelper.insertHtml("beforeEnd",c,h),this.elNode=this.wrap.childNodes[0],this.ctNode=this.wrap.childNodes[1];var i=this.elNode.childNodes;this.indentNode=i[0],this.ecNode=i[1],this.iconNode=i[2];var j=3;f&&(this.checkbox=i[3],this.checkbox.defaultChecked=this.checkbox.checked,j++),this.anchor=i[j],this.textNode=i[j].firstChild},getAnchor:function(){return this.anchor},getTextEl:function(){return this.textNode},getIconEl:function(){return this.iconNode},isChecked:function(){return this.checkbox?this.checkbox.checked:!1},updateExpandIcon:function(){if(this.rendered){var a,b,c=this.node,d=c.isLast()?"x-tree-elbow-end":"x-tree-elbow",e=c.hasChildNodes();e||c.attributes.expandable?(c.expanded?(d+="-minus",a="x-tree-node-collapsed",b="x-tree-node-expanded"):(d+="-plus",a="x-tree-node-expanded",b="x-tree-node-collapsed"),this.wasLeaf&&(this.removeClass("x-tree-node-leaf"),this.wasLeaf=!1),(this.c1!=a||this.c2!=b)&&(Ext.fly(this.elNode).replaceClass(a,b),this.c1=a,this.c2=b)):this.wasLeaf||(Ext.fly(this.elNode).replaceClass("x-tree-node-expanded","x-tree-node-leaf"),delete this.c1,delete this.c2,this.wasLeaf=!0);var f="x-tree-ec-icon "+d;this.ecc!=f&&(this.ecNode.className=f,this.ecc=f)}},onIdChange:function(a){this.rendered&&this.elNode.setAttribute("ext:tree-node-id",a)},getChildIndent:function(){if(!this.childIndent){for(var a=[],b=this.node;b;)(!b.isRoot||b.isRoot&&b.ownerTree.rootVisible)&&a.unshift(b.isLast()?'<img src="'+this.emptyIcon+'" class="x-tree-icon" />':'<img src="'+this.emptyIcon+'" class="x-tree-elbow-line" />'),b=b.parentNode;this.childIndent=a.join("")}return this.childIndent},renderIndent:function(){if(this.rendered){var a="",b=this.node.parentNode;b&&(a=b.ui.getChildIndent()),this.indentMarkup!=a&&(this.indentNode.innerHTML=a,this.indentMarkup=a),this.updateExpandIcon()}},destroy:function(){this.elNode&&Ext.dd.Registry.unregister(this.elNode.id),Ext.each(["textnode","anchor","checkbox","indentNode","ecNode","iconNode","elNode","ctNode","wrap","holder"],function(a){this[a]&&(Ext.fly(this[a]).remove(),delete this[a])},this),delete this.node}},Ext.tree.RootTreeNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{render:function(){if(!this.rendered){var a=this.node.ownerTree.innerCt.dom;this.node.expanded=!0,a.innerHTML='<div class="x-tree-root-node"></div>',this.wrap=this.ctNode=a.firstChild}},collapse:Ext.emptyFn,expand:Ext.emptyFn}),Ext.tree.TreeLoader=function(a){this.baseParams={},Ext.apply(this,a),this.addEvents("beforeload","load","loadexception"),Ext.tree.TreeLoader.superclass.constructor.call(this),Ext.isString(this.paramOrder)&&(this.paramOrder=this.paramOrder.split(/[\s,|]/))},Ext.extend(Ext.tree.TreeLoader,Ext.util.Observable,{uiProviders:{},clearOnLoad:!0,paramOrder:void 0,paramsAsHash:!1,nodeParameter:"node",directFn:void 0,load:function(a,b,c){if(this.clearOnLoad)for(;a.firstChild;)a.removeChild(a.firstChild);this.doPreload(a)?this.runCallback(b,c||a,[a]):(this.directFn||this.dataUrl||this.url)&&this.requestData(a,b,c||a)},doPreload:function(a){if(a.attributes.children){if(a.childNodes.length<1){var b=a.attributes.children;a.beginUpdate();for(var c=0,d=b.length;d>c;c++){var e=a.appendChild(this.createNode(b[c]));this.preloadChildren&&this.doPreload(e)}a.endUpdate()}return!0}return!1},getParams:function(a){var b=[],c=this.baseParams;if(this.directFn){if(b.push(a.id),c)if(this.paramOrder)for(var d=0,e=this.paramOrder.length;e>d;d++)b.push(c[this.paramOrder[d]]);else this.paramsAsHash&&b.push(c);return b}var f=Ext.apply({},c);return f[this.nodeParameter]=a.id,f},requestData:function(a,b,c){if(this.fireEvent("beforeload",this,a,b)!==!1)if(this.directFn){var d=this.getParams(a);d.push(this.processDirectResponse.createDelegate(this,[{callback:b,node:a,scope:c}],!0)),this.directFn.apply(window,d)}else this.transId=Ext.Ajax.request({method:this.requestMethod,url:this.dataUrl||this.url,success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{callback:b,node:a,scope:c},params:this.getParams(a)});else this.runCallback(b,c||a,[])},processDirectResponse:function(a,b,c){b.status?this.handleResponse({responseData:Ext.isArray(a)?a:null,responseText:a,argument:c}):this.handleFailure({argument:c})},runCallback:function(a,b,c){Ext.isFunction(a)&&a.apply(b,c)},isLoading:function(){return!!this.transId},abort:function(){this.isLoading()&&Ext.Ajax.abort(this.transId)},createNode:function(attr){return this.baseAttrs&&Ext.applyIf(attr,this.baseAttrs),this.applyLoader===!1||attr.loader||(attr.loader=this),Ext.isString(attr.uiProvider)&&(attr.uiProvider=this.uiProviders[attr.uiProvider]||eval(attr.uiProvider)),attr.nodeType?new Ext.tree.TreePanel.nodeTypes[attr.nodeType](attr):attr.leaf?new Ext.tree.TreeNode(attr):new Ext.tree.AsyncTreeNode(attr)},processResponse:function(a,b,c,d){var e=a.responseText;try{var f=a.responseData||Ext.decode(e);b.beginUpdate();for(var g=0,h=f.length;h>g;g++){var i=this.createNode(f[g]);i&&b.appendChild(i)}b.endUpdate(),this.runCallback(c,d||b,[b])}catch(j){this.handleFailure(a)}},handleResponse:function(a){this.transId=!1;var b=a.argument;this.processResponse(a,b.node,b.callback,b.scope),this.fireEvent("load",this,b.node,a)},handleFailure:function(a){this.transId=!1;var b=a.argument;this.fireEvent("loadexception",this,b.node,a),this.runCallback(b.callback,b.scope||b.node,[b.node])},destroy:function(){this.purgeListeners()}}),Ext.tree.TreeFilter=function(a,b){this.tree=a,this.filtered={},Ext.apply(this,b)},Ext.tree.TreeFilter.prototype={clearBlank:!1,reverse:!1,autoClear:!1,remove:!1,filter:function(a,b,c){b=b||"text";var d;if("string"==typeof a){var e=a.length;if(0==e&&this.clearBlank)return void this.clear();a=a.toLowerCase(),d=function(c){return c.attributes[b].substr(0,e).toLowerCase()==a}}else{if(!a.exec)throw"Illegal filter type, must be string or regex";d=function(c){return a.test(c.attributes[b])}}this.filterBy(d,null,c)},filterBy:function(a,b,c){c=c||this.tree.root,this.autoClear&&this.clear();var d=this.filtered,e=this.reverse,f=function(f){if(f==c)return!0;if(d[f.id])return!1;var g=a.call(b||f,f);return!g||e?(d[f.id]=f,f.ui.hide(),!1):!0};if(c.cascade(f),this.remove)for(var g in d)if("function"!=typeof g){var h=d[g];h&&h.parentNode&&h.parentNode.removeChild(h)}},clear:function(){var a=(this.tree,this.filtered);for(var b in a)if("function"!=typeof b){var c=a[b];c&&c.ui.show()}this.filtered={}}},Ext.tree.TreeSorter=function(a,b){Ext.apply(this,b),a.on("beforechildrenrendered",this.doSort,this),a.on("append",this.updateSort,this),a.on("insert",this.updateSort,this),a.on("textchange",this.updateSortParent,this);var c=this.dir&&"desc"==this.dir.toLowerCase(),d=this.property||"text",e=this.sortType,f=this.folderSort,g=this.caseSensitive===!0,h=this.leafAttr||"leaf";this.sortFn=function(a,b){if(f){if(a.attributes[h]&&!b.attributes[h])return 1;if(!a.attributes[h]&&b.attributes[h])return-1}var i=e?e(a.attributes[d]):g?a.attributes[d]:a.attributes[d].toUpperCase(),j=e?e(b.attributes[d]):g?b.attributes[d]:b.attributes[d].toUpperCase();return j>i?c?1:-1:i>j?c?-1:1:0}},Ext.tree.TreeSorter.prototype={doSort:function(a){a.sort(this.sortFn)},compareNodes:function(a,b){return a.text.toUpperCase()>b.text.toUpperCase()?1:-1},updateSort:function(a,b){b.childrenRendered&&this.doSort.defer(1,this,[b])},updateSortParent:function(a){var b=a.parentNode;b&&b.childrenRendered&&this.doSort.defer(1,this,[b])}},Ext.dd.DropZone&&(Ext.tree.TreeDropZone=function(a,b){this.allowParentInsert=b.allowParentInsert||!1,this.allowContainerDrop=b.allowContainerDrop||!1,this.appendOnly=b.appendOnly||!1,Ext.tree.TreeDropZone.superclass.constructor.call(this,a.getTreeEl(),b),this.tree=a,this.dragOverData={},this.lastInsertClass="x-tree-no-status"},Ext.extend(Ext.tree.TreeDropZone,Ext.dd.DropZone,{ddGroup:"TreeDD",expandDelay:1e3,expandNode:function(a){a.hasChildNodes()&&!a.isExpanded()&&a.expand(!1,null,this.triggerCacheRefresh.createDelegate(this))},queueExpand:function(a){this.expandProcId=this.expandNode.defer(this.expandDelay,this,[a])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},isValidDropPoint:function(a,b,c,d,e){if(!a||!e)return!1;var f=a.node,g=e.node;if(!(f&&f.isTarget&&b))return!1;if("append"==b&&f.allowChildren===!1)return!1;if(("above"==b||"below"==b)&&f.parentNode&&f.parentNode.allowChildren===!1)return!1;if(g&&(f==g||g.contains(f)))return!1;var h=this.dragOverData;h.tree=this.tree,h.target=f,h.data=e,h.point=b,h.source=c,h.rawEvent=d,h.dropNode=g,h.cancel=!1;var i=this.tree.fireEvent("nodedragover",h);return h.cancel===!1&&i!==!1},getDropPoint:function(a,b){var c=b.node;if(c.isRoot)return c.allowChildren!==!1?"append":!1;var d=b.ddel,e=Ext.lib.Dom.getY(d),f=e+d.offsetHeight,g=Ext.lib.Event.getPageY(a),h=c.allowChildren===!1||c.isLeaf();if(this.appendOnly||c.parentNode.allowChildren===!1)return h?!1:"append";var i=!1;this.allowParentInsert||(i=c.hasChildNodes()&&c.isExpanded());var j=(f-e)/(h?2:3);return g>=e&&e+j>g?"above":!i&&(h||g>=f-j&&f>=g)?"below":"append"},onNodeEnter:function(){this.cancelExpand()},onContainerOver:function(a,b,c){return this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",a,b,c)?this.dropAllowed:this.dropNotAllowed},onNodeOver:function(a,b,c,d){var e=this.getDropPoint(c,a,b),f=a.node;this.expandProcId||"append"!=e||!f.hasChildNodes()||a.node.isExpanded()?"append"!=e&&this.cancelExpand():this.queueExpand(f);var g=this.dropNotAllowed;if(this.isValidDropPoint(a,e,b,c,d)&&e){var h,i=a.ddel;"above"==e?(g=a.node.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between",h="x-tree-drag-insert-above"):"below"==e?(g=a.node.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between",h="x-tree-drag-insert-below"):(g="x-tree-drop-ok-append",h="x-tree-drag-append"),this.lastInsertClass!=h&&(Ext.fly(i).replaceClass(this.lastInsertClass,h),this.lastInsertClass=h)}return g},onNodeOut:function(a){this.cancelExpand(),this.removeDropIndicators(a)},onNodeDrop:function(a,b,c,d){var e=this.getDropPoint(c,a,b),f=a.node;if(f.ui.startDrop(),!this.isValidDropPoint(a,e,b,c,d))return f.ui.endDrop(),!1;var g=d.node||(b.getTreeNode?b.getTreeNode(d,f,e,c):null);return this.processDrop(f,d,e,b,c,g)},onContainerDrop:function(a,b,c){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",a,b,c)){var d=this.tree.getRootNode();d.ui.startDrop();var e=c.node||(a.getTreeNode?a.getTreeNode(c,d,"append",b):null);return this.processDrop(d,c,"append",a,b,e)}return!1},processDrop:function(a,b,c,d,e,f){var g={tree:this.tree,target:a,data:b,point:c,source:d,rawEvent:e,dropNode:f,cancel:!f,dropStatus:!1},h=this.tree.fireEvent("beforenodedrop",g);return h!==!1&&g.cancel!==!0&&g.dropNode?(a=g.target,"append"!=c||a.isExpanded()?this.completeDrop(g):a.expand(!1,null,function(){this.completeDrop(g)}.createDelegate(this)),!0):(a.ui.endDrop(),g.dropStatus)},completeDrop:function(a){var b=a.dropNode,c=a.point,d=a.target;Ext.isArray(b)||(b=[b]);for(var e,f=0,g=b.length;g>f;f++)e=b[f],"above"==c?d.parentNode.insertBefore(e,d):"below"==c?d.parentNode.insertBefore(e,d.nextSibling):d.appendChild(e);e.ui.focus(),Ext.enableFx&&this.tree.hlDrop&&e.ui.highlight(),d.ui.endDrop(),this.tree.fireEvent("nodedrop",a)},afterNodeMoved:function(a,b,c,d,e){Ext.enableFx&&this.tree.hlDrop&&(e.ui.focus(),e.ui.highlight()),this.tree.fireEvent("nodedrop",this.tree,d,b,a,c)},getTree:function(){return this.tree},removeDropIndicators:function(a){if(a&&a.ddel){var b=a.ddel;Ext.fly(b).removeClass(["x-tree-drag-insert-above","x-tree-drag-insert-below","x-tree-drag-append"]),this.lastInsertClass="_noclass"}},beforeDragDrop:function(){return this.cancelExpand(),!0},afterRepair:function(a){a&&Ext.enableFx&&a.node.ui.highlight(),this.hideProxy()}})),Ext.dd.DragZone&&(Ext.tree.TreeDragZone=function(a,b){Ext.tree.TreeDragZone.superclass.constructor.call(this,a.innerCt,b),this.tree=a},Ext.extend(Ext.tree.TreeDragZone,Ext.dd.DragZone,{ddGroup:"TreeDD",onBeforeDrag:function(a){var b=a.node;return b&&b.draggable&&!b.disabled},onInitDrag:function(a){var b=this.dragData;this.tree.getSelectionModel().select(b.node),this.tree.eventModel.disable(),this.proxy.update(""),b.node.ui.appendDDGhost(this.proxy.ghost.dom),this.tree.fireEvent("startdrag",this.tree,b.node,a)},getRepairXY:function(a,b){return b.node.ui.getDDRepairXY()},onEndDrag:function(a,b){this.tree.eventModel.enable.defer(100,this.tree.eventModel),this.tree.fireEvent("enddrag",this.tree,a.node,b)},onValidDrop:function(a,b){this.tree.fireEvent("dragdrop",this.tree,this.dragData.node,a,b),this.hideProxy()},beforeInvalidDrop:function(){var a=this.tree.getSelectionModel();a.clearSelections(),a.select(this.dragData.node)},afterRepair:function(){Ext.enableFx&&this.tree.hlDrop&&Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9"),this.dragging=!1}})),Ext.tree.TreeEditor=function(a,b,c){b=b||{};var d=b.events?b:new Ext.form.TextField(b);Ext.tree.TreeEditor.superclass.constructor.call(this,d,c),this.tree=a,a.rendered?this.initEditor(a):a.on("render",this.initEditor,this)},Ext.extend(Ext.tree.TreeEditor,Ext.Editor,{alignment:"l-l",autoSize:!1,hideEl:!1,cls:"x-small-editor x-tree-editor",shim:!1,shadow:"frame",maxWidth:250,editDelay:350,initEditor:function(a){a.on({scope:this,beforeclick:this.beforeNodeClick,dblclick:this.onNodeDblClick}),this.on({scope:this,complete:this.updateNode,beforestartedit:this.fitToTree,specialkey:this.onSpecialKey}),this.on("startedit",this.bindScroll,this,{delay:10})},fitToTree:function(a,b){var c=this.tree.getTreeEl().dom,d=b.dom;c.scrollLeft>d.offsetLeft&&(c.scrollLeft=d.offsetLeft);var e=Math.min(this.maxWidth,(c.clientWidth>20?c.clientWidth:c.offsetWidth)-Math.max(0,d.offsetLeft-c.scrollLeft)-5);this.setSize(e,"")},triggerEdit:function(a){if(this.completeEdit(),a.attributes.editable!==!1){this.editNode=a,this.tree.autoScroll&&Ext.fly(a.ui.getEl()).scrollIntoView(this.tree.body);var b=a.text||"";return!Ext.isGecko&&Ext.isEmpty(a.text)&&a.setText("&#160;"),this.autoEditTimer=this.startEdit.defer(this.editDelay,this,[a.ui.textNode,b]),!1}},bindScroll:function(){this.tree.getTreeEl().on("scroll",this.cancelEdit,this)},beforeNodeClick:function(a,b){return clearTimeout(this.autoEditTimer),this.tree.getSelectionModel().isSelected(a)?(b.stopEvent(),this.triggerEdit(a)):void 0},onNodeDblClick:function(){clearTimeout(this.autoEditTimer)},updateNode:function(a,b){this.tree.getTreeEl().un("scroll",this.cancelEdit,this),this.editNode.setText(b)},onHide:function(){Ext.tree.TreeEditor.superclass.onHide.call(this),this.editNode&&this.editNode.ui.focus.defer(50,this.editNode.ui)},onSpecialKey:function(a,b){var c=b.getKey();c==b.ESC?(b.stopEvent(),this.cancelEdit()):c!=b.ENTER||b.hasModifier()||(b.stopEvent(),this.completeEdit())},onDestroy:function(){clearTimeout(this.autoEditTimer),Ext.tree.TreeEditor.superclass.onDestroy.call(this);var a=this.tree;a.un("beforeclick",this.beforeNodeClick,this),a.un("dblclick",this.onNodeDblClick,this)}});var swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(b){return}R=!0;for(var c=N.length,d=0;c>d;d++)N[d]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;a>b;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?"ActiveX":"PlugIn",g="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);
    if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}{var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=/win/.test(c?c:b),e=/mac/.test(c?c:b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)i=L.plugins[E].description,!i||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J.ActiveXObject!=C)try{var j=new ActiveXObject(F);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();!function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&!function(){if(!R){try{K.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&!function(){return R?void 0:/loaded|complete/.test(K.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))}(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;a>b;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;c>d;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}()}return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return U.w3?g(a):void 0},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}();Ext.FlashComponent=Ext.extend(Ext.BoxComponent,{flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",flashVars:void 0,flashParams:void 0,url:void 0,swfId:void 0,swfWidth:"100%",swfHeight:"100%",expressInstall:!1,initComponent:function(){Ext.FlashComponent.superclass.initComponent.call(this),this.addEvents("initialize")},onRender:function(){Ext.FlashComponent.superclass.onRender.apply(this,arguments);var a=Ext.apply({allowScriptAccess:"always",bgcolor:this.backgroundColor,wmode:this.wmode},this.flashParams),b=Ext.apply({allowedDomain:document.location.hostname,elementID:this.getId(),eventHandler:"Ext.FlashEventProxy.onEvent"},this.flashVars);new swfobject.embedSWF(this.url,this.id,this.swfWidth,this.swfHeight,this.flashVersion,this.expressInstall?Ext.FlashComponent.EXPRESS_INSTALL_URL:void 0,b,a),this.swf=Ext.getDom(this.id),this.el=Ext.get(this.swf)},getSwfId:function(){return this.swfId||(this.swfId="extswf"+ ++Ext.Component.AUTO_ID)},getId:function(){return this.id||(this.id="extflashcmp"+ ++Ext.Component.AUTO_ID)},onFlashEvent:function(a){switch(a.type){case"swfReady":return void this.initSwf();case"log":return}a.component=this,this.fireEvent(a.type.toLowerCase().replace(/event$/,""),a)},initSwf:function(){this.onSwfReady(!!this.isInitialized),this.isInitialized=!0,this.fireEvent("initialize",this)},beforeDestroy:function(){this.rendered&&swfobject.removeSWF(this.swf.id),Ext.FlashComponent.superclass.beforeDestroy.call(this)},onSwfReady:Ext.emptyFn}),Ext.FlashComponent.EXPRESS_INSTALL_URL="http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf",Ext.reg("flash",Ext.FlashComponent),Ext.FlashEventProxy={onEvent:function(a,b){var c=Ext.getCmp(a);c?c.onFlashEvent(b):arguments.callee.defer(10,this,[a,b])}},Ext.chart.Chart=Ext.extend(Ext.FlashComponent,{refreshBuffer:100,chartStyle:{padding:10,animationEnabled:!0,font:{name:"Tahoma",color:4473924,size:11},dataTip:{padding:5,border:{color:10075112,size:1},background:{color:14346230,alpha:.9},font:{name:"Tahoma",color:1393291,size:10,bold:!0}}},extraStyle:null,seriesStyles:null,disableCaching:Ext.isIE||Ext.isOpera,disableCacheParam:"_dc",initComponent:function(){Ext.chart.Chart.superclass.initComponent.call(this),this.url||(this.url=Ext.chart.Chart.CHART_URL),this.disableCaching&&(this.url=Ext.urlAppend(this.url,String.format("{0}={1}",this.disableCacheParam,(new Date).getTime()))),this.addEvents("itemmouseover","itemmouseout","itemclick","itemdoubleclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh"),this.store=Ext.StoreMgr.lookup(this.store)},setStyle:function(a,b){this.swf.setStyle(a,Ext.encode(b))},setStyles:function(a){this.swf.setStyles(Ext.encode(a))},setSeriesStyles:function(a){this.seriesStyles=a;var b=[];Ext.each(a,function(a){b.push(Ext.encode(a))}),this.swf.setSeriesStyles(b)},setCategoryNames:function(a){this.swf.setCategoryNames(a)},setTipRenderer:function(a){var b=this;this.tipFnName=this.createFnProxy(function(c,d,e){var f=b.store.getAt(d);return a(b,f,d,e)},this.tipFnName),this.swf.setDataTipFunction(this.tipFnName)},setSeries:function(a){this.series=a,this.refresh()},bindStore:function(a,b){!b&&this.store&&(a!==this.store&&this.store.autoDestroy?this.store.destroy():(this.store.un("datachanged",this.refresh,this),this.store.un("add",this.delayRefresh,this),this.store.un("remove",this.delayRefresh,this),this.store.un("update",this.delayRefresh,this),this.store.un("clear",this.refresh,this))),a&&(a=Ext.StoreMgr.lookup(a),a.on({scope:this,datachanged:this.refresh,add:this.delayRefresh,remove:this.delayRefresh,update:this.delayRefresh,clear:this.refresh})),this.store=a,a&&!b&&this.refresh()},onSwfReady:function(a){Ext.chart.Chart.superclass.onSwfReady.call(this,a),this.swf.setType(this.type),this.chartStyle&&this.setStyles(Ext.apply({},this.extraStyle,this.chartStyle)),this.categoryNames&&this.setCategoryNames(this.categoryNames),this.tipRenderer&&this.setTipRenderer(this.tipRenderer),a||this.bindStore(this.store,!0),this.refresh.defer(10,this)},delayRefresh:function(){this.refreshTask||(this.refreshTask=new Ext.util.DelayedTask(this.refresh,this)),this.refreshTask.delay(this.refreshBuffer)},refresh:function(){if(this.fireEvent("beforerefresh",this)!==!1){for(var a=!1,b=[],c=this.store.data.items,d=0,e=c.length;e>d;d++)b[d]=c[d].data;var f=[],g=0,h=null,i=0;if(this.series)for(g=this.series.length,i=0;g>i;i++){h=this.series[i];var j={};for(var k in h)"style"==k&&null!==h.style?(j.style=Ext.encode(h.style),a=!0):j[k]=h[k];f.push(j)}if(g>0)for(i=0;g>i;i++)h=f[i],h.type||(h.type=this.type),h.dataProvider=b;else f.push({type:this.type,dataProvider:b});this.swf.setDataProvider(f),this.seriesStyles&&this.setSeriesStyles(this.seriesStyles),this.fireEvent("refresh",this)}},createFnProxy:function(a,b){b&&delete window[b];var c="extFnProxy"+ ++Ext.chart.Chart.PROXY_FN_ID;return window[c]=a,c},onDestroy:function(){Ext.chart.Chart.superclass.onDestroy.call(this),this.bindStore(null);var a=this.tipFnName;Ext.isEmpty(a)||delete window[a]}}),Ext.reg("chart",Ext.chart.Chart),Ext.chart.Chart.PROXY_FN_ID=0,Ext.chart.Chart.CHART_URL="http://yui.yahooapis.com/2.7.0/build/charts/assets/charts.swf",Ext.chart.PieChart=Ext.extend(Ext.chart.Chart,{type:"pie",onSwfReady:function(a){Ext.chart.PieChart.superclass.onSwfReady.call(this,a),this.setDataField(this.dataField),this.setCategoryField(this.categoryField)},setDataField:function(a){this.dataField=a,this.swf.setDataField(a)},setCategoryField:function(a){this.categoryField=a,this.swf.setCategoryField(a)}}),Ext.reg("piechart",Ext.chart.PieChart),Ext.chart.CartesianChart=Ext.extend(Ext.chart.Chart,{onSwfReady:function(a){Ext.chart.CartesianChart.superclass.onSwfReady.call(this,a),this.xField&&this.setXField(this.xField),this.yField&&this.setYField(this.yField),this.xAxis&&this.setXAxis(this.xAxis),this.yAxis&&this.setYAxis(this.yAxis)},setXField:function(a){this.xField=a,this.swf.setHorizontalField(a)},setYField:function(a){this.yField=a,this.swf.setVerticalField(a)},setXAxis:function(a){this.xAxis=this.createAxis("xAxis",a),this.swf.setHorizontalAxis(this.xAxis)},setYAxis:function(a){this.yAxis=this.createAxis("yAxis",a),this.swf.setVerticalAxis(this.yAxis)},createAxis:function(a,b){var c=Ext.apply({},b),d=null;if(this[a]&&(d=this[a].labelFunction),c.labelRenderer){var e=c.labelRenderer;c.labelFunction=this.createFnProxy(function(a){return e(a)},d),delete c.labelRenderer}return c}}),Ext.reg("cartesianchart",Ext.chart.CartesianChart),Ext.chart.LineChart=Ext.extend(Ext.chart.CartesianChart,{type:"line"}),Ext.reg("linechart",Ext.chart.LineChart),Ext.chart.ColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"column"}),Ext.reg("columnchart",Ext.chart.ColumnChart),Ext.chart.StackedColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackcolumn"}),Ext.reg("stackedcolumnchart",Ext.chart.StackedColumnChart),Ext.chart.BarChart=Ext.extend(Ext.chart.CartesianChart,{type:"bar"}),Ext.reg("barchart",Ext.chart.BarChart),Ext.chart.StackedBarChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackbar"}),Ext.reg("stackedbarchart",Ext.chart.StackedBarChart),Ext.chart.Axis=function(a){Ext.apply(this,a)},Ext.chart.Axis.prototype={type:null,orientation:"horizontal",reverse:!1,labelFunction:null,hideOverlappingLabels:!0},Ext.chart.NumericAxis=Ext.extend(Ext.chart.Axis,{type:"numeric",minimum:0/0,maximum:0/0,majorUnit:0/0,minorUnit:0/0,snapToUnits:!0,alwaysShowZero:!0,scale:"linear"}),Ext.chart.TimeAxis=Ext.extend(Ext.chart.Axis,{type:"time",minimum:null,maximum:null,majorUnit:0/0,majorTimeUnit:null,minorUnit:0/0,minorTimeUnit:null,snapToUnits:!0}),Ext.chart.CategoryAxis=Ext.extend(Ext.chart.Axis,{type:"category",categoryNames:null}),Ext.chart.Series=function(a){Ext.apply(this,a)},Ext.chart.Series.prototype={type:null,displayName:null},Ext.chart.CartesianSeries=Ext.extend(Ext.chart.Series,{xField:null,yField:null}),Ext.chart.ColumnSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"column"}),Ext.chart.LineSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"line"}),Ext.chart.BarSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"bar"}),Ext.chart.PieSeries=Ext.extend(Ext.chart.Series,{type:"pie",dataField:null,categoryField:null}),Ext.layout.MenuLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:!0,setContainer:function(a){this.monitorResize=!a.floating,a.on("autosize",this.doAutoSize,this),Ext.layout.MenuLayout.superclass.setContainer.call(this,a)},renderItem:function(a,b,c){if(this.itemTpl||(this.itemTpl=Ext.layout.MenuLayout.prototype.itemTpl=new Ext.XTemplate('<li id="{itemId}" class="{itemCls}">','<tpl if="needsIcon">','<img src="{icon}" class="{iconCls}"/>',"</tpl>","</li>")),a&&!a.rendered){Ext.isNumber(b)&&(b=c.dom.childNodes[b]);var d=this.getItemArgs(a);a.render(a.positionEl=b?this.itemTpl.insertBefore(b,d,!0):this.itemTpl.append(c,d,!0)),a.positionEl.menuItemId=a.getItemId(),!d.isMenuItem&&d.needsIcon&&a.positionEl.addClass("x-menu-list-item-indent"),this.configureItem(a,b)}else a&&!this.isValidParent(a,c)&&(Ext.isNumber(b)&&(b=c.dom.childNodes[b]),c.dom.insertBefore(a.getActionEl().dom,b||null))},getItemArgs:function(a){var b=a instanceof Ext.menu.Item;return{isMenuItem:b,needsIcon:!b&&(a.icon||a.iconCls),icon:a.icon||Ext.BLANK_IMAGE_URL,iconCls:"x-menu-item-icon "+(a.iconCls||""),itemId:"x-menu-el-"+a.id,itemCls:"x-menu-list-item "}},isValidParent:function(a,b){return a.el.up("li.x-menu-list-item",5).dom.parentNode===(b.dom||b)},onLayout:function(a,b){this.renderAll(a,b),this.doAutoSize()},doAutoSize:function(){var a=this.container,b=a.width;if(a.floating)if(b)a.setWidth(b);else if(Ext.isIE){a.setWidth(Ext.isStrict&&(Ext.isIE7||Ext.isIE8)?"auto":a.minWidth);{var c=a.getEl();c.dom.offsetWidth}a.setWidth(a.getLayoutTarget().getWidth()+c.getFrameWidth("lr"))}}}),Ext.Container.LAYOUTS.menu=Ext.layout.MenuLayout,Ext.menu.Menu=Ext.extend(Ext.Container,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:!1,ignoreParentClicks:!1,enableScrolling:!0,maxHeight:null,scrollIncrement:24,showSeparator:!0,defaultOffsets:[0,0],plain:!1,floating:!0,hidden:!0,layout:"menu",hideMode:"offsets",scrollerHeight:8,autoLayout:!0,defaultType:"menuitem",bufferResize:!1,initComponent:function(){Ext.isArray(this.initialConfig)&&Ext.apply(this,{items:this.initialConfig}),this.addEvents("click","mouseover","mouseout","itemclick"),Ext.menu.MenuMgr.register(this),this.floating?Ext.EventManager.onWindowResize(this.hide,this):(this.initialConfig.hidden!==!1&&(this.hidden=!1),this.internalDefaults={hideOnClick:!1}),Ext.menu.Menu.superclass.initComponent.call(this),this.autoLayout&&this.on({add:this.doLayout,remove:this.doLayout,scope:this})},getLayoutTarget:function(){return this.ul},onRender:function(a,b){a||(a=Ext.getBody());var c={id:this.getId(),cls:"x-menu "+(this.floating?"x-menu-floating x-layer ":"")+(this.cls||"")+(this.plain?" x-menu-plain":"")+(this.showSeparator?"":" x-menu-nosep"),style:this.style,cn:[{tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"},{tag:"ul",cls:"x-menu-list"}]};this.el=this.floating?new Ext.Layer({shadow:this.shadow,dh:c,constrain:!1,parentEl:a,zindex:15e3}):a.createChild(c),Ext.menu.Menu.superclass.onRender.call(this,a,b),this.keyNav||(this.keyNav=new Ext.menu.MenuNav(this)),this.focusEl=this.el.child("a.x-menu-focus"),this.ul=this.el.child("ul.x-menu-list"),this.mon(this.ul,{scope:this,click:this.onClick,mouseover:this.onMouseOver,mouseout:this.onMouseOut}),this.enableScrolling&&this.mon(this.el,{scope:this,delegate:".x-menu-scroller",click:this.onScroll,mouseover:this.deactivateActive})},findTargetItem:function(a){var b=a.getTarget(".x-menu-list-item",this.ul,!0);return b&&b.menuItemId?this.items.get(b.menuItemId):void 0},onClick:function(a){var b=this.findTargetItem(a);b&&(b.isFormField?this.setActiveItem(b):b instanceof Ext.menu.BaseItem&&(b.menu&&this.ignoreParentClicks?(b.expandMenu(),a.preventDefault()):b.onClick&&(b.onClick(a),this.fireEvent("click",this,b,a))))},setActiveItem:function(a,b){a!=this.activeItem?(this.deactivateActive(),(this.activeItem=a).isFormField?a.focus():a.activate(b)):b&&a.expandMenu()},deactivateActive:function(){var a=this.activeItem;a&&(a.isFormField?a.collapse&&a.collapse():a.deactivate(),delete this.activeItem)},tryActivate:function(a,b){for(var c=this.items,d=a,e=c.length;d>=0&&e>d;d+=b){var f=c.get(d);if(!f.disabled&&(f.canActivate||f.isFormField))return this.setActiveItem(f,!1),f}return!1},onMouseOver:function(a){var b=this.findTargetItem(a);b&&b.canActivate&&!b.disabled&&this.setActiveItem(b,!0),this.over=!0,this.fireEvent("mouseover",this,a,b)},onMouseOut:function(a){var b=this.findTargetItem(a);b&&b==this.activeItem&&b.shouldDeactivate&&b.shouldDeactivate(a)&&(this.activeItem.deactivate(),delete this.activeItem),this.over=!1,this.fireEvent("mouseout",this,a,b)},onScroll:function(a,b){a&&a.stopEvent();var c=this.ul.dom,d=Ext.fly(b).is(".x-menu-scroller-top");c.scrollTop+=this.scrollIncrement*(d?-1:1),(d?c.scrollTop<=0:c.scrollTop+this.activeMax>=c.scrollHeight)&&this.onScrollerOut(null,b)},onScrollerIn:function(a,b){var c=this.ul.dom,d=Ext.fly(b).is(".x-menu-scroller-top");(d?c.scrollTop>0:c.scrollTop+this.activeMax<c.scrollHeight)&&Ext.fly(b).addClass(["x-menu-item-active","x-menu-scroller-active"])},onScrollerOut:function(a,b){Ext.fly(b).removeClass(["x-menu-item-active","x-menu-scroller-active"])},show:function(a,b,c){this.floating?(this.parentMenu=c,this.el||(this.render(),this.doLayout(!1,!0)),this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign,this.defaultOffsets),c)):Ext.menu.Menu.superclass.show.call(this)},showAt:function(a,b){this.fireEvent("beforeshow",this)!==!1&&(this.parentMenu=b,this.el||this.render(),this.enableScrolling?(this.el.setXY(a),this.constrainScroll(a[1]),a=[this.el.adjustForConstraints(a)[0],a[1]]):a=this.el.adjustForConstraints(a),this.el.setXY(a),this.el.show(),Ext.menu.Menu.superclass.onShow.call(this),Ext.isIE&&(this.fireEvent("autosize",this),Ext.isIE8||this.el.repaint()),this.hidden=!1,this.focus(),this.fireEvent("show",this))},constrainScroll:function(a){var b,c=this.ul.setHeight("auto").getHeight();b=this.floating?this.maxHeight?this.maxHeight:Ext.fly(this.el.dom.parentNode).getViewSize(!1).height-a:this.getHeight(),c>b&&b>0?(this.activeMax=b-2*this.scrollerHeight-this.el.getFrameWidth("tb")-Ext.num(this.el.shadowOffset,0),this.ul.setHeight(this.activeMax),this.createScrollers(),this.el.select(".x-menu-scroller").setDisplayed("")):(this.ul.setHeight(c),this.el.select(".x-menu-scroller").setDisplayed("none")),this.ul.dom.scrollTop=0},createScrollers:function(){this.scroller||(this.scroller={pos:0,top:this.el.insertFirst({tag:"div",cls:"x-menu-scroller x-menu-scroller-top",html:"&#160;"}),bottom:this.el.createChild({tag:"div",cls:"x-menu-scroller x-menu-scroller-bottom",html:"&#160;"})},this.scroller.top.hover(this.onScrollerIn,this.onScrollerOut,this),this.scroller.topRepeater=new Ext.util.ClickRepeater(this.scroller.top,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.top],!1)}}),this.scroller.bottom.hover(this.onScrollerIn,this.onScrollerOut,this),this.scroller.bottomRepeater=new Ext.util.ClickRepeater(this.scroller.bottom,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.bottom],!1)}}))},onLayout:function(){this.isVisible()&&(this.enableScrolling&&this.constrainScroll(this.el.getTop()),this.floating&&this.el.sync())},focus:function(){this.hidden||this.doFocus.defer(50,this)},doFocus:function(){this.hidden||this.focusEl.focus()},hide:function(a){this.deepHide=a,Ext.menu.Menu.superclass.hide.call(this),delete this.deepHide},onHide:function(){Ext.menu.Menu.superclass.onHide.call(this),this.deactivateActive(),this.el&&this.floating&&this.el.hide();var a=this.parentMenu;this.deepHide===!0&&a&&(a.floating?a.hide(!0):a.deactivateActive())},lookupComponent:function(a){return Ext.isString(a)?(a="separator"==a||"-"==a?new Ext.menu.Separator:new Ext.menu.TextItem(a),this.applyDefaults(a)):Ext.isObject(a)?a=this.getMenuItem(a):(a.tagName||a.el)&&(a=new Ext.BoxComponent({el:a})),a},applyDefaults:function(a){if(!Ext.isString(a)){a=Ext.menu.Menu.superclass.applyDefaults.call(this,a);var b=this.internalDefaults;b&&(a.events?(Ext.applyIf(a.initialConfig,b),Ext.apply(a,b)):Ext.applyIf(a,b))}return a},getMenuItem:function(a){return a.isXType?a:!a.xtype&&Ext.isBoolean(a.checked)?new Ext.menu.CheckItem(a):Ext.create(a,this.defaultType)},addSeparator:function(){return this.add(new Ext.menu.Separator)},addElement:function(a){return this.add(new Ext.menu.BaseItem(a))},addItem:function(a){return this.add(a)},addMenuItem:function(a){return this.add(this.getMenuItem(a))},addText:function(a){return this.add(new Ext.menu.TextItem(a))},onDestroy:function(){var a=this.parentMenu;a&&a.activeChild==this&&delete a.activeChild,delete this.parentMenu,Ext.menu.Menu.superclass.onDestroy.call(this),Ext.menu.MenuMgr.unregister(this),Ext.EventManager.removeResizeListener(this.hide,this),this.keyNav&&this.keyNav.disable();var b=this.scroller;b&&Ext.destroy(b.topRepeater,b.bottomRepeater,b.top,b.bottom),Ext.destroy(this.el,this.focusEl,this.ul)}}),Ext.reg("menu",Ext.menu.Menu),Ext.menu.MenuNav=Ext.extend(Ext.KeyNav,function(){function a(a,b){b.tryActivate(b.items.indexOf(b.activeItem)-1,-1)||b.tryActivate(b.items.length-1,-1)}function b(a,b){b.tryActivate(b.items.indexOf(b.activeItem)+1,1)||b.tryActivate(0,1)}return{constructor:function(a){Ext.menu.MenuNav.superclass.constructor.call(this,a.el),this.scope=this.menu=a},doRelay:function(a,b){var c=a.getKey();return this.menu.activeItem&&this.menu.activeItem.isFormField&&c!=a.TAB?!1:!this.menu.activeItem&&a.isNavKeyPress()&&c!=a.SPACE&&c!=a.RETURN?(this.menu.tryActivate(0,1),!1):b.call(this.scope||this,a,this.menu)},tab:function(c,d){c.stopEvent(),c.shiftKey?a(c,d):b(c,d)},up:a,down:b,right:function(a,b){b.activeItem&&b.activeItem.expandMenu(!0)},left:function(a,b){b.hide(),b.parentMenu&&b.parentMenu.activeItem&&b.parentMenu.activeItem.activate()},enter:function(a,b){return b.activeItem?(a.stopPropagation(),b.activeItem.onClick(a),b.fireEvent("click",this,b.activeItem),!0):void 0}}}()),Ext.menu.MenuMgr=function(){function a(){i={},j=new Ext.util.MixedCollection,Ext.getDoc().addKeyListener(27,function(){j.length>0&&b()})}function b(){if(j&&j.length>0){var a=j.clone();return a.each(function(a){a.hide()}),!0}return!1}function c(a){j.remove(a),j.length<1&&(Ext.getDoc().un("mousedown",g),l=!1)}function d(a){var b=j.last();m=new Date,j.add(a),l||(Ext.getDoc().on("mousedown",g),l=!0),a.parentMenu?(a.getEl().setZIndex(parseInt(a.parentMenu.getEl().getStyle("z-index"),10)+3),a.parentMenu.activeChild=a):b&&b.isVisible()&&a.getEl().setZIndex(parseInt(b.getEl().getStyle("z-index"),10)+3)}function e(a){a.activeChild&&a.activeChild.hide(),a.autoHideTimer&&(clearTimeout(a.autoHideTimer),delete a.autoHideTimer)}function f(a){var c=a.parentMenu;c||a.allowOtherMenus?c&&c.activeChild&&c.activeChild.hide():b()}function g(a){m.getElapsed()>50&&j.length>0&&!a.getTarget(".x-menu")&&b()}function h(a,b){if(b)for(var c=k[a.group],d=0,e=c.length;e>d;d++)c[d]!=a&&c[d].setChecked(!1)}var i,j,k={},l=!1,m=new Date;return{hideAll:function(){return b()},register:function(b){i||a(),i[b.id]=b,b.on({beforehide:e,hide:c,beforeshow:f,show:d})},get:function(a){return"string"==typeof a?i?i[a]:null:a.events?a:"number"==typeof a.length?new Ext.menu.Menu({items:a}):Ext.create(a,"menu")},unregister:function(a){delete i[a.id],a.un("beforehide",e),a.un("hide",c),a.un("beforeshow",f),a.un("show",d)},registerCheckable:function(a){var b=a.group;b&&(k[b]||(k[b]=[]),k[b].push(a),a.on("beforecheckchange",h))},unregisterCheckable:function(a){var b=a.group;b&&(k[b].remove(a),a.un("beforecheckchange",h))},getCheckedItem:function(a){var b=k[a];if(b)for(var c=0,d=b.length;d>c;c++)if(b[c].checked)return b[c];return null},setCheckedItem:function(a,b){var c=k[a];if(c)for(var d=0,e=c.length;e>d;d++)c[d].id==b&&c[d].setChecked(!0);return null}}}(),Ext.menu.BaseItem=Ext.extend(Ext.Component,{canActivate:!1,activeClass:"x-menu-item-active",hideOnClick:!0,clickHideDelay:1,ctype:"Ext.menu.BaseItem",actionMode:"container",initComponent:function(){Ext.menu.BaseItem.superclass.initComponent.call(this),this.addEvents("click","activate","deactivate"),this.handler&&this.on("click",this.handler,this.scope)},onRender:function(){Ext.menu.BaseItem.superclass.onRender.apply(this,arguments),this.ownerCt&&this.ownerCt instanceof Ext.menu.Menu?this.parentMenu=this.ownerCt:(this.container.addClass("x-menu-list-item"),this.mon(this.el,{scope:this,click:this.onClick,mouseenter:this.activate,mouseleave:this.deactivate}))},setHandler:function(a,b){this.handler&&this.un("click",this.handler,this.scope),this.on("click",this.handler=a,this.scope=b)},onClick:function(a){!this.disabled&&this.fireEvent("click",this,a)!==!1&&this.parentMenu&&this.parentMenu.fireEvent("itemclick",this,a)!==!1?this.handleClick(a):a.stopEvent()},activate:function(){if(this.disabled)return!1;var a=this.container;return a.addClass(this.activeClass),this.region=a.getRegion().adjust(2,2,-2,-2),this.fireEvent("activate",this),!0},deactivate:function(){this.container.removeClass(this.activeClass),this.fireEvent("deactivate",this)},shouldDeactivate:function(a){return!this.region||!this.region.contains(a.getPoint())},handleClick:function(){var a=this.parentMenu;this.hideOnClick&&(a.floating?a.hide.defer(this.clickHideDelay,a,[!0]):a.deactivateActive())},expandMenu:Ext.emptyFn,hideMenu:Ext.emptyFn}),Ext.reg("menubaseitem",Ext.menu.BaseItem),Ext.menu.TextItem=Ext.extend(Ext.menu.BaseItem,{hideOnClick:!1,itemCls:"x-menu-text",constructor:function(a){"string"==typeof a&&(a={text:a}),Ext.menu.TextItem.superclass.constructor.call(this,a)},onRender:function(){var a=document.createElement("span");a.className=this.itemCls,a.innerHTML=this.text,this.el=a,Ext.menu.TextItem.superclass.onRender.apply(this,arguments)}}),Ext.reg("menutextitem",Ext.menu.TextItem),Ext.menu.Separator=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:!1,activeClass:"",onRender:function(a){var b=document.createElement("span");b.className=this.itemCls,b.innerHTML="&#160;",this.el=b,a.addClass("x-menu-sep-li"),Ext.menu.Separator.superclass.onRender.apply(this,arguments)}}),Ext.reg("menuseparator",Ext.menu.Separator),Ext.menu.Item=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:!0,showDelay:200,hideDelay:200,ctype:"Ext.menu.Item",initComponent:function(){Ext.menu.Item.superclass.initComponent.call(this),this.menu&&(this.menu=Ext.menu.MenuMgr.get(this.menu),this.menu.ownerCt=this)},onRender:function(a,b){this.itemTpl||(this.itemTpl=Ext.menu.Item.prototype.itemTpl=new Ext.XTemplate('<a id="{id}" class="{cls}" hidefocus="true" unselectable="on" href="{href}"','<tpl if="hrefTarget">',' target="{hrefTarget}"',"</tpl>",">",'<img src="{icon}" class="x-menu-item-icon {iconCls}"/>','<span class="x-menu-item-text">{text}</span>',"</a>"));var c=this.getTemplateArgs();this.el=b?this.itemTpl.insertBefore(b,c,!0):this.itemTpl.append(a,c,!0),this.iconEl=this.el.child("img.x-menu-item-icon"),this.textEl=this.el.child(".x-menu-item-text"),this.href||this.mon(this.el,"click",Ext.emptyFn,null,{preventDefault:!0}),Ext.menu.Item.superclass.onRender.call(this,a,b)},getTemplateArgs:function(){return{id:this.id,cls:this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:""),href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||Ext.BLANK_IMAGE_URL,iconCls:this.iconCls||"",text:this.itemText||this.text||"&#160;"}},setText:function(a){this.text=a||"&#160;",this.rendered&&(this.textEl.update(this.text),this.parentMenu.layout.doAutoSize())},setIconClass:function(a){var b=this.iconCls;this.iconCls=a,this.rendered&&this.iconEl.replaceClass(b,this.iconCls)},beforeDestroy:function(){this.menu&&(delete this.menu.ownerCt,this.menu.destroy()),Ext.menu.Item.superclass.beforeDestroy.call(this)},handleClick:function(a){this.href||a.stopEvent(),Ext.menu.Item.superclass.handleClick.apply(this,arguments)},activate:function(a){return Ext.menu.Item.superclass.activate.apply(this,arguments)&&(this.focus(),a&&this.expandMenu()),!0},shouldDeactivate:function(a){return Ext.menu.Item.superclass.shouldDeactivate.call(this,a)?this.menu&&this.menu.isVisible()?!this.menu.getEl().getRegion().contains(a.getPoint()):!0:!1},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,arguments),this.hideMenu()},expandMenu:function(a){!this.disabled&&this.menu&&(clearTimeout(this.hideTimer),delete this.hideTimer,this.menu.isVisible()||this.showTimer?this.menu.isVisible()&&a&&this.menu.tryActivate(0,1):this.showTimer=this.deferExpand.defer(this.showDelay,this,[a]))},deferExpand:function(a){delete this.showTimer,this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu),a&&this.menu.tryActivate(0,1)},hideMenu:function(){clearTimeout(this.showTimer),delete this.showTimer,!this.hideTimer&&this.menu&&this.menu.isVisible()&&(this.hideTimer=this.deferHide.defer(this.hideDelay,this))},deferHide:function(){delete this.hideTimer,this.menu.over?this.parentMenu.setActiveItem(this,!1):this.menu.hide()}}),Ext.reg("menuitem",Ext.menu.Item),Ext.menu.CheckItem=Ext.extend(Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:!1,ctype:"Ext.menu.CheckItem",initComponent:function(){Ext.menu.CheckItem.superclass.initComponent.call(this),this.addEvents("beforecheckchange","checkchange"),this.checkHandler&&this.on("checkchange",this.checkHandler,this.scope),Ext.menu.MenuMgr.registerCheckable(this)},onRender:function(){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments),this.group&&this.el.addClass(this.groupClass),this.checked&&(this.checked=!1,this.setChecked(!0,!0))},destroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this),Ext.menu.CheckItem.superclass.destroy.apply(this,arguments)},setChecked:function(a,b){this.checked!=a&&this.fireEvent("beforecheckchange",this,a)!==!1&&(this.container&&this.container[a?"addClass":"removeClass"]("x-menu-item-checked"),this.checked=a,b!==!0&&this.fireEvent("checkchange",this,a))},handleClick:function(){this.disabled||this.checked&&this.group||this.setChecked(!this.checked),Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments)}}),Ext.reg("menucheckitem",Ext.menu.CheckItem),Ext.menu.DateMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:!1,hideOnClick:!0,pickerId:null,cls:"x-date-menu",initComponent:function(){this.on("beforeshow",this.onBeforeShow,this),(this.strict=Ext.isIE7&&Ext.isStrict)&&this.on("show",this.onShow,this,{single:!0,delay:20}),Ext.apply(this,{plain:!0,showSeparator:!1,items:this.picker=new Ext.DatePicker(Ext.applyIf({internalRender:this.strict||!Ext.isIE,ctCls:"x-menu-date-item",id:this.pickerId},this.initialConfig))}),this.picker.purgeListeners(),Ext.menu.DateMenu.superclass.initComponent.call(this),this.relayEvents(this.picker,["select"]),this.on("show",this.picker.focus,this.picker),this.on("select",this.menuHide,this),this.handler&&this.on("select",this.handler,this.scope||this)},menuHide:function(){this.hideOnClick&&this.hide(!0)},onBeforeShow:function(){this.picker&&this.picker.hideMonthPicker(!0)},onShow:function(){var a=this.picker.getEl();a.setWidth(a.getWidth())
}}),Ext.reg("datemenu",Ext.menu.DateMenu),Ext.menu.ColorMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:!1,hideOnClick:!0,cls:"x-color-menu",paletteId:null,initComponent:function(){Ext.apply(this,{plain:!0,showSeparator:!1,items:this.palette=new Ext.ColorPalette(Ext.applyIf({id:this.paletteId},this.initialConfig))}),this.palette.purgeListeners(),Ext.menu.ColorMenu.superclass.initComponent.call(this),this.relayEvents(this.palette,["select"]),this.on("select",this.menuHide,this),this.handler&&this.on("select",this.handler,this.scope||this)},menuHide:function(){this.hideOnClick&&this.hide(!0)}}),Ext.reg("colormenu",Ext.menu.ColorMenu),Ext.form.Field=Ext.extend(Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:!0,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:!1,disabled:!1,submitValue:!0,isFormField:!0,msgDisplay:"",hasFocus:!1,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this),this.addEvents("focus","blur","specialkey","change","invalid","valid")},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:this.name||this.id||""},onRender:function(a,b){if(!this.el){var c=this.getAutoCreate();c.name||(c.name=this.name||this.id),this.inputType&&(c.type=this.inputType),this.autoEl=c}Ext.form.Field.superclass.onRender.call(this,a,b),this.submitValue===!1&&this.el.dom.removeAttribute("name");var d=this.el.dom.type;d&&("password"==d&&(d="text"),this.el.addClass("x-form-"+d)),this.readOnly&&this.setReadOnly(!0),void 0!==this.tabIndex&&this.el.dom.setAttribute("tabIndex",this.tabIndex),this.el.addClass([this.fieldClass,this.cls])},getItemCt:function(){return this.itemCt},initValue:function(){void 0!==this.value?this.setValue(this.value):Ext.isEmpty(this.el.dom.value)||this.el.dom.value==this.emptyText||this.setValue(this.el.dom.value),this.originalValue=this.getValue()},isDirty:function(){return this.disabled||!this.rendered?!1:String(this.getValue())!==String(this.originalValue)},setReadOnly:function(a){this.rendered&&(this.el.dom.readOnly=a),this.readOnly=a},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this),this.initEvents(),this.initValue()},fireKey:function(a){a.isSpecialKey()&&this.fireEvent("specialkey",this,a)},reset:function(){this.setValue(this.originalValue),this.clearInvalid()},initEvents:function(){this.mon(this.el,Ext.EventManager.useKeydown?"keydown":"keypress",this.fireKey,this),this.mon(this.el,"focus",this.onFocus,this),this.mon(this.el,"blur",this.onBlur,this,this.inEditor?{buffer:10}:null)},preFocus:Ext.emptyFn,onFocus:function(){this.preFocus(),this.focusClass&&this.el.addClass(this.focusClass),this.hasFocus||(this.hasFocus=!0,this.startValue=this.getValue(),this.fireEvent("focus",this))},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur(),this.focusClass&&this.el.removeClass(this.focusClass),this.hasFocus=!1,this.validationEvent===!1||!this.validateOnBlur&&"blur"!=this.validationEvent||this.validate();var a=this.getValue();String(a)!==String(this.startValue)&&this.fireEvent("change",this,a,this.startValue),this.fireEvent("blur",this),this.postBlur()},postBlur:Ext.emptyFn,isValid:function(a){if(this.disabled)return!0;var b=this.preventMark;this.preventMark=a===!0;var c=this.validateValue(this.processValue(this.getRawValue()));return this.preventMark=b,c},validate:function(){return this.disabled||this.validateValue(this.processValue(this.getRawValue()))?(this.clearInvalid(),!0):!1},processValue:function(a){return a},validateValue:function(){return!0},getActiveError:function(){return this.activeError||""},markInvalid:function(a){if(this.rendered&&!this.preventMark){a=a||this.invalidText;var b=this.getMessageHandler();if(b)b.mark(this,a);else if(this.msgTarget){this.el.addClass(this.invalidClass);var c=Ext.getDom(this.msgTarget);c&&(c.innerHTML=a,c.style.display=this.msgDisplay)}this.activeError=a,this.fireEvent("invalid",this,a)}},clearInvalid:function(){if(this.rendered&&!this.preventMark){this.el.removeClass(this.invalidClass);var a=this.getMessageHandler();if(a)a.clear(this);else if(this.msgTarget){this.el.removeClass(this.invalidClass);var b=Ext.getDom(this.msgTarget);b&&(b.innerHTML="",b.style.display="none")}delete this.activeError,this.fireEvent("valid",this)}},getMessageHandler:function(){return Ext.form.MessageTargets[this.msgTarget]},getErrorCt:function(){return this.el.findParent(".x-form-element",5,!0)||this.el.findParent(".x-form-field-wrap",5,!0)},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0])},getRawValue:function(){var a=this.rendered?this.el.getValue():Ext.value(this.value,"");return a===this.emptyText&&(a=""),a},getValue:function(){if(!this.rendered)return this.value;var a=this.el.getValue();return(a===this.emptyText||void 0===a)&&(a=""),a},setRawValue:function(a){return this.rendered?this.el.dom.value=Ext.isEmpty(a)?"":a:""},setValue:function(a){return this.value=a,this.rendered&&(this.el.dom.value=Ext.isEmpty(a)?"":a,this.validate()),this},append:function(a){this.setValue([this.getValue(),a].join(""))}}),Ext.form.MessageTargets={qtip:{mark:function(a,b){a.el.addClass(a.invalidClass),a.el.dom.qtip=b,a.el.dom.qclass="x-form-invalid-tip",Ext.QuickTips&&Ext.QuickTips.enable()},clear:function(a){a.el.removeClass(a.invalidClass),a.el.dom.qtip=""}},title:{mark:function(a,b){a.el.addClass(a.invalidClass),a.el.dom.title=b},clear:function(a){a.el.dom.title=""}},under:{mark:function(a,b){if(a.el.addClass(a.invalidClass),!a.errorEl){var c=a.getErrorCt();if(!c)return void(a.el.dom.title=b);a.errorEl=c.createChild({cls:"x-form-invalid-msg"}),a.errorEl.setWidth(c.getWidth(!0)-20)}a.errorEl.update(b),Ext.form.Field.msgFx[a.msgFx].show(a.errorEl,a)},clear:function(a){a.el.removeClass(a.invalidClass),a.errorEl?Ext.form.Field.msgFx[a.msgFx].hide(a.errorEl,a):a.el.dom.title=""}},side:{mark:function(a,b){if(a.el.addClass(a.invalidClass),!a.errorIcon){var c=a.getErrorCt();if(!c)return void(a.el.dom.title=b);a.errorIcon=c.createChild({cls:"x-form-invalid-icon"})}a.alignErrorIcon(),a.errorIcon.dom.qtip=b,a.errorIcon.dom.qclass="x-form-invalid-tip",a.errorIcon.show(),a.on("resize",a.alignErrorIcon,a)},clear:function(a){a.el.removeClass(a.invalidClass),a.errorIcon?(a.errorIcon.dom.qtip="",a.errorIcon.hide(),a.un("resize",a.alignErrorIcon,a)):a.el.dom.title=""}}},Ext.form.Field.msgFx={normal:{show:function(a){a.setDisplayed("block")},hide:function(a){a.setDisplayed(!1).update("")}},slide:{show:function(a){a.slideIn("t",{stopFx:!0})},hide:function(a){a.slideOut("t",{stopFx:!0,useDisplay:!0})}},slideRight:{show:function(a,b){a.fixDisplay(),a.alignTo(b.el,"tl-tr"),a.slideIn("l",{stopFx:!0})},hide:function(a){a.slideOut("l",{stopFx:!0,useDisplay:!0})}}},Ext.reg("field",Ext.form.Field),Ext.form.TextField=Ext.extend(Ext.form.Field,{grow:!1,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:!1,allowBlank:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:!1,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initComponent:function(){Ext.form.TextField.superclass.initComponent.call(this),this.addEvents("autosize","keydown","keyup","keypress")},initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this),"keyup"==this.validationEvent?(this.validationTask=new Ext.util.DelayedTask(this.validate,this),this.mon(this.el,"keyup",this.filterValidation,this)):this.validationEvent!==!1&&"blur"!=this.validationEvent&&this.mon(this.el,this.validationEvent,this.validate,this,{buffer:this.validationDelay}),(this.selectOnFocus||this.emptyText)&&(this.mon(this.el,"mousedown",this.onMouseDown,this),this.emptyText&&this.applyEmptyText()),(this.maskRe||this.vtype&&this.disableKeyFilter!==!0&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))&&this.mon(this.el,"keypress",this.filterKeys,this),this.grow&&(this.mon(this.el,"keyup",this.onKeyUpBuffered,this,{buffer:50}),this.mon(this.el,"click",this.autoSize,this)),this.enableKeyEvents&&this.mon(this.el,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress})},onMouseDown:function(){this.hasFocus||this.mon(this.el,"mouseup",Ext.emptyFn,this,{single:!0,preventDefault:!0})},processValue:function(a){if(this.stripCharsRe){var b=a.replace(this.stripCharsRe,"");if(b!==a)return this.setRawValue(b),b}return a},filterValidation:function(a){a.isNavKeyPress()||this.validationTask.delay(this.validationDelay)},onDisable:function(){Ext.form.TextField.superclass.onDisable.call(this),Ext.isIE&&(this.el.dom.unselectable="on")},onEnable:function(){Ext.form.TextField.superclass.onEnable.call(this),Ext.isIE&&(this.el.dom.unselectable="")},onKeyUpBuffered:function(a){this.doAutoSize(a)&&this.autoSize()},doAutoSize:function(a){return!a.isNavKeyPress()},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){Ext.form.TextField.superclass.reset.call(this),this.applyEmptyText()},applyEmptyText:function(){this.rendered&&this.emptyText&&this.getRawValue().length<1&&!this.hasFocus&&(this.setRawValue(this.emptyText),this.el.addClass(this.emptyClass))},preFocus:function(){var a=this.el;this.emptyText&&(a.dom.value==this.emptyText&&this.setRawValue(""),a.removeClass(this.emptyClass)),this.selectOnFocus&&a.dom.select()},postBlur:function(){this.applyEmptyText()},filterKeys:function(a){if(!a.ctrlKey){var b=a.getKey();if(!Ext.isGecko||!(a.isNavKeyPress()||b==a.BACKSPACE||b==a.DELETE&&-1==a.button)){var c=String.fromCharCode(a.getCharCode());(Ext.isGecko||!a.isSpecialKey()||c)&&(this.maskRe.test(c)||a.stopEvent())}}},setValue:function(a){return this.emptyText&&this.el&&!Ext.isEmpty(a)&&this.el.removeClass(this.emptyClass),Ext.form.TextField.superclass.setValue.apply(this,arguments),this.applyEmptyText(),this.autoSize(),this},validateValue:function(a){if(Ext.isFunction(this.validator)){var b=this.validator(a);if(b!==!0)return this.markInvalid(b),!1}if(a.length<1||a===this.emptyText)return this.allowBlank?(this.clearInvalid(),!0):(this.markInvalid(this.blankText),!1);if(a.length<this.minLength)return this.markInvalid(String.format(this.minLengthText,this.minLength)),!1;if(a.length>this.maxLength)return this.markInvalid(String.format(this.maxLengthText,this.maxLength)),!1;if(this.vtype){var c=Ext.form.VTypes;if(!c[this.vtype](a,this))return this.markInvalid(this.vtypeText||c[this.vtype+"Text"]),!1}return this.regex&&!this.regex.test(a)?(this.markInvalid(this.regexText),!1):!0},selectText:function(a,b){var c=this.getRawValue(),d=!1;if(c.length>0){a=void 0===a?0:a,b=void 0===b?c.length:b;var e=this.el.dom;if(e.setSelectionRange)e.setSelectionRange(a,b);else if(e.createTextRange){var f=e.createTextRange();f.moveStart("character",a),f.moveEnd("character",b-c.length),f.select()}d=Ext.isGecko||Ext.isOpera}else d=!0;d&&this.focus()},autoSize:function(){if(this.grow&&this.rendered){this.metrics||(this.metrics=Ext.util.TextMetrics.createInstance(this.el));var a=this.el,b=a.dom.value,c=document.createElement("div");c.appendChild(document.createTextNode(b)),b=c.innerHTML,Ext.removeNode(c),c=null,b+="&#160;";var d=Math.min(this.growMax,Math.max(this.metrics.getWidth(b)+10,this.growMin));this.el.setWidth(d),this.fireEvent("autosize",this,d)}},onDestroy:function(){this.validationTask&&(this.validationTask.cancel(),this.validationTask=null),Ext.form.TextField.superclass.onDestroy.call(this)}}),Ext.reg("textfield",Ext.form.TextField),Ext.form.TriggerField=Ext.extend(Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:!1,editable:!0,readOnly:!1,wrapFocusClass:"x-trigger-wrap-focus",autoSize:Ext.emptyFn,monitorTab:!0,deferHeight:!0,mimicing:!1,actionMode:"wrap",removeMode:"container",defaultTriggerWidth:17,onResize:function(a,b){Ext.form.TriggerField.superclass.onResize.call(this,a,b);var c=this.getTriggerWidth();Ext.isNumber(a)&&this.el.setWidth(a-c),this.wrap.setWidth(this.el.getWidth()+c)},getTriggerWidth:function(){var a=this.trigger.getWidth();return this.hideTrigger||0!==a||(a=this.defaultTriggerWidth),a},alignErrorIcon:function(){this.wrap&&this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])},onRender:function(a,b){this.doc=Ext.isIE?Ext.getBody():Ext.getDoc(),Ext.form.TriggerField.superclass.onRender.call(this,a,b),this.wrap=this.el.wrap({cls:"x-form-field-wrap x-form-field-trigger-wrap"}),this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.triggerClass}),this.initTrigger(),this.width||this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth()),this.resizeEl=this.positionEl=this.wrap,this.updateEditState()},updateEditState:function(){this.rendered&&(this.readOnly?(this.el.dom.readOnly=!0,this.el.addClass("x-trigger-noedit"),this.mun(this.el,"click",this.onTriggerClick,this),this.trigger.setDisplayed(!1)):(this.editable?(this.el.dom.readOnly=!1,this.el.removeClass("x-trigger-noedit"),this.mun(this.el,"click",this.onTriggerClick,this)):(this.el.dom.readOnly=!0,this.el.addClass("x-trigger-noedit"),this.mon(this.el,"click",this.onTriggerClick,this)),this.trigger.setDisplayed(!this.hideTrigger)),this.onResize(this.width||this.wrap.getWidth()))},setHideTrigger:function(a){a!=this.hideTrigger&&(this.hideTrigger=a,this.updateEditState())},setEditable:function(a){a!=this.editable&&(this.editable=a,this.updateEditState())},setReadOnly:function(a){a!=this.readOnly&&(this.readOnly=a,this.updateEditState())},afterRender:function(){Ext.form.TriggerField.superclass.afterRender.call(this)},initTrigger:function(){this.mon(this.trigger,"click",this.onTriggerClick,this,{preventDefault:!0}),this.trigger.addClassOnOver("x-form-trigger-over"),this.trigger.addClassOnClick("x-form-trigger-click")},onDestroy:function(){Ext.destroy(this.trigger,this.wrap),this.mimicing&&this.doc.un("mousedown",this.mimicBlur,this),delete this.doc,Ext.form.TriggerField.superclass.onDestroy.call(this)},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this),this.mimicing||(this.wrap.addClass(this.wrapFocusClass),this.mimicing=!0,this.doc.on("mousedown",this.mimicBlur,this,{delay:10}),this.monitorTab&&this.on("specialkey",this.checkTab,this))},checkTab:function(a,b){b.getKey()==b.TAB&&this.triggerBlur()},onBlur:Ext.emptyFn,mimicBlur:function(a){this.isDestroyed||this.wrap.contains(a.target)||!this.validateBlur(a)||this.triggerBlur()},triggerBlur:function(){this.mimicing=!1,this.doc.un("mousedown",this.mimicBlur,this),this.monitorTab&&this.el&&this.un("specialkey",this.checkTab,this),Ext.form.TriggerField.superclass.onBlur.call(this),this.wrap&&this.wrap.removeClass(this.wrapFocusClass)},beforeBlur:Ext.emptyFn,validateBlur:function(){return!0},onTriggerClick:Ext.emptyFn}),Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this),this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger2Class}]}},getTrigger:function(a){return this.triggers[a]},initTrigger:function(){var a=this.trigger.select(".x-form-trigger",!0),b=this;a.each(function(a,c,d){var e="Trigger"+(d+1);a.hide=function(){var a=b.wrap.getWidth();this.dom.style.display="none",b.el.setWidth(a-b.trigger.getWidth()),this["hidden"+e]=!0},a.show=function(){var a=b.wrap.getWidth();this.dom.style.display="",b.el.setWidth(a-b.trigger.getWidth()),this["hidden"+e]=!1},this["hide"+e]&&(a.dom.style.display="none",this["hidden"+e]=!0),this.mon(a,"click",this["on"+e+"Click"],this,{preventDefault:!0}),a.addClassOnOver("x-form-trigger-over"),a.addClassOnClick("x-form-trigger-click")},this),this.triggers=a.elements},getTriggerWidth:function(){var a=0;return Ext.each(this.triggers,function(b,c){var d="Trigger"+(c+1),e=b.getWidth();a+=0!==e||this["hidden"+d]?e:this.defaultTriggerWidth},this),a},onDestroy:function(){Ext.destroy(this.triggers),Ext.form.TwinTriggerField.superclass.onDestroy.call(this)},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn}),Ext.reg("trigger",Ext.form.TriggerField),Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1e3,growAppend:"&#160;\n&#160;",enterIsSpecial:!1,preventScrollbars:!1,onRender:function(a,b){this.el||(this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"}),Ext.form.TextArea.superclass.onRender.call(this,a,b),this.grow&&(this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"}),this.preventScrollbars&&this.el.setStyle("overflow","hidden"),this.el.setHeight(this.growMin))},onDestroy:function(){Ext.removeNode(this.textSizeEl),Ext.form.TextArea.superclass.onDestroy.call(this)},fireKey:function(a){a.isSpecialKey()&&(this.enterIsSpecial||a.getKey()!=a.ENTER||a.hasModifier())&&this.fireEvent("specialkey",this,a)},doAutoSize:function(a){return!a.isNavKeyPress()||a.getKey()==a.ENTER},autoSize:function(){if(this.grow&&this.textSizeEl){var a,b=this.el,c=Ext.util.Format.htmlEncode(b.dom.value),d=this.textSizeEl;Ext.fly(d).setWidth(this.el.getWidth()),c.length<1?c="&#160;&#160;":(c+=this.growAppend,Ext.isIE&&(c=c.replace(/\n/g,"&#160;<br />"))),d.innerHTML=c,a=Math.min(this.growMax,Math.max(d.offsetHeight,this.growMin)),a!=this.lastHeight&&(this.lastHeight=a,this.el.setHeight(a),this.fireEvent("autosize",this,a))}}}),Ext.reg("textarea",Ext.form.TextArea),Ext.form.NumberField=Ext.extend(Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:!0,decimalSeparator:".",decimalPrecision:2,allowNegative:!0,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",baseChars:"0123456789",initEvents:function(){var a=this.baseChars+"";this.allowDecimals&&(a+=this.decimalSeparator),this.allowNegative&&(a+="-"),this.maskRe=new RegExp("["+Ext.escapeRe(a)+"]"),Ext.form.NumberField.superclass.initEvents.call(this)},validateValue:function(a){if(!Ext.form.NumberField.superclass.validateValue.call(this,a))return!1;if(a.length<1)return!0;if(a=String(a).replace(this.decimalSeparator,"."),isNaN(a))return this.markInvalid(String.format(this.nanText,a)),!1;var b=this.parseValue(a);return b<this.minValue?(this.markInvalid(String.format(this.minText,this.minValue)),!1):b>this.maxValue?(this.markInvalid(String.format(this.maxText,this.maxValue)),!1):!0},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)))},setValue:function(a){return a=Ext.isNumber(a)?a:parseFloat(String(a).replace(this.decimalSeparator,".")),a=isNaN(a)?"":String(a).replace(".",this.decimalSeparator),Ext.form.NumberField.superclass.setValue.call(this,a)},setMinValue:function(a){this.minValue=Ext.num(a,Number.NEGATIVE_INFINITY)},setMaxValue:function(a){this.maxValue=Ext.num(a,Number.MAX_VALUE)},parseValue:function(a){return a=parseFloat(String(a).replace(this.decimalSeparator,".")),isNaN(a)?"":a},fixPrecision:function(a){var b=isNaN(a);return this.allowDecimals&&-1!=this.decimalPrecision&&!b&&a?parseFloat(parseFloat(a).toFixed(this.decimalPrecision)):b?"":a},beforeBlur:function(){var a=this.parseValue(this.getRawValue());Ext.isEmpty(a)||this.setValue(this.fixPrecision(a))}}),Ext.reg("numberfield",Ext.form.NumberField),Ext.form.DateField=Ext.extend(Ext.form.TriggerField,{format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",showToday:!0,defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off"},initComponent:function(){Ext.form.DateField.superclass.initComponent.call(this),this.addEvents("select"),Ext.isString(this.minValue)&&(this.minValue=this.parseDate(this.minValue)),Ext.isString(this.maxValue)&&(this.maxValue=this.parseDate(this.maxValue)),this.disabledDatesRE=null,this.initDisabledDays()},initEvents:function(){Ext.form.DateField.superclass.initEvents.call(this),this.keyNav=new Ext.KeyNav(this.el,{down:function(){this.onTriggerClick()},scope:this,forceKeyDown:!0})},initDisabledDays:function(){if(this.disabledDates){var a=this.disabledDates,b=a.length-1,c="(?:";Ext.each(a,function(d,e){c+=Ext.isDate(d)?"^"+Ext.escapeRe(d.dateFormat(this.format))+"$":a[e],e!=b&&(c+="|")},this),this.disabledDatesRE=new RegExp(c+")")}},setDisabledDates:function(a){this.disabledDates=a,this.initDisabledDays(),this.menu&&this.menu.picker.setDisabledDates(this.disabledDatesRE)},setDisabledDays:function(a){this.disabledDays=a,this.menu&&this.menu.picker.setDisabledDays(a)},setMinValue:function(a){this.minValue=Ext.isString(a)?this.parseDate(a):a,this.menu&&this.menu.picker.setMinDate(this.minValue)},setMaxValue:function(a){this.maxValue=Ext.isString(a)?this.parseDate(a):a,this.menu&&this.menu.picker.setMaxDate(this.maxValue)},validateValue:function(a){if(a=this.formatDate(a),!Ext.form.DateField.superclass.validateValue.call(this,a))return!1;if(a.length<1)return!0;var b=a;if(a=this.parseDate(a),!a)return this.markInvalid(String.format(this.invalidText,b,this.format)),!1;var c=a.getTime();if(this.minValue&&c<this.minValue.getTime())return this.markInvalid(String.format(this.minText,this.formatDate(this.minValue))),!1;if(this.maxValue&&c>this.maxValue.getTime())return this.markInvalid(String.format(this.maxText,this.formatDate(this.maxValue))),!1;if(this.disabledDays)for(var d=a.getDay(),e=0;e<this.disabledDays.length;e++)if(d===this.disabledDays[e])return this.markInvalid(this.disabledDaysText),!1;var f=this.formatDate(a);return this.disabledDatesRE&&this.disabledDatesRE.test(f)?(this.markInvalid(String.format(this.disabledDatesText,f)),!1):!0},validateBlur:function(){return!this.menu||!this.menu.isVisible()},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||""},setValue:function(a){return Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(a)))},parseDate:function(a){if(!a||Ext.isDate(a))return a;var b=Date.parseDate(a,this.format);if(!b&&this.altFormats){this.altFormatsArray||(this.altFormatsArray=this.altFormats.split("|"));for(var c=0,d=this.altFormatsArray.length;d>c&&!b;c++)b=Date.parseDate(a,this.altFormatsArray[c])}return b},onDestroy:function(){Ext.destroy(this.menu,this.keyNav),Ext.form.DateField.superclass.onDestroy.call(this)},formatDate:function(a){return Ext.isDate(a)?a.dateFormat(this.format):a},onTriggerClick:function(){this.disabled||(null==this.menu&&(this.menu=new Ext.menu.DateMenu({hideOnClick:!1,focusOnSelect:!1})),this.onFocus(),Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,showToday:this.showToday,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))}),this.menu.picker.setValue(this.getValue()||new Date),this.menu.show(this.el,"tl-bl?"),this.menuEvents("on"))},menuEvents:function(a){this.menu[a]("select",this.onSelect,this),this.menu[a]("hide",this.onMenuHide,this),this.menu[a]("show",this.onFocus,this)},onSelect:function(a,b){this.setValue(b),this.fireEvent("select",this,b),this.menu.hide()},onMenuHide:function(){this.focus(!1,60),this.menuEvents("un")},beforeBlur:function(){var a=this.parseDate(this.getRawValue());a&&this.setValue(a)}}),Ext.reg("datefield",Ext.form.DateField),Ext.form.DisplayField=Ext.extend(Ext.form.Field,{validationEvent:!1,validateOnBlur:!1,defaultAutoCreate:{tag:"div"},fieldClass:"x-form-display-field",htmlEncode:!1,initEvents:Ext.emptyFn,isValid:function(){return!0},validate:function(){return!0},getRawValue:function(){var a=this.rendered?this.el.dom.innerHTML:Ext.value(this.value,"");return a===this.emptyText&&(a=""),this.htmlEncode&&(a=Ext.util.Format.htmlDecode(a)),a},getValue:function(){return this.getRawValue()},getName:function(){return this.name},setRawValue:function(a){return this.htmlEncode&&(a=Ext.util.Format.htmlEncode(a)),this.rendered?this.el.dom.innerHTML=Ext.isEmpty(a)?"":a:this.value=a},setValue:function(a){return this.setRawValue(a),this}}),Ext.reg("displayfield",Ext.form.DisplayField),Ext.form.ComboBox=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listClass:"",selectedClass:"x-combo-selected",listEmptyText:"",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,minHeight:90,triggerAction:"query",minChars:4,typeAhead:!1,queryDelay:500,pageSize:0,selectOnFocus:!1,queryParam:"query",loadingText:"Loading...",resizable:!1,handleHeight:8,allQuery:"",mode:"remote",minListWidth:70,forceSelection:!1,typeAheadDelay:250,lazyInit:!0,clearFilterOnReset:!0,submitValue:void 0,initComponent:function(){if(Ext.form.ComboBox.superclass.initComponent.call(this),this.addEvents("expand","collapse","beforeselect","select","beforequery"),this.transform){var a=Ext.getDom(this.transform);if(this.hiddenName||(this.hiddenName=a.name),!this.store){this.mode="local";for(var b=[],c=a.options,d=0,e=c.length;e>d;d++){var f=c[d],g=(f.hasAttribute?f.hasAttribute("value"):f.getAttributeNode("value").specified)?f.value:f.text;f.selected&&Ext.isEmpty(this.value,!0)&&(this.value=g),b.push([g,f.text])}this.store=new Ext.data.ArrayStore({id:0,fields:["value","text"],data:b,autoDestroy:!0}),this.valueField="value",this.displayField="text"}a.name=Ext.id(),this.lazyRender||(this.target=!0,this.el=Ext.DomHelper.insertBefore(a,this.autoCreate||this.defaultAutoCreate),this.render(this.el.parentNode,a)),Ext.removeNode(a)}else this.store&&(this.store=Ext.StoreMgr.lookup(this.store),this.store.autoCreated&&(this.displayField=this.valueField="field1",this.store.expandData||(this.displayField="field2"),this.mode="local"));this.selectedIndex=-1,"local"==this.mode&&(Ext.isDefined(this.initialConfig.queryDelay)||(this.queryDelay=10),Ext.isDefined(this.initialConfig.minChars)||(this.minChars=0))},onRender:function(a,b){this.hiddenName&&!Ext.isDefined(this.submitValue)&&(this.submitValue=!1),Ext.form.ComboBox.superclass.onRender.call(this,a,b),this.hiddenName&&(this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:this.hiddenId||this.hiddenName},"before",!0)),Ext.isGecko&&this.el.dom.setAttribute("autocomplete","off"),this.lazyInit?this.on("focus",this.initList,this,{single:!0}):this.initList()},initValue:function(){Ext.form.ComboBox.superclass.initValue.call(this),this.hiddenField&&(this.hiddenField.value=Ext.isDefined(this.hiddenValue)?this.hiddenValue:Ext.isDefined(this.value)?this.value:"")},initList:function(){if(!this.list){var a="x-combo-list";this.list=new Ext.Layer({parentEl:this.getListParent(),shadow:this.shadow,cls:[a,this.listClass].join(" "),constrain:!1,zindex:12e3});var b=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setSize(b,0),this.list.swallowEvent("mousewheel"),this.assetHeight=0,this.syncFont!==!1&&this.list.setStyle("font-size",this.el.getStyle("font-size")),this.title&&(this.header=this.list.createChild({cls:a+"-hd",html:this.title}),this.assetHeight+=this.header.getHeight()),this.innerList=this.list.createChild({cls:a+"-inner"}),this.mon(this.innerList,"mouseover",this.onViewOver,this),this.mon(this.innerList,"mousemove",this.onViewMove,this),this.innerList.setWidth(b-this.list.getFrameWidth("lr")),this.pageSize&&(this.footer=this.list.createChild({cls:a+"-ft"}),this.pageTb=new Ext.PagingToolbar({store:this.store,pageSize:this.pageSize,renderTo:this.footer}),this.assetHeight+=this.footer.getHeight()),this.tpl||(this.tpl='<tpl for="."><div class="'+a+'-item">{'+this.displayField+"}</div></tpl>"),this.view=new Ext.DataView({applyTo:this.innerList,tpl:this.tpl,singleSelect:!0,selectedClass:this.selectedClass,itemSelector:this.itemSelector||"."+a+"-item",emptyText:this.listEmptyText}),this.mon(this.view,"click",this.onViewClick,this),this.bindStore(this.store,!0),this.resizable&&(this.resizer=new Ext.Resizable(this.list,{pinned:!0,handles:"se"}),this.mon(this.resizer,"resize",function(a,b,c){this.maxHeight=c-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight,this.listWidth=b,this.innerList.setWidth(b-this.list.getFrameWidth("lr")),this.restrictHeight()},this),this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px"))}},getListParent:function(){return document.body},getStore:function(){return this.store},bindStore:function(a,b){this.store&&!b&&(this.store!==a&&this.store.autoDestroy?this.store.destroy():(this.store.un("beforeload",this.onBeforeLoad,this),this.store.un("load",this.onLoad,this),this.store.un("exception",this.collapse,this)),a||(this.store=null,this.view&&this.view.bindStore(null),this.pageTb&&this.pageTb.bindStore(null))),a&&(b||(this.lastQuery=null,this.pageTb&&this.pageTb.bindStore(a)),this.store=Ext.StoreMgr.lookup(a),this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.collapse}),this.view&&this.view.bindStore(a))},reset:function(){Ext.form.ComboBox.superclass.reset.call(this),this.clearFilterOnReset&&"local"==this.mode&&this.store.clearFilter()},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this),this.keyNav=new Ext.KeyNav(this.el,{up:function(){this.inKeyMode=!0,this.selectPrev()},down:function(){this.isExpanded()?(this.inKeyMode=!0,this.selectNext()):this.onTriggerClick()},enter:function(){this.onViewClick()},esc:function(){this.collapse()},tab:function(){return this.onViewClick(!1),!0},scope:this,doRelay:function(a,b,c){if("down"==c||this.scope.isExpanded()){var d=Ext.KeyNav.prototype.doRelay.apply(this,arguments);return!Ext.isIE&&Ext.EventManager.useKeydown&&this.scope.fireKey(a),d}return!0},forceKeyDown:!0,defaultEventAction:"stopEvent"}),this.queryDelay=Math.max(this.queryDelay||10,"local"==this.mode?10:250),this.dqTask=new Ext.util.DelayedTask(this.initQuery,this),this.typeAhead&&(this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,this)),this.enableKeyEvents||this.mon(this.el,"keyup",this.onKeyUp,this)},onDestroy:function(){this.dqTask&&(this.dqTask.cancel(),this.dqTask=null),this.bindStore(null),Ext.destroy(this.resizer,this.view,this.pageTb,this.list),Ext.destroyMembers(this,"hiddenField"),Ext.form.ComboBox.superclass.onDestroy.call(this)},fireKey:function(a){this.isExpanded()||Ext.form.ComboBox.superclass.fireKey.call(this,a)},onResize:function(a){Ext.form.ComboBox.superclass.onResize.apply(this,arguments),this.isVisible()&&this.list?this.doResize(a):this.bufferSize=a},doResize:function(a){if(!Ext.isDefined(this.listWidth)){var b=Math.max(a,this.minListWidth);this.list.setWidth(b),this.innerList.setWidth(b-this.list.getFrameWidth("lr"))}},onEnable:function(){Ext.form.ComboBox.superclass.onEnable.apply(this,arguments),this.hiddenField&&(this.hiddenField.disabled=!1)},onDisable:function(){Ext.form.ComboBox.superclass.onDisable.apply(this,arguments),this.hiddenField&&(this.hiddenField.disabled=!0)},onBeforeLoad:function(){this.hasFocus&&(this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":""),this.restrictHeight(),this.selectedIndex=-1)},onLoad:function(){this.hasFocus&&(this.store.getCount()>0||this.listEmptyText?(this.expand(),this.restrictHeight(),this.lastQuery==this.allQuery?(this.editable&&this.el.dom.select(),this.selectByValue(this.value,!0)||this.select(0,!0)):(this.selectNext(),this.typeAhead&&this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE&&this.taTask.delay(this.typeAheadDelay))):this.onEmptyResults())
},onTypeAhead:function(){if(this.store.getCount()>0){var a=this.store.getAt(0),b=a.data[this.displayField],c=b.length,d=this.getRawValue().length;d!=c&&(this.setRawValue(b),this.selectText(d,b.length))}},onSelect:function(a,b){this.fireEvent("beforeselect",this,a,b)!==!1&&(this.setValue(a.data[this.valueField||this.displayField]),this.collapse(),this.fireEvent("select",this,a,b))},getName:function(){var a=this.hiddenField;return a&&a.name?a.name:this.hiddenName||Ext.form.ComboBox.superclass.getName.call(this)},getValue:function(){return this.valueField?Ext.isDefined(this.value)?this.value:"":Ext.form.ComboBox.superclass.getValue.call(this)},clearValue:function(){this.hiddenField&&(this.hiddenField.value=""),this.setRawValue(""),this.lastSelectionText="",this.applyEmptyText(),this.value=""},setValue:function(a){var b=a;if(this.valueField){var c=this.findRecord(this.valueField,a);c?b=c.data[this.displayField]:Ext.isDefined(this.valueNotFoundText)&&(b=this.valueNotFoundText)}return this.lastSelectionText=b,this.hiddenField&&(this.hiddenField.value=a),Ext.form.ComboBox.superclass.setValue.call(this,b),this.value=a,this},findRecord:function(a,b){var c;return this.store.getCount()>0&&this.store.each(function(d){return d.data[a]==b?(c=d,!1):void 0}),c},onViewMove:function(){this.inKeyMode=!1},onViewOver:function(a,b){if(!this.inKeyMode){var c=this.view.findItemFromChild(b);if(c){var d=this.view.indexOf(c);this.select(d,!1)}}},onViewClick:function(a){var b=this.view.getSelectedIndexes()[0],c=this.store,d=c.getAt(b);d?this.onSelect(d,b):0===c.getCount()&&this.onEmptyResults(),a!==!1&&this.el.focus()},restrictHeight:function(){this.innerList.dom.style.height="";var a=this.innerList.dom,b=this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight,c=Math.max(a.clientHeight,a.offsetHeight,a.scrollHeight),d=this.getPosition()[1]-Ext.getBody().getScroll().top,e=Ext.lib.Dom.getViewHeight()-d-this.getSize().height,f=Math.max(d,e,this.minHeight||0)-this.list.shadowOffset-b-5;c=Math.min(c,f,this.maxHeight),this.innerList.setHeight(c),this.list.beginUpdate(),this.list.setHeight(c+b),this.list.alignTo(this.wrap,this.listAlign),this.list.endUpdate()},onEmptyResults:function(){this.collapse()},isExpanded:function(){return this.list&&this.list.isVisible()},selectByValue:function(a,b){if(!Ext.isEmpty(a,!0)){var c=this.findRecord(this.valueField||this.displayField,a);if(c)return this.select(this.store.indexOf(c),b),!0}return!1},select:function(a,b){if(this.selectedIndex=a,this.view.select(a),b!==!1){var c=this.view.getNode(a);c&&this.innerList.scrollChildIntoView(c,!1)}},selectNext:function(){var a=this.store.getCount();a>0&&(-1==this.selectedIndex?this.select(0):this.selectedIndex<a-1&&this.select(this.selectedIndex+1))},selectPrev:function(){var a=this.store.getCount();a>0&&(-1==this.selectedIndex?this.select(0):0!==this.selectedIndex&&this.select(this.selectedIndex-1))},onKeyUp:function(a){var b=a.getKey();this.editable===!1||this.readOnly===!0||b!=a.BACKSPACE&&a.isSpecialKey()||(this.lastKey=b,this.dqTask.delay(this.queryDelay)),Ext.form.ComboBox.superclass.onKeyUp.call(this,a)},validateBlur:function(){return!this.list||!this.list.isVisible()},initQuery:function(){this.doQuery(this.getRawValue())},beforeBlur:function(){var a=this.getRawValue(),b=this.findRecord(this.displayField,a);!b&&this.forceSelection?a.length>0&&a!=this.emptyText?(this.el.dom.value=Ext.isEmpty(this.lastSelectionText)?"":this.lastSelectionText,this.applyEmptyText()):this.clearValue():(b&&(a=b.get(this.valueField||this.displayField)),this.setValue(a))},doQuery:function(a,b){a=Ext.isEmpty(a)?"":a;var c={query:a,forceAll:b,combo:this,cancel:!1};return this.fireEvent("beforequery",c)===!1||c.cancel?!1:(a=c.query,b=c.forceAll,void((b===!0||a.length>=this.minChars)&&(this.lastQuery!==a?(this.lastQuery=a,"local"==this.mode?(this.selectedIndex=-1,b?this.store.clearFilter():this.store.filter(this.displayField,a),this.onLoad()):(this.store.baseParams[this.queryParam]=a,this.store.load({params:this.getParams(a)}),this.expand())):(this.selectedIndex=-1,this.onLoad()))))},getParams:function(){var a={};return this.pageSize&&(a.start=0,a.limit=this.pageSize),a},collapse:function(){this.isExpanded()&&(this.list.hide(),Ext.getDoc().un("mousewheel",this.collapseIf,this),Ext.getDoc().un("mousedown",this.collapseIf,this),this.fireEvent("collapse",this))},collapseIf:function(a){a.within(this.wrap)||a.within(this.list)||this.collapse()},expand:function(){!this.isExpanded()&&this.hasFocus&&(this.bufferSize&&(this.doResize(this.bufferSize),delete this.bufferSize),this.list.alignTo(this.wrap,this.listAlign),this.list.show(),Ext.isGecko2&&this.innerList.setOverflow("auto"),this.mon(Ext.getDoc(),{scope:this,mousewheel:this.collapseIf,mousedown:this.collapseIf}),this.fireEvent("expand",this))},onTriggerClick:function(){this.readOnly||this.disabled||(this.isExpanded()?(this.collapse(),this.el.focus()):(this.onFocus({}),"all"==this.triggerAction?this.doQuery(this.allQuery,!0):this.doQuery(this.getRawValue()),this.el.focus()))}}),Ext.reg("combo",Ext.form.ComboBox),Ext.form.Checkbox=Ext.extend(Ext.form.Field,{focusClass:void 0,fieldClass:"x-form-field",checked:!1,defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},actionMode:"wrap",initComponent:function(){Ext.form.Checkbox.superclass.initComponent.call(this),this.addEvents("check")},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments),this.boxLabel||this.fieldLabel||this.el.alignTo(this.wrap,"c-c")},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this),this.mon(this.el,{scope:this,click:this.onClick,change:this.onClick})},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,onRender:function(a,b){Ext.form.Checkbox.superclass.onRender.call(this,a,b),void 0!==this.inputValue&&(this.el.dom.value=this.inputValue),this.wrap=this.el.wrap({cls:"x-form-check-wrap"}),this.boxLabel&&this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel}),this.checked?this.setValue(!0):this.checked=this.el.dom.checked,Ext.isIE&&this.wrap.repaint(),this.resizeEl=this.positionEl=this.wrap},onDestroy:function(){Ext.destroy(this.wrap),Ext.form.Checkbox.superclass.onDestroy.call(this)},initValue:function(){this.originalValue=this.getValue()},getValue:function(){return this.rendered?this.el.dom.checked:this.checked},onClick:function(){this.el.dom.checked!=this.checked&&this.setValue(this.el.dom.checked)},setValue:function(a){var b=this.checked;return this.checked=a===!0||"true"===a||"1"==a||"on"==String(a).toLowerCase(),this.rendered&&(this.el.dom.checked=this.checked,this.el.dom.defaultChecked=this.checked),b!=this.checked&&(this.fireEvent("check",this,this.checked),this.handler&&this.handler.call(this.scope||this,this,this.checked)),this}}),Ext.reg("checkbox",Ext.form.Checkbox),Ext.form.CheckboxGroup=Ext.extend(Ext.form.Field,{columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkbox",groupCls:"x-form-check-group",initComponent:function(){this.addEvents("change"),this.on("change",this.validate,this),Ext.form.CheckboxGroup.superclass.initComponent.call(this)},onRender:function(a,b){if(!this.el){var c={autoEl:{id:this.id},cls:this.groupCls,layout:"column",renderTo:a,bufferResize:!1},d={xtype:"container",defaultType:this.defaultType,layout:"form",defaults:{hideLabel:!0,anchor:"100%"}};if(this.items[0].items){Ext.apply(c,{layoutConfig:{columns:this.items.length},defaults:this.defaults,items:this.items});for(var e=0,f=this.items.length;f>e;e++)Ext.applyIf(this.items[e],d)}else{var g,h=[];if("string"==typeof this.columns&&(this.columns=this.items.length),!Ext.isArray(this.columns)){for(var i=[],e=0;e<this.columns;e++)i.push(100/this.columns*.01);this.columns=i}g=this.columns.length;for(var e=0;g>e;e++){var j=Ext.apply({items:[]},d);j[this.columns[e]<=1?"columnWidth":"width"]=this.columns[e],this.defaults&&(j.defaults=Ext.apply(j.defaults||{},this.defaults)),h.push(j)}if(this.vertical)for(var k=Math.ceil(this.items.length/g),l=0,e=0,f=this.items.length;f>e;e++)e>0&&e%k==0&&l++,this.items[e].fieldLabel&&(this.items[e].hideLabel=!1),h[l].items.push(this.items[e]);else for(var e=0,f=this.items.length;f>e;e++){var m=e%g;this.items[e].fieldLabel&&(this.items[e].hideLabel=!1),h[m].items.push(this.items[e])}Ext.apply(c,{layoutConfig:{columns:g},items:h})}if(this.panel=new Ext.Container(c),this.panel.ownerCt=this,this.el=this.panel.getEl(),this.forId&&this.itemCls){var n=this.el.up(this.itemCls).child("label",!0);n&&n.setAttribute("htmlFor",this.forId)}var o=this.panel.findBy(function(a){return a.isFormField},this);this.items=new Ext.util.MixedCollection,this.items.addAll(o)}Ext.form.CheckboxGroup.superclass.onRender.call(this,a,b)},initValue:function(){this.value&&(this.setValue.apply(this,this.buffered?this.value:[this.value]),delete this.buffered,delete this.value)},afterRender:function(){Ext.form.CheckboxGroup.superclass.afterRender.call(this),this.eachItem(function(a){a.on("check",this.fireChecked,this),a.inGroup=!0})},doLayout:function(){this.rendered&&(this.panel.forceLayout=this.ownerCt.forceLayout,this.panel.doLayout())},fireChecked:function(){var a=[];this.eachItem(function(b){b.checked&&a.push(b)}),this.fireEvent("change",this,a)},validateValue:function(){if(!this.allowBlank){var a=!0;if(this.eachItem(function(b){return b.checked?a=!1:void 0}),a)return this.markInvalid(this.blankText),!1}return!0},isDirty:function(){if(this.disabled||!this.rendered)return!1;var a=!1;return this.eachItem(function(b){return b.isDirty()?(a=!0,!1):void 0}),a},onDisable:function(){this.eachItem(function(a){a.disable()})},onEnable:function(){this.eachItem(function(a){a.enable()})},doLayout:function(){this.rendered&&(this.panel.forceLayout=this.ownerCt.forceLayout,this.panel.doLayout())},onResize:function(a,b){this.panel.setSize(a,b),this.panel.doLayout()},reset:function(){this.eachItem(function(a){a.reset&&a.reset()}),function(){this.clearInvalid()}.defer(50,this)},setValue:function(){return this.rendered?this.onSetValue.apply(this,arguments):(this.buffered=!0,this.value=arguments),this},onSetValue:function(a,b){if(1==arguments.length)if(Ext.isArray(a))Ext.each(a,function(a,b){var c=this.items.itemAt(b);c&&c.setValue(a)},this);else if(Ext.isObject(a))for(var c in a){var d=this.getBox(c);d&&d.setValue(a[c])}else this.setValueForItem(a);else{var d=this.getBox(a);d&&d.setValue(b)}},beforeDestroy:function(){Ext.destroy(this.panel),Ext.form.CheckboxGroup.superclass.beforeDestroy.call(this)},setValueForItem:function(a){a=String(a).split(","),this.eachItem(function(b){a.indexOf(b.inputValue)>-1&&b.setValue(!0)})},getBox:function(a){var b=null;return this.eachItem(function(c){return a==c||c.dataIndex==a||c.id==a||c.getName()==a?(b=c,!1):void 0}),b},getValue:function(){var a=[];return this.eachItem(function(b){b.checked&&a.push(b)}),a},eachItem:function(a){this.items&&this.items.each&&this.items.each(a,this)},getRawValue:Ext.emptyFn,setRawValue:Ext.emptyFn}),Ext.reg("checkboxgroup",Ext.form.CheckboxGroup),Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,getGroupValue:function(){var a=this.el.up("form")||Ext.getBody(),b=a.child("input[name="+this.el.dom.name+"]:checked",!0);return b?b.value:null},onClick:function(){if(this.el.dom.checked!=this.checked){var a=this.getCheckEl().select("input[name="+this.el.dom.name+"]");a.each(function(a){a.dom.id==this.id?this.setValue(!0):Ext.getCmp(a.dom.id).setValue(!1)},this)}},setValue:function(a){if("boolean"==typeof a)Ext.form.Radio.superclass.setValue.call(this,a);else{var b=this.getCheckEl().child("input[name="+this.el.dom.name+"][value="+a+"]",!0);b&&Ext.getCmp(b.id).setValue(!0)}return this},getCheckEl:function(){return this.inGroup?this.el.up(".x-form-radio-group"):this.el.up("form")||Ext.getBody()}}),Ext.reg("radio",Ext.form.Radio),Ext.form.RadioGroup=Ext.extend(Ext.form.CheckboxGroup,{allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radio",groupCls:"x-form-radio-group",getValue:function(){var a=null;return this.eachItem(function(b){return b.checked?(a=b,!1):void 0}),a},onSetValue:function(a,b){if(arguments.length>1){var c=this.getBox(a);c&&(c.setValue(b),c.checked&&this.eachItem(function(a){a!==c&&a.setValue(!1)}))}else this.setValueForItem(a)},setValueForItem:function(a){a=String(a).split(",")[0],this.eachItem(function(b){b.setValue(a==b.inputValue)})},fireChecked:function(){this.checkTask||(this.checkTask=new Ext.util.DelayedTask(this.bufferChecked,this)),this.checkTask.delay(10)},bufferChecked:function(){var a=null;this.eachItem(function(b){return b.checked?(a=b,!1):void 0}),this.fireEvent("change",this,a)},onDestroy:function(){this.checkTask&&(this.checkTask.cancel(),this.checkTask=null),Ext.form.RadioGroup.superclass.onDestroy.call(this)}}),Ext.reg("radiogroup",Ext.form.RadioGroup),Ext.form.Hidden=Ext.extend(Ext.form.Field,{inputType:"hidden",onRender:function(){Ext.form.Hidden.superclass.onRender.apply(this,arguments)},initEvents:function(){this.originalValue=this.getValue()},setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.reg("hidden",Ext.form.Hidden),Ext.form.BasicForm=function(a,b){Ext.apply(this,b),Ext.isString(this.paramOrder)&&(this.paramOrder=this.paramOrder.split(/[\s,|]/)),this.items=new Ext.util.MixedCollection(!1,function(a){return a.getItemId()}),this.addEvents("beforeaction","actionfailed","actioncomplete"),a&&this.initEl(a),Ext.form.BasicForm.superclass.constructor.call(this)},Ext.extend(Ext.form.BasicForm,Ext.util.Observable,{timeout:30,paramOrder:void 0,paramsAsHash:!1,waitTitle:"Please Wait...",activeAction:null,trackResetOnLoad:!1,initEl:function(a){this.el=Ext.get(a),this.id=this.el.id||Ext.id(),this.standardSubmit||this.el.on("submit",this.onSubmit,this),this.el.addClass("x-form")},getEl:function(){return this.el},onSubmit:function(a){a.stopEvent()},destroy:function(){this.items.each(function(a){Ext.destroy(a)}),this.el&&(this.el.removeAllListeners(),this.el.remove()),this.purgeListeners()},isValid:function(){var a=!0;return this.items.each(function(b){b.validate()||(a=!1)}),a},isDirty:function(){var a=!1;return this.items.each(function(b){return b.isDirty()?(a=!0,!1):void 0}),a},doAction:function(a,b){return Ext.isString(a)&&(a=new Ext.form.Action.ACTION_TYPES[a](this,b)),this.fireEvent("beforeaction",this,a)!==!1&&(this.beforeAction(a),a.run.defer(100,a)),this},submit:function(a){if(this.standardSubmit){var b=this.isValid();if(b){var c=this.el.dom;this.url&&Ext.isEmpty(c.action)&&(c.action=this.url),c.submit()}return b}var d=String.format("{0}submit",this.api?"direct":"");return this.doAction(d,a),this},load:function(a){var b=String.format("{0}load",this.api?"direct":"");return this.doAction(b,a),this},updateRecord:function(a){a.beginEdit();var b=a.fields;return b.each(function(b){var c=this.findField(b.name);c&&a.set(b.name,c.getValue())},this),a.endEdit(),this},loadRecord:function(a){return this.setValues(a.data),this},beforeAction:function(a){var b=a.options;b.waitMsg&&(this.waitMsgTarget===!0?this.el.mask(b.waitMsg,"x-mask-loading"):this.waitMsgTarget?(this.waitMsgTarget=Ext.get(this.waitMsgTarget),this.waitMsgTarget.mask(b.waitMsg,"x-mask-loading")):Ext.MessageBox.wait(b.waitMsg,b.waitTitle||this.waitTitle))},afterAction:function(a,b){this.activeAction=null;var c=a.options;c.waitMsg&&(this.waitMsgTarget===!0?this.el.unmask():this.waitMsgTarget?this.waitMsgTarget.unmask():(Ext.MessageBox.updateProgress(1),Ext.MessageBox.hide())),b?(c.reset&&this.reset(),Ext.callback(c.success,c.scope,[this,a]),this.fireEvent("actioncomplete",this,a)):(Ext.callback(c.failure,c.scope,[this,a]),this.fireEvent("actionfailed",this,a))},findField:function(a){var b=this.items.get(a);return Ext.isObject(b)||this.items.each(function(c){return!c.isFormField||c.dataIndex!=a&&c.id!=a&&c.getName()!=a?void 0:(b=c,!1)}),b||null},markInvalid:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;c>b;b++){var d=a[b],e=this.findField(d.id);e&&e.markInvalid(d.msg)}else{var f,g;for(g in a)!Ext.isFunction(a[g])&&(f=this.findField(g))&&f.markInvalid(a[g])}return this},setValues:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;c>b;b++){var d=a[b],e=this.findField(d.id);e&&(e.setValue(d.value),this.trackResetOnLoad&&(e.originalValue=e.getValue()))}else{var f,g;for(g in a)!Ext.isFunction(a[g])&&(f=this.findField(g))&&(f.setValue(a[g]),this.trackResetOnLoad&&(f.originalValue=f.getValue()))}return this},getValues:function(a){var b=Ext.lib.Ajax.serializeForm(this.el.dom);return a===!0?b:Ext.urlDecode(b)},getFieldValues:function(a){var b,c,d,e={};return this.items.each(function(f){(a!==!0||f.isDirty())&&(b=f.getName(),c=e[b],d=f.getValue(),Ext.isDefined(c)?Ext.isArray(c)?e[b].push(d):e[b]=[c,d]:e[b]=d)}),e},clearInvalid:function(){return this.items.each(function(a){a.clearInvalid()}),this},reset:function(){return this.items.each(function(a){a.reset()}),this},add:function(){return this.items.addAll(Array.prototype.slice.call(arguments,0)),this},remove:function(a){return this.items.remove(a),this},render:function(){return this.items.each(function(a){a.isFormField&&!a.rendered&&document.getElementById(a.id)&&a.applyToMarkup(a.id)}),this},applyToFields:function(a){return this.items.each(function(b){Ext.apply(b,a)}),this},applyIfToFields:function(a){return this.items.each(function(b){Ext.applyIf(b,a)}),this},callFieldMethod:function(a,b){return b=b||[],this.items.each(function(c){Ext.isFunction(c[a])&&c[a].apply(c,b)}),this}}),Ext.BasicForm=Ext.form.BasicForm,Ext.FormPanel=Ext.extend(Ext.Panel,{minButtonWidth:75,labelAlign:"left",monitorValid:!1,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm(),Ext.FormPanel.superclass.initComponent.call(this),this.bodyCfg={tag:"form",cls:this.baseCls+"-body",method:this.method||"POST",id:this.formId||Ext.id()},this.fileUpload&&(this.bodyCfg.enctype="multipart/form-data"),this.initItems(),this.addEvents("clientvalidation"),this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"])},createForm:function(){var a=Ext.applyIf({listeners:{}},this.initialConfig);return new Ext.form.BasicForm(null,a)},initFields:function(){var a=this.form,b=this,c=function(d){b.isField(d)?a.add(d):d.findBy&&d!=b&&(b.applySettings(d),d.items&&d.items.each&&d.items.each(c,this))};this.items.each(c,this)},applySettings:function(a){var b=a.ownerCt;Ext.applyIf(a,{labelAlign:b.labelAlign,labelWidth:b.labelWidth,itemCls:b.itemCls})},getLayoutTarget:function(){return this.form.el},getForm:function(){return this.form},onRender:function(a,b){this.initFields(),Ext.FormPanel.superclass.onRender.call(this,a,b),this.form.initEl(this.body)},beforeDestroy:function(){this.stopMonitoring(),Ext.destroy(this.form),this.form.items.clear(),Ext.FormPanel.superclass.beforeDestroy.call(this)},isField:function(a){return!!(a.setValue&&a.getValue&&a.markInvalid&&a.clearInvalid)},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this),this.on({scope:this,add:this.onAddEvent,remove:this.onRemoveEvent}),this.monitorValid&&this.startMonitoring()},onAdd:function(a){Ext.FormPanel.superclass.onAdd.call(this,a),this.processAdd(a)},onAddEvent:function(a,b){a!==this&&this.processAdd(b)},processAdd:function(a){this.isField(a)?this.form.add(a):a.findBy&&(this.applySettings(a),this.form.add.apply(this.form,a.findBy(this.isField)))},onRemove:function(a){Ext.FormPanel.superclass.onRemove.call(this,a),this.processRemove(a)},onRemoveEvent:function(a,b){a!==this&&this.processRemove(b)},processRemove:function(a){if(this.isField(a))this.form.remove(a);else if(a.findBy){var b=function(a){return!!a.isDestroyed};this.form.items.filterBy(b,this.form).each(this.form.remove,this.form)}},startMonitoring:function(){this.validTask||(this.validTask=new Ext.util.TaskRunner,this.validTask.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this}))},stopMonitoring:function(){this.validTask&&(this.validTask.stopAll(),this.validTask=null)},load:function(){this.form.load.apply(this.form,arguments)},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this),this.form&&this.form.items.each(function(){this.disable()})},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this),this.form&&this.form.items.each(function(){this.enable()})},bindHandler:function(){var a=!0;if(this.form.items.each(function(b){return b.isValid(!0)?void 0:(a=!1,!1)}),this.fbar)for(var b=this.fbar.items.items,c=0,d=b.length;d>c;c++){var e=b[c];e.formBind===!0&&e.disabled===a&&e.setDisabled(!a)}this.fireEvent("clientvalidation",this,a)}}),Ext.reg("form",Ext.FormPanel),Ext.form.FormPanel=Ext.FormPanel,Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",animCollapse:!1,onRender:function(a,b){if(this.el||(this.el=document.createElement("fieldset"),this.el.id=this.id,(this.title||this.header||this.checkboxToggle)&&(this.el.appendChild(document.createElement("legend")).className="x-fieldset-header")),Ext.form.FieldSet.superclass.onRender.call(this,a,b),this.checkboxToggle){var c="object"==typeof this.checkboxToggle?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};this.checkbox=this.header.insertFirst(c),this.checkbox.dom.checked=!this.collapsed,this.mon(this.checkbox,"click",this.onCheckClick,this)}},onCollapse:function(a,b){this.checkbox&&(this.checkbox.dom.checked=!1),Ext.form.FieldSet.superclass.onCollapse.call(this,a,b)},onExpand:function(a,b){this.checkbox&&(this.checkbox.dom.checked=!0),Ext.form.FieldSet.superclass.onExpand.call(this,a,b)},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]()}}),Ext.reg("fieldset",Ext.form.FieldSet),Ext.form.HtmlEditor=Ext.extend(Ext.form.Field,{enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",actionMode:"wrap",validationEvent:!1,deferHeight:!0,initialized:!1,activated:!1,sourceEditMode:!1,onFocus:Ext.emptyFn,iframePad:3,hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:500px;height:300px;",autocomplete:"off"},initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange")},createFontOptions:function(){for(var a,b,c=[],d=this.fontFamilies,e=0,f=d.length;f>e;e++)a=d[e],b=a.toLowerCase(),c.push('<option value="',b,'" style="font-family:',a,';"',this.defaultFont==b?' selected="true">':">",a,"</option>");return c.join("")},createToolbar:function(a){function b(b,c,e){return{itemId:b,cls:"x-btn-icon",iconCls:"x-edit-"+b,enableToggle:c!==!1,scope:a,handler:e||a.relayBtnCmd,clickEvent:"mousedown",tooltip:d?a.buttonTips[b]||void 0:void 0,overflowText:a.buttonTips[b].title||void 0,tabIndex:-1}}var c=[],d=Ext.QuickTips&&Ext.QuickTips.isEnabled();if(this.enableFont&&!Ext.isSafari2){var e=new Ext.Toolbar.Item({autoEl:{tag:"select",cls:"x-font-select",html:this.createFontOptions()}});c.push(e,"-")}this.enableFormat&&c.push(b("bold"),b("italic"),b("underline")),this.enableFontSize&&c.push("-",b("increasefontsize",!1,this.adjustFont),b("decreasefontsize",!1,this.adjustFont)),this.enableColors&&c.push("-",{itemId:"forecolor",cls:"x-btn-icon",iconCls:"x-edit-forecolor",clickEvent:"mousedown",tooltip:d?a.buttonTips.forecolor||void 0:void 0,tabIndex:-1,menu:new Ext.menu.ColorMenu({allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,listeners:{scope:this,select:function(a,b){this.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+b:b),this.deferFocus()}},clickEvent:"mousedown"})},{itemId:"backcolor",cls:"x-btn-icon",iconCls:"x-edit-backcolor",clickEvent:"mousedown",tooltip:d?a.buttonTips.backcolor||void 0:void 0,tabIndex:-1,menu:new Ext.menu.ColorMenu({focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,listeners:{scope:this,select:function(a,b){Ext.isGecko?(this.execCmd("useCSS",!1),this.execCmd("hilitecolor",b),this.execCmd("useCSS",!0),this.deferFocus()):(this.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+b:b),this.deferFocus())}},clickEvent:"mousedown"})}),this.enableAlignments&&c.push("-",b("justifyleft"),b("justifycenter"),b("justifyright")),Ext.isSafari2||(this.enableLinks&&c.push("-",b("createlink",!1,this.createLink)),this.enableLists&&c.push("-",b("insertorderedlist"),b("insertunorderedlist")),this.enableSourceEdit&&c.push("-",b("sourceedit",!0,function(){this.toggleSourceEdit(!this.sourceEditMode)})));var f=new Ext.Toolbar({renderTo:this.wrap.dom.firstChild,items:c});e&&(this.fontSelect=e.el,this.mon(this.fontSelect,"change",function(){var a=this.fontSelect.dom.value;this.relayCmd("fontname",a),this.deferFocus()},this)),this.mon(f.el,"click",function(a){a.preventDefault()}),this.tb=f},onDisable:function(){this.wrap.mask(),Ext.form.HtmlEditor.superclass.onDisable.call(this)},onEnable:function(){this.wrap.unmask(),Ext.form.HtmlEditor.superclass.onEnable.call(this)},setReadOnly:function(a){if(this.initialized){var b=a?"off":"on",c=this.getDoc();String(c.designMode).toLowerCase()!=b&&(c.designMode=b),this.disableItems(!a)}Ext.form.HtmlEditor.superclass.setReadOnly.call(this,a)},getDocMarkup:function(){return'<html><head><style type="text/css">body{border:0;margin:0;padding:3px;height:98%;cursor:text;}</style></head><body></body></html>'},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return Ext.isIE?this.getWin().document:this.iframe.contentDocument||this.getWin().document},getWin:function(){return Ext.isIE?this.iframe.contentWindow:window.frames[this.iframe.name]},onRender:function(a,b){if(Ext.form.HtmlEditor.superclass.onRender.call(this,a,b),this.el.dom.style.border="0 none",this.el.dom.setAttribute("tabIndex",-1),this.el.addClass("x-hidden"),Ext.isIE&&this.el.applyStyles("margin-top:-1px;margin-bottom:-1px;"),this.wrap=this.el.wrap({cls:"x-html-editor-wrap",cn:{cls:"x-html-editor-tb"}}),this.createToolbar(this),this.disableItems(!0),this.createIFrame(),!this.width){var c=this.el.getSize();this.setSize(c.width,this.height||c.height)}this.resizeEl=this.positionEl=this.wrap},createIFrame:function(){var a=document.createElement("iframe");a.name=Ext.id(),a.frameBorder="0",a.src=Ext.SSL_SECURE_URL,this.wrap.dom.appendChild(a),this.iframe=a,this.monitorTask=Ext.TaskMgr.start({run:this.checkDesignMode,scope:this,interval:100})},initFrame:function(){Ext.TaskMgr.stop(this.monitorTask);var a=this.getDoc();this.win=this.getWin(),a.open(),a.write(this.getDocMarkup()),a.close();var b={run:function(){var a=this.getDoc();(a.body||"complete"==a.readyState)&&(Ext.TaskMgr.stop(b),a.designMode="on",this.initEditor.defer(10,this))},interval:10,duration:1e4,scope:this};Ext.TaskMgr.start(b)},checkDesignMode:function(){if(this.wrap&&this.wrap.dom.offsetWidth){var a=this.getDoc();if(!a)return;a.editorInitialized&&"on"==String(a.designMode).toLowerCase()||this.initFrame()}},disableItems:function(a){this.fontSelect&&(this.fontSelect.dom.disabled=a),this.tb.items.each(function(b){"sourceedit"!=b.getItemId()&&b.setDisabled(a)})},onResize:function(a,b){if(Ext.form.HtmlEditor.superclass.onResize.apply(this,arguments),this.el&&this.iframe){if(Ext.isNumber(a)){var c=a-this.wrap.getFrameWidth("lr");this.el.setWidth(c),this.tb.setWidth(c),this.iframe.style.width=Math.max(c,0)+"px"}if(Ext.isNumber(b)){var d=b-this.wrap.getFrameWidth("tb")-this.tb.el.getHeight();this.el.setHeight(d),this.iframe.style.height=Math.max(d,0)+"px";var e=this.getEditorBody();e&&(e.style.height=Math.max(d-2*this.iframePad,0)+"px")}}},toggleSourceEdit:function(a){void 0===a&&(a=!this.sourceEditMode),this.sourceEditMode=a===!0;var b=this.tb.getComponent("sourceedit");if(b.pressed===this.sourceEditMode||(b.toggle(this.sourceEditMode),b.xtbHidden)){this.sourceEditMode?(this.disableItems(!0),this.syncValue(),this.iframe.className="x-hidden",this.el.removeClass("x-hidden"),this.el.dom.removeAttribute("tabIndex"),this.el.focus()):(this.initialized&&!this.readOnly&&this.disableItems(!1),this.pushValue(),this.iframe.className="",this.el.addClass("x-hidden"),this.el.dom.setAttribute("tabIndex",-1),this.deferFocus());var c=this.lastSize;c&&(delete this.lastSize,this.setSize(c)),this.fireEvent("editmodechange",this,this.sourceEditMode)}},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);a&&"http://"!=a&&this.relayCmd("createlink",a)},initEvents:function(){this.originalValue=this.getValue()},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,setValue:function(a){return Ext.form.HtmlEditor.superclass.setValue.call(this,a),this.pushValue(),this},cleanHtml:function(a){return a=String(a),Ext.isWebKit&&(a=a.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")),a.charCodeAt(0)==this.defaultValue.replace(/\D/g,"")&&(a=a.substring(1)),a},syncValue:function(){if(this.initialized){var a=this.getEditorBody(),b=a.innerHTML;if(Ext.isWebKit){var c=a.getAttribute("style"),d=c.match(/text-align:(.*?);/i);d&&d[1]&&(b='<div style="'+d[0]+'">'+b+"</div>")}b=this.cleanHtml(b),this.fireEvent("beforesync",this,b)!==!1&&(this.el.dom.value=b,this.fireEvent("sync",this,b))}},getValue:function(){return this[this.sourceEditMode?"pushValue":"syncValue"](),Ext.form.HtmlEditor.superclass.getValue.call(this)},pushValue:function(){if(this.initialized){var a=this.el.dom.value;if(!this.activated&&a.length<1&&(a=this.defaultValue),this.fireEvent("beforepush",this,a)!==!1){if(this.getEditorBody().innerHTML=a,Ext.isGecko){var b=this.getDoc(),c=b.designMode.toLowerCase();b.designMode=c.toggle("on","off"),b.designMode=c}this.fireEvent("push",this,a)}}},deferFocus:function(){this.focus.defer(10,this)},focus:function(){this.win&&!this.sourceEditMode?this.win.focus():this.el.focus()},initEditor:function(){try{var a,b,c=this.getEditorBody(),d=this.el.getStyles("font-size","font-family","background-image","background-repeat");if(d["background-attachment"]="fixed",c.bgProperties="fixed",Ext.DomHelper.applyStyles(c,d),a=this.getDoc())try{Ext.EventManager.removeAll(a)}catch(e){}b=this.onEditorEvent.createDelegate(this),Ext.EventManager.on(a,{mousedown:b,dblclick:b,click:b,keyup:b,buffer:100}),Ext.isGecko&&Ext.EventManager.on(a,"keypress",this.applyCommand,this),(Ext.isIE||Ext.isWebKit||Ext.isOpera)&&Ext.EventManager.on(a,"keydown",this.fixKeys,this),a.editorInitialized=!0,this.initialized=!0,this.pushValue(),this.setReadOnly(this.readOnly),this.fireEvent("initialize",this)}catch(e){}},onDestroy:function(){if(this.monitorTask&&Ext.TaskMgr.stop(this.monitorTask),this.rendered){Ext.destroy(this.tb);var a=this.getDoc();if(a)try{Ext.EventManager.removeAll(a);for(var b in a)delete a[b]}catch(c){}this.wrap&&(this.wrap.dom.innerHTML="",this.wrap.remove())}this.el&&(this.el.removeAllListeners(),this.el.remove()),this.purgeListeners()},onFirstFocus:function(){if(this.activated=!0,this.disableItems(!1),Ext.isGecko){this.win.focus();var a=this.win.getSelection();if(!a.focusNode||3!=a.focusNode.nodeType){var b=a.getRangeAt(0);b.selectNodeContents(this.getEditorBody()),b.collapse(!0),this.deferFocus()}try{this.execCmd("useCSS",!0),this.execCmd("styleWithCSS",!1)}catch(c){}}this.fireEvent("activate",this)},adjustFont:function(a){var b="increasefontsize"==a.getItemId()?1:-1,c=this.getDoc(),d=parseInt(c.queryCommandValue("FontSize")||2,10);Ext.isSafari&&!Ext.isSafari2||Ext.isChrome||Ext.isAir?(d=10>=d?1+b:13>=d?2+b:16>=d?3+b:18>=d?4+b:24>=d?5+b:6+b,d=d.constrain(1,6)):(Ext.isSafari&&(b*=2),d=Math.max(1,d+b)+(Ext.isSafari?"px":0)),this.execCmd("FontSize",d)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){if(!this.readOnly){if(!this.activated)return void this.onFirstFocus();
    var a=this.tb.items.map,b=this.getDoc();if(this.enableFont&&!Ext.isSafari2){var c=(b.queryCommandValue("FontName")||this.defaultFont).toLowerCase();c!=this.fontSelect.dom.value&&(this.fontSelect.dom.value=c)}this.enableFormat&&(a.bold.toggle(b.queryCommandState("bold")),a.italic.toggle(b.queryCommandState("italic")),a.underline.toggle(b.queryCommandState("underline"))),this.enableAlignments&&(a.justifyleft.toggle(b.queryCommandState("justifyleft")),a.justifycenter.toggle(b.queryCommandState("justifycenter")),a.justifyright.toggle(b.queryCommandState("justifyright"))),!Ext.isSafari2&&this.enableLists&&(a.insertorderedlist.toggle(b.queryCommandState("insertorderedlist")),a.insertunorderedlist.toggle(b.queryCommandState("insertunorderedlist"))),Ext.menu.MenuMgr.hideAll(),this.syncValue()}},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(a,b){(function(){this.focus(),this.execCmd(a,b),this.updateToolbar()}).defer(10,this)},execCmd:function(a,b){var c=this.getDoc();c.execCommand(a,!1,void 0===b?null:b),this.syncValue()},applyCommand:function(a){if(a.ctrlKey){var b,c=a.getCharCode();if(c>0){switch(c=String.fromCharCode(c)){case"b":b="bold";break;case"i":b="italic";break;case"u":b="underline"}b&&(this.win.focus(),this.execCmd(b),this.deferFocus(),a.preventDefault())}}},insertAtCursor:function(a){if(this.activated)if(Ext.isIE){this.win.focus();var b=this.getDoc(),c=b.selection.createRange();c&&(c.pasteHTML(a),this.syncValue(),this.deferFocus())}else this.win.focus(),this.execCmd("InsertHTML",a),this.deferFocus()},fixKeys:function(){return Ext.isIE?function(a){var b,c=a.getKey(),d=this.getDoc();if(c==a.TAB)a.stopEvent(),b=d.selection.createRange(),b&&(b.collapse(!0),b.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;"),this.deferFocus());else if(c==a.ENTER&&(b=d.selection.createRange())){var e=b.parentElement();e&&"li"==e.tagName.toLowerCase()||(a.stopEvent(),b.pasteHTML("<br />"),b.collapse(!1),b.select())}}:Ext.isOpera?function(a){var b=a.getKey();b==a.TAB&&(a.stopEvent(),this.win.focus(),this.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),this.deferFocus())}:Ext.isWebKit?function(a){var b=a.getKey();b==a.TAB?(a.stopEvent(),this.execCmd("InsertText","	"),this.deferFocus()):b==a.ENTER&&(a.stopEvent(),this.execCmd("InsertHtml","<br /><br />"),this.deferFocus())}:void 0}(),getToolbar:function(){return this.tb},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}}}),Ext.reg("htmleditor",Ext.form.HtmlEditor),Ext.form.TimeField=Ext.extend(Ext.form.ComboBox,{minValue:void 0,maxValue:void 0,minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H",increment:15,mode:"local",triggerAction:"all",typeAhead:!1,initDate:"1/1/2008",initComponent:function(){Ext.isDefined(this.minValue)&&this.setMinValue(this.minValue,!0),Ext.isDefined(this.maxValue)&&this.setMaxValue(this.maxValue,!0),this.store||this.generateStore(!0),Ext.form.TimeField.superclass.initComponent.call(this)},setMinValue:function(a,b){return this.setLimit(a,!0,b),this},setMaxValue:function(a,b){return this.setLimit(a,!1,b),this},generateStore:function(a){for(var b=this.minValue||new Date(this.initDate).clearTime(),c=this.maxValue||new Date(this.initDate).clearTime().add("mi",1439),d=[];c>=b;)d.push(b.dateFormat(this.format)),b=b.add("mi",this.increment);this.bindStore(d,a)},setLimit:function(a,b,c){var d;if(Ext.isString(a)?d=this.parseDate(a):Ext.isDate(a)&&(d=a),d){var e=new Date(this.initDate).clearTime();e.setHours(d.getHours(),d.getMinutes(),b?0:59,0),this[b?"minValue":"maxValue"]=e,c||this.generateStore()}},getValue:function(){var a=Ext.form.TimeField.superclass.getValue.call(this);return this.formatDate(this.parseDate(a))||""},setValue:function(a){return Ext.form.TimeField.superclass.setValue.call(this,this.formatDate(this.parseDate(a)))},validateValue:Ext.form.DateField.prototype.validateValue,parseDate:Ext.form.DateField.prototype.parseDate,formatDate:Ext.form.DateField.prototype.formatDate,beforeBlur:function(){var a=this.parseDate(this.getRawValue());a&&this.setValue(a.dateFormat(this.format)),Ext.form.TimeField.superclass.beforeBlur.call(this)}}),Ext.reg("timefield",Ext.form.TimeField),Ext.form.Label=Ext.extend(Ext.BoxComponent,{onRender:function(a,b){this.el||(this.el=document.createElement("label"),this.el.id=this.getId(),this.el.innerHTML=this.text?Ext.util.Format.htmlEncode(this.text):this.html||"",this.forId&&this.el.setAttribute("for",this.forId)),Ext.form.Label.superclass.onRender.call(this,a,b)},setText:function(a,b){var c=b===!1;return this[c?"html":"text"]=a,delete this[c?"text":"html"],this.rendered&&(this.el.dom.innerHTML=b!==!1?Ext.util.Format.htmlEncode(a):a),this}}),Ext.reg("label",Ext.form.Label),Ext.form.Action=function(a,b){this.form=a,this.options=b||{}},Ext.form.Action.CLIENT_INVALID="client",Ext.form.Action.SERVER_INVALID="server",Ext.form.Action.CONNECT_FAILURE="connect",Ext.form.Action.LOAD_FAILURE="load",Ext.form.Action.prototype={type:"default",run:function(){},success:function(){},handleResponse:function(){},failure:function(a){this.response=a,this.failureType=Ext.form.Action.CONNECT_FAILURE,this.form.afterAction(this,!1)},processResponse:function(a){return this.response=a,a.responseText||a.responseXML?(this.result=this.handleResponse(a),this.result):!0},getUrl:function(a){var b=this.options.url||this.form.url||this.form.el.dom.action;if(a){var c=this.getParams();c&&(b=Ext.urlAppend(b,c))}return b},getMethod:function(){return(this.options.method||this.form.method||this.form.el.dom.method||"POST").toUpperCase()},getParams:function(){var a=this.form.baseParams,b=this.options.params;return b?"object"==typeof b?b=Ext.urlEncode(Ext.applyIf(b,a)):"string"==typeof b&&a&&(b+="&"+Ext.urlEncode(a)):a&&(b=Ext.urlEncode(a)),b},createCallback:function(a){var a=a||{};return{success:this.success,failure:this.failure,scope:this,timeout:1e3*a.timeout||1e3*this.form.timeout,upload:this.form.fileUpload?this.success:void 0}}},Ext.form.Action.Submit=function(a,b){Ext.form.Action.Submit.superclass.constructor.call(this,a,b)},Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var a=this.options,b=this.getMethod(),c="GET"==b;a.clientValidation===!1||this.form.isValid()?Ext.Ajax.request(Ext.apply(this.createCallback(a),{form:this.form.el.dom,url:this.getUrl(c),method:b,headers:a.headers,params:c?null:this.getParams(),isUpload:this.form.fileUpload})):a.clientValidation!==!1&&(this.failureType=Ext.form.Action.CLIENT_INVALID,this.form.afterAction(this,!1))},success:function(a){var b=this.processResponse(a);return b===!0||b.success?void this.form.afterAction(this,!0):(b.errors&&this.form.markInvalid(b.errors),this.failureType=Ext.form.Action.SERVER_INVALID,void this.form.afterAction(this,!1))},handleResponse:function(a){if(this.form.errorReader){var b=this.form.errorReader.read(a),c=[];if(b.records)for(var d=0,e=b.records.length;e>d;d++){var f=b.records[d];c[d]=f.data}return c.length<1&&(c=null),{success:b.success,errors:c}}return Ext.decode(a.responseText)}}),Ext.form.Action.Load=function(a,b){Ext.form.Action.Load.superclass.constructor.call(this,a,b),this.reader=this.form.reader},Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(this.options),{method:this.getMethod(),url:this.getUrl(!1),headers:this.options.headers,params:this.getParams()}))},success:function(a){var b=this.processResponse(a);return b!==!0&&b.success&&b.data?(this.form.clearInvalid(),this.form.setValues(b.data),void this.form.afterAction(this,!0)):(this.failureType=Ext.form.Action.LOAD_FAILURE,void this.form.afterAction(this,!1))},handleResponse:function(a){if(this.form.reader){var b=this.form.reader.read(a),c=b.records&&b.records[0]?b.records[0].data:null;return{success:b.success,data:c}}return Ext.decode(a.responseText)}}),Ext.form.Action.DirectLoad=Ext.extend(Ext.form.Action.Load,{constructor:function(a,b){Ext.form.Action.DirectLoad.superclass.constructor.call(this,a,b)},type:"directload",run:function(){var a=this.getParams();a.push(this.success,this),this.form.api.load.apply(window,a)},getParams:function(){var a=[],b={},c=this.form.baseParams,d=this.options.params;Ext.apply(b,d,c);var e=this.form.paramOrder;if(e)for(var f=0,g=e.length;g>f;f++)a.push(b[e[f]]);else this.form.paramsAsHash&&a.push(b);return a},processResponse:function(a){return this.result=a,a},success:function(a,b){b.type==Ext.Direct.exceptions.SERVER&&(a={}),Ext.form.Action.DirectLoad.superclass.success.call(this,a)}}),Ext.form.Action.DirectSubmit=Ext.extend(Ext.form.Action.Submit,{constructor:function(a,b){Ext.form.Action.DirectSubmit.superclass.constructor.call(this,a,b)},type:"directsubmit",run:function(){var a=this.options;a.clientValidation===!1||this.form.isValid()?(this.success.params=this.getParams(),this.form.api.submit(this.form.el.dom,this.success,this)):a.clientValidation!==!1&&(this.failureType=Ext.form.Action.CLIENT_INVALID,this.form.afterAction(this,!1))},getParams:function(){var a={},b=this.form.baseParams,c=this.options.params;return Ext.apply(a,c,b),a},processResponse:function(a){return this.result=a,a},success:function(a,b){b.type==Ext.Direct.exceptions.SERVER&&(a={}),Ext.form.Action.DirectSubmit.superclass.success.call(this,a)}}),Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit,directload:Ext.form.Action.DirectLoad,directsubmit:Ext.form.Action.DirectSubmit},Ext.form.VTypes=function(){var a=/^[a-zA-Z_]+$/,b=/^[a-zA-Z0-9_]+$/,c=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{email:function(a){return c.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-@]/i,url:function(a){return d.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(b){return a.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return b.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}(),Ext.grid.GridPanel=Ext.extend(Ext.Panel,{autoExpandColumn:!1,autoExpandMax:1e3,autoExpandMin:50,columnLines:!1,ddText:"{0} selected row{1}",deferRowRender:!0,enableColumnHide:!0,enableColumnMove:!0,enableDragDrop:!1,enableHdMenu:!0,loadMask:!1,minColumnWidth:25,stripeRows:!1,trackMouseOver:!0,stateEvents:["columnmove","columnresize","sortchange"],view:null,bubbleEvents:[],rendered:!1,viewReady:!1,initComponent:function(){Ext.grid.GridPanel.superclass.initComponent.call(this),this.columnLines&&(this.cls=(this.cls||"")+" x-grid-with-col-lines"),this.autoScroll=!1,this.autoWidth=!1,Ext.isArray(this.columns)&&(this.colModel=new Ext.grid.ColumnModel(this.columns),delete this.columns),this.ds&&(this.store=this.ds,delete this.ds),this.cm&&(this.colModel=this.cm,delete this.cm),this.sm&&(this.selModel=this.sm,delete this.sm),this.store=Ext.StoreMgr.lookup(this.store),this.addEvents("click","dblclick","contextmenu","mousedown","mouseup","mouseover","mouseout","keypress","keydown","cellmousedown","rowmousedown","headermousedown","groupmousedown","rowbodymousedown","containermousedown","cellclick","celldblclick","rowclick","rowdblclick","headerclick","headerdblclick","groupclick","groupdblclick","containerclick","containerdblclick","rowbodyclick","rowbodydblclick","rowcontextmenu","cellcontextmenu","headercontextmenu","groupcontextmenu","containercontextmenu","rowbodycontextmenu","bodyscroll","columnresize","columnmove","sortchange","reconfigure","viewready")},onRender:function(){Ext.grid.GridPanel.superclass.onRender.apply(this,arguments);var a=this.getGridEl();this.el.addClass("x-grid-panel"),this.mon(a,{scope:this,mousedown:this.onMouseDown,click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu}),this.relayEvents(a,["mousedown","mouseup","mouseover","mouseout","keypress","keydown"]);var b=this.getView();b.init(this),b.render(),this.getSelectionModel().init(this)},initEvents:function(){Ext.grid.GridPanel.superclass.initEvents.call(this),this.loadMask&&(this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:this.store},this.loadMask)))},initStateEvents:function(){Ext.grid.GridPanel.superclass.initStateEvents.call(this),this.mon(this.colModel,"hiddenchange",this.saveState,this,{delay:100})},applyState:function(a){var b=this.colModel,c=a.columns;if(c)for(var d=0,e=c.length;e>d;d++){var f=c[d],g=b.getColumnById(f.id);if(g){g.hidden=f.hidden,g.width=f.width;var h=b.getIndexById(f.id);h!=d&&b.moveColumn(h,d)}}a.sort&&this.store&&this.store[this.store.remoteSort?"setDefaultSort":"sort"](a.sort.field,a.sort.direction);var i=Ext.apply({},a);delete i.columns,delete i.sort,Ext.grid.GridPanel.superclass.applyState.call(this,i)},getState:function(){for(var a,b={columns:[]},c=0;a=this.colModel.config[c];c++)b.columns[c]={id:a.id,width:a.width},a.hidden&&(b.columns[c].hidden=!0);if(this.store){var d=this.store.getSortState();d&&(b.sort=d)}return b},afterRender:function(){Ext.grid.GridPanel.superclass.afterRender.call(this);var a=this.view;this.on("bodyresize",a.layout,a),a.layout(),this.deferRowRender?a.afterRender.defer(10,this.view):a.afterRender(),this.viewReady=!0},reconfigure:function(a,b){var c=this.rendered;c&&this.loadMask&&(this.loadMask.destroy(),this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({},{store:a},this.initialConfig.loadMask))),this.view&&this.view.initData(a,b),this.store=a,this.colModel=b,c&&this.view.refresh(!0),this.fireEvent("reconfigure",this,a,b)},onDestroy:function(){this.rendered?Ext.destroy(this.view,this.loadMask):this.store&&this.store.autoDestroy&&this.store.destroy(),Ext.destroy(this.colModel,this.selModel),this.store=this.selModel=this.colModel=this.view=this.loadMask=null,Ext.grid.GridPanel.superclass.onDestroy.call(this)},processEvent:function(a,b){this.fireEvent(a,b);var c=b.getTarget(),d=this.view,e=d.findHeaderIndex(c);if(e!==!1)this.fireEvent("header"+a,this,e,b);else{var f,g,h=d.findRowIndex(c);h!==!1?(this.fireEvent("row"+a,this,h,b),f=d.findCellIndex(c),g=d.findRowBody(c),f!==!1&&this.fireEvent("cell"+a,this,h,f,b),g&&this.fireEvent("rowbody"+a,this,h,b)):this.fireEvent("container"+a,this,b)}this.view.processEvent(a,b)},onClick:function(a){this.processEvent("click",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onContextMenu:function(a){this.processEvent("contextmenu",a)},onDblClick:function(a){this.processEvent("dblclick",a)},walkCells:function(a,b,c,d,e){var f=this.colModel,g=f.getColumnCount(),h=this.store,i=h.getCount(),j=!0;if(0>c)for(0>b&&(a--,j=!1);a>=0;){for(j||(b=g-1),j=!1;b>=0;){if(d.call(e||this,a,b,f)===!0)return[a,b];b--}a--}else for(b>=g&&(a++,j=!1);i>a;){for(j||(b=0),j=!1;g>b;){if(d.call(e||this,a,b,f)===!0)return[a,b];b++}a++}return null},onResize:function(){Ext.grid.GridPanel.superclass.onResize.apply(this,arguments),this.viewReady&&this.view.layout()},getGridEl:function(){return this.body},stopEditing:Ext.emptyFn,getSelectionModel:function(){return this.selModel||(this.selModel=new Ext.grid.RowSelectionModel(this.disableSelection?{selectRow:Ext.emptyFn}:null)),this.selModel},getStore:function(){return this.store},getColumnModel:function(){return this.colModel},getView:function(){return this.view||(this.view=new Ext.grid.GridView(this.viewConfig)),this.view},getDragDropText:function(){var a=this.selModel.getCount();return String.format(this.ddText,a,1==a?"":"s")}}),Ext.reg("grid",Ext.grid.GridPanel),Ext.grid.GridView=Ext.extend(Ext.util.Observable,{deferEmptyText:!0,scrollOffset:void 0,autoFill:!1,forceFit:!1,sortClasses:["sort-asc","sort-desc"],sortAscText:"Sort Ascending",sortDescText:"Sort Descending",columnsText:"Columns",selectedRowClass:"x-grid3-row-selected",borderWidth:2,tdClass:"x-grid3-cell",hdCls:"x-grid3-hd",markDirty:!0,cellSelectorDepth:4,rowSelectorDepth:10,rowBodySelectorDepth:10,cellSelector:"td.x-grid3-cell",rowSelector:"div.x-grid3-row",rowBodySelector:"div.x-grid3-row-body",firstRowCls:"x-grid3-row-first",lastRowCls:"x-grid3-row-last",rowClsRe:/(?:^|\s+)x-grid3-row-(first|last|alt)(?:\s+|$)/g,constructor:function(a){Ext.apply(this,a),this.addEvents("beforerowremoved","beforerowsinserted","beforerefresh","rowremoved","rowsinserted","rowupdated","refresh"),Ext.grid.GridView.superclass.constructor.call(this)},initTemplates:function(){var a=this.templates||{};a.master||(a.master=new Ext.Template('<div class="x-grid3" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header"><div class="x-grid3-header-inner"><div class="x-grid3-header-offset" style="{ostyle}">{header}</div></div><div class="x-clear"></div></div>','<div class="x-grid3-scroller"><div class="x-grid3-body" style="{bstyle}">{body}</div><a href="#" class="x-grid3-focus" tabIndex="-1"></a></div>',"</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>")),a.header||(a.header=new Ext.Template('<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}">','<thead><tr class="x-grid3-hd-row">{cells}</tr></thead>',"</table>")),a.hcell||(a.hcell=new Ext.Template('<td class="x-grid3-hd x-grid3-cell x-grid3-td-{id} {css}" style="{style}"><div {tooltip} {attr} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"",'{value}<img class="x-grid3-sort-icon" src="',Ext.BLANK_IMAGE_URL,'" />',"</div></td>")),a.body||(a.body=new Ext.Template("{rows}")),a.row||(a.row=new Ext.Template('<div class="x-grid3-row {alt}" style="{tstyle}"><table class="x-grid3-row-table" border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<tbody><tr>{cells}</tr>",this.enableRowBody?'<tr class="x-grid3-row-body-tr" style="{bodyStyle}"><td colspan="{cols}" class="x-grid3-body-cell" tabIndex="0" hidefocus="on"><div class="x-grid3-row-body">{body}</div></td></tr>':"","</tbody></table></div>")),a.cell||(a.cell=new Ext.Template('<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} {css}" style="{style}" tabIndex="0" {cellAttr}>','<div class="x-grid3-cell-inner x-grid3-col-{id}" unselectable="on" {attr}>{value}</div>',"</td>"));for(var b in a){var c=a[b];c&&Ext.isFunction(c.compile)&&!c.compiled&&(c.disableFormats=!0,c.compile())}this.templates=a,this.colRe=new RegExp("x-grid3-td-([^\\s]+)","")},fly:function(a){return this._flyweight||(this._flyweight=new Ext.Element.Flyweight(document.body)),this._flyweight.dom=a,this._flyweight},getEditorParent:function(){return this.scroller.dom},initElements:function(){var a=Ext.Element,b=this.grid.getGridEl().dom.firstChild,c=b.childNodes;this.el=new a(b),this.mainWrap=new a(c[0]),this.mainHd=new a(this.mainWrap.dom.firstChild),this.grid.hideHeaders&&this.mainHd.setDisplayed(!1),this.innerHd=this.mainHd.dom.firstChild,this.scroller=new a(this.mainWrap.dom.childNodes[1]),this.forceFit&&this.scroller.setStyle("overflow-x","hidden"),this.mainBody=new a(this.scroller.dom.firstChild),this.focusEl=new a(this.scroller.dom.childNodes[1]),this.focusEl.swallowEvent("click",!0),this.resizeMarker=new a(c[1]),this.resizeProxy=new a(c[2])},getRows:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},findCell:function(a){return a?this.fly(a).findParent(this.cellSelector,this.cellSelectorDepth):!1},findCellIndex:function(a,b){var c=this.findCell(a);return!c||b&&!this.fly(c).hasClass(b)?!1:this.getCellIndex(c)},getCellIndex:function(a){if(a){var b=a.className.match(this.colRe);if(b&&b[1])return this.cm.getIndexById(b[1])}return!1},findHeaderCell:function(a){var b=this.findCell(a);return b&&this.fly(b).hasClass(this.hdCls)?b:null},findHeaderIndex:function(a){return this.findCellIndex(a,this.hdCls)},findRow:function(a){return a?this.fly(a).findParent(this.rowSelector,this.rowSelectorDepth):!1},findRowIndex:function(a){var b=this.findRow(a);return b?b.rowIndex:!1},findRowBody:function(a){return a?this.fly(a).findParent(this.rowBodySelector,this.rowBodySelectorDepth):!1},getRow:function(a){return this.getRows()[a]},getCell:function(a,b){return this.getRow(a).getElementsByTagName("td")[b]},getHeaderCell:function(a){return this.mainHd.dom.getElementsByTagName("td")[a]},addRowClass:function(a,b){var c=this.getRow(a);c&&this.fly(c).addClass(b)},removeRowClass:function(a,b){var c=this.getRow(a);c&&this.fly(c).removeClass(b)},removeRow:function(a){Ext.removeNode(this.getRow(a)),this.syncFocusEl(a)},removeRows:function(a,b){for(var c=this.mainBody.dom,d=a;b>=d;d++)Ext.removeNode(c.childNodes[a]);this.syncFocusEl(a)},getScrollState:function(){var a=this.scroller.dom;return{left:a.scrollLeft,top:a.scrollTop}},restoreScroll:function(a){var b=this.scroller.dom;b.scrollLeft=a.left,b.scrollTop=a.top},scrollToTop:function(){this.scroller.dom.scrollTop=0,this.scroller.dom.scrollLeft=0},syncScroll:function(){this.syncHeaderScroll();var a=this.scroller.dom;this.grid.fireEvent("bodyscroll",a.scrollLeft,a.scrollTop)},syncHeaderScroll:function(){var a=this.scroller.dom;this.innerHd.scrollLeft=a.scrollLeft,this.innerHd.scrollLeft=a.scrollLeft},updateSortIcon:function(a,b){var c=this.sortClasses,d=this.mainHd.select("td").removeClass(c);d.item(a).addClass(c["DESC"==b?1:0])},updateAllColumnWidths:function(){var a,b,c=this.getTotalWidth(),d=this.cm.getColumnCount(),e=[];for(b=0;d>b;b++)e[b]=this.getColumnWidth(b);for(this.innerHd.firstChild.style.width=this.getOffsetWidth(),this.innerHd.firstChild.firstChild.style.width=c,this.mainBody.dom.style.width=c,b=0;d>b;b++){var f=this.getHeaderCell(b);f.style.width=e[b]}var g,h,i=this.getRows();for(b=0,a=i.length;a>b;b++)if(g=i[b],g.style.width=c,g.firstChild){g.firstChild.style.width=c,h=g.firstChild.rows[0];for(var j=0;d>j;j++)h.childNodes[j].style.width=e[j]}this.onAllColumnWidthsUpdated(e,c)},updateColumnWidth:function(a){var b=this.getColumnWidth(a),c=this.getTotalWidth();this.innerHd.firstChild.style.width=this.getOffsetWidth(),this.innerHd.firstChild.firstChild.style.width=c,this.mainBody.dom.style.width=c;var d=this.getHeaderCell(a);d.style.width=b;for(var e,f=this.getRows(),g=0,h=f.length;h>g;g++)e=f[g],e.style.width=c,e.firstChild&&(e.firstChild.style.width=c,e.firstChild.rows[0].childNodes[a].style.width=b);this.onColumnWidthUpdated(a,b,c)},updateColumnHidden:function(a,b){var c=this.getTotalWidth();this.innerHd.firstChild.style.width=this.getOffsetWidth(),this.innerHd.firstChild.firstChild.style.width=c,this.mainBody.dom.style.width=c;var d=b?"none":"",e=this.getHeaderCell(a);e.style.display=d;for(var f,g=this.getRows(),h=0,i=g.length;i>h;h++)f=g[h],f.style.width=c,f.firstChild&&(f.firstChild.style.width=c,f.firstChild.rows[0].childNodes[a].style.display=d);this.onColumnHiddenUpdated(a,b,c),delete this.lastViewWidth,this.layout()},doRender:function(a,b,c,d,e,f){for(var g,h,i,j=this.templates,k=j.cell,l=j.row,m=e-1,n="width:"+this.getTotalWidth()+";",o=[],p={},q={tstyle:n},r=0,s=b.length;s>r;r++){i=b[r],g=[];for(var t=r+d,u=0;e>u;u++)h=a[u],p.id=h.id,p.css=0===u?"x-grid3-cell-first ":u==m?"x-grid3-cell-last ":"",p.attr=p.cellAttr="",p.value=h.renderer.call(h.scope,i.data[h.name],p,i,t,u,c),p.style=h.style,Ext.isEmpty(p.value)&&(p.value="&#160;"),this.markDirty&&i.dirty&&Ext.isDefined(i.modified[h.name])&&(p.css+=" x-grid3-dirty-cell"),g[g.length]=k.apply(p);var v=[];f&&(t+1)%2===0&&(v[0]="x-grid3-row-alt"),i.dirty&&(v[1]=" x-grid3-dirty-row"),q.cols=e,this.getRowClass&&(v[2]=this.getRowClass(i,t,q,c)),q.alt=v.join(" "),q.cells=g.join(""),o[o.length]=l.apply(q)}return o.join("")},processRows:function(a,b){if(this.ds&&!(this.ds.getCount()<1)){var c,d,e=this.getRows(),f=e.length;for(b=b||!this.grid.stripeRows,a=a||0,c=0;f>c;c++)d=e[c],d&&(d.rowIndex=c,b||(d.className=d.className.replace(this.rowClsRe," "),(c+1)%2===0&&(d.className+=" x-grid3-row-alt")));0===a&&Ext.fly(e[0]).addClass(this.firstRowCls),Ext.fly(e[e.length-1]).addClass(this.lastRowCls)}},afterRender:function(){this.ds&&this.cm&&(this.mainBody.dom.innerHTML=this.renderRows()||"&#160;",this.processRows(0,!0),this.deferEmptyText!==!0&&this.applyEmptyText(),this.grid.fireEvent("viewready",this.grid))},renderUI:function(){var a=this.renderHeaders(),b=this.templates.body.apply({rows:"&#160;"}),c=this.templates.master.apply({body:b,header:a,ostyle:"width:"+this.getOffsetWidth()+";",bstyle:"width:"+this.getTotalWidth()+";"}),d=this.grid;d.getGridEl().dom.innerHTML=c,this.initElements(),Ext.fly(this.innerHd).on("click",this.handleHdDown,this),this.mainHd.on({scope:this,mouseover:this.handleHdOver,mouseout:this.handleHdOut,mousemove:this.handleHdMove}),this.scroller.on("scroll",this.syncScroll,this),d.enableColumnResize!==!1&&(this.splitZone=new Ext.grid.GridView.SplitDragZone(d,this.mainHd.dom)),d.enableColumnMove&&(this.columnDrag=new Ext.grid.GridView.ColumnDragZone(d,this.innerHd),this.columnDrop=new Ext.grid.HeaderDropZone(d,this.mainHd.dom)),d.enableHdMenu!==!1&&(this.hmenu=new Ext.menu.Menu({id:d.id+"-hctx"}),this.hmenu.add({itemId:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{itemId:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"}),d.enableColumnHide!==!1&&(this.colMenu=new Ext.menu.Menu({id:d.id+"-hcols-menu"}),this.colMenu.on({scope:this,beforeshow:this.beforeColMenuShow,itemclick:this.handleHdMenuClick}),this.hmenu.add("-",{itemId:"columns",hideOnClick:!1,text:this.columnsText,menu:this.colMenu,iconCls:"x-cols-icon"})),this.hmenu.on("itemclick",this.handleHdMenuClick,this)),d.trackMouseOver&&this.mainBody.on({scope:this,mouseover:this.onRowOver,mouseout:this.onRowOut}),(d.enableDragDrop||d.enableDrag)&&(this.dragZone=new Ext.grid.GridDragZone(d,{ddGroup:d.ddGroup||"GridDD"})),this.updateHeaderSortState()},processEvent:Ext.emptyFn,layout:function(){if(this.mainBody){var a=this.grid,b=a.getGridEl(),c=b.getSize(!0),d=c.width;if(a.hideHeaders||!(20>d||c.height<20)){if(a.autoHeight)this.scroller.dom.style.overflow="visible",Ext.isWebKit&&(this.scroller.dom.style.position="static");else{this.el.setSize(c.width,c.height);var e=this.mainHd.getHeight(),f=c.height-e;this.scroller.setSize(d,f),this.innerHd&&(this.innerHd.style.width=d+"px")}this.forceFit?this.lastViewWidth!=d&&(this.fitColumns(!1,!1),this.lastViewWidth=d):(this.autoExpand(),this.syncHeaderScroll()),this.onLayout(d,f)}}},onLayout:function(){},onColumnWidthUpdated:function(){},onAllColumnWidthsUpdated:function(){},onColumnHiddenUpdated:function(){},updateColumnText:function(){},afterMove:function(){},init:function(a){this.grid=a,this.initTemplates(),this.initData(a.store,a.colModel),this.initUI(a)},getColumnId:function(a){return this.cm.getColumnId(a)},getOffsetWidth:function(){return this.cm.getTotalWidth()+this.getScrollOffset()+"px"},getScrollOffset:function(){return Ext.num(this.scrollOffset,Ext.getScrollBarWidth())},renderHeaders:function(){for(var a=this.cm,b=this.templates,c=b.hcell,d=[],e={},f=a.getColumnCount(),g=f-1,h=0;f>h;h++)e.id=a.getColumnId(h),e.value=a.getColumnHeader(h)||"",e.style=this.getColumnStyle(h,!0),e.tooltip=this.getColumnTooltip(h),e.css=0===h?"x-grid3-cell-first ":h==g?"x-grid3-cell-last ":"","right"==a.config[h].align?e.istyle="padding-right:16px":delete e.istyle,d[d.length]=c.apply(e);return b.header.apply({cells:d.join(""),tstyle:"width:"+this.getTotalWidth()+";"})},getColumnTooltip:function(a){var b=this.cm.getColumnTooltip(a);return b?Ext.QuickTips.isEnabled()?'ext:qtip="'+b+'"':'title="'+b+'"':""},beforeUpdate:function(){this.grid.stopEditing(!0)},updateHeaders:function(){this.innerHd.firstChild.innerHTML=this.renderHeaders(),this.innerHd.firstChild.style.width=this.getOffsetWidth(),this.innerHd.firstChild.firstChild.style.width=this.getTotalWidth()},focusRow:function(a){this.focusCell(a,0,!1)},focusCell:function(a,b,c){this.syncFocusEl(this.ensureVisible(a,b,c)),Ext.isGecko?this.focusEl.focus():this.focusEl.focus.defer(1,this.focusEl)},resolveCell:function(a,b,c){if(Ext.isNumber(a)||(a=a.rowIndex),!this.ds)return null;if(0>a||a>=this.ds.getCount())return null;b=void 0!==b?b:0;var d,e=this.getRow(a),f=this.cm,g=f.getColumnCount();if(c!==!1||0!==b){for(;g>b&&f.isHidden(b);)b++;d=this.getCell(a,b)}return{row:e,cell:d}},getResolvedXY:function(a){if(!a)return null;var b=(this.scroller.dom,a.cell),c=a.row;return b?Ext.fly(b).getXY():[this.el.getX(),Ext.fly(c).getY()]},syncFocusEl:function(a,b,c){var d=a;Ext.isArray(d)||(a=Math.min(a,Math.max(0,this.getRows().length-1)),d=this.getResolvedXY(this.resolveCell(a,b,c))),this.focusEl.setXY(d||this.scroller.getXY())},ensureVisible:function(a,b,c){var d=this.resolveCell(a,b,c);if(d&&d.row){for(var e=d.row,f=d.cell,g=this.scroller.dom,h=0,i=e,j=this.el.dom;i&&i!=j;)h+=i.offsetTop,i=i.offsetParent;h-=this.mainHd.dom.offsetHeight,j=parseInt(g.scrollTop,10);var k=h+e.offsetHeight,l=g.clientHeight,m=j+l;if(j>h?g.scrollTop=h:k>m&&(g.scrollTop=k-l),c!==!1){var n=parseInt(f.offsetLeft,10),o=n+f.offsetWidth,p=parseInt(g.scrollLeft,10),q=p+g.clientWidth;p>n?g.scrollLeft=n:o>q&&(g.scrollLeft=o-g.clientWidth)}return this.getResolvedXY(d)}},insertRows:function(a,b,c,d){var e=a.getCount()-1;if(!d&&0===b&&c>=e)this.fireEvent("beforerowsinserted",this,b,c),this.refresh(),this.fireEvent("rowsinserted",this,b,c);else{d||this.fireEvent("beforerowsinserted",this,b,c);var f=this.renderRows(b,c),g=this.getRow(b);if(g)0===b&&Ext.fly(this.getRow(0)).removeClass(this.firstRowCls),Ext.DomHelper.insertHtml("beforeBegin",g,f);else{var h=this.getRow(e-1);h&&Ext.fly(h).removeClass(this.lastRowCls),Ext.DomHelper.insertHtml("beforeEnd",this.mainBody.dom,f)}d?(0===b||b>=e)&&Ext.fly(this.getRow(b)).addClass(0===b?this.firstRowCls:this.lastRowCls):(this.fireEvent("rowsinserted",this,b,c),this.processRows(b))}this.syncFocusEl(b)},deleteRows:function(a,b,c){a.getRowCount()<1?this.refresh():(this.fireEvent("beforerowsdeleted",this,b,c),this.removeRows(b,c),this.processRows(b),this.fireEvent("rowsdeleted",this,b,c))},getColumnStyle:function(a,b){var c=b?"":this.cm.config[a].css||"";c+="width:"+this.getColumnWidth(a)+";",this.cm.isHidden(a)&&(c+="display:none;");var d=this.cm.config[a].align;return d&&(c+="text-align:"+d+";"),c},getColumnWidth:function(a){var b=this.cm.getColumnWidth(a);return Ext.isNumber(b)?(Ext.isBorderBox||Ext.isWebKit&&!Ext.isSafari2?b:b-this.borderWidth>0?b-this.borderWidth:0)+"px":b},getTotalWidth:function(){return this.cm.getTotalWidth()+"px"},fitColumns:function(a,b,c){var d,e=this.cm,f=e.getTotalWidth(!1),g=this.grid.getGridEl().getWidth(!0)-this.getScrollOffset();if(!(20>g)){var h=g-f;if(0===h)return!1;
    var i=e.getColumnCount(!0),j=i-(Ext.isNumber(c)?1:0);0===j&&(j=1,c=void 0);var k,l=e.getColumnCount(),m=[],n=0,o=0;for(d=0;l>d;d++)e.isHidden(d)||e.isFixed(d)||d===c||(k=e.getColumnWidth(d),m.push(d),n=d,m.push(k),o+=k);for(var p=(g-e.getTotalWidth())/o;m.length;)k=m.pop(),d=m.pop(),e.setColumnWidth(d,Math.max(this.grid.minColumnWidth,Math.floor(k+k*p)),!0);if((f=e.getTotalWidth(!1))>g){var q=j!=i?c:n;e.setColumnWidth(q,Math.max(1,e.getColumnWidth(q)-(f-g)),!0)}return a!==!0&&this.updateAllColumnWidths(),!0}},autoExpand:function(a){var b=this.grid,c=this.cm;if(!this.userResized&&b.autoExpandColumn){var d=c.getTotalWidth(!1),e=this.grid.getGridEl().getWidth(!0)-this.getScrollOffset();if(d!=e){var f=c.getIndexById(b.autoExpandColumn),g=c.getColumnWidth(f),h=Math.min(Math.max(e-d+g,b.autoExpandMin),b.autoExpandMax);h!=g&&(c.setColumnWidth(f,h,!0),a!==!0&&this.updateColumnWidth(f,h))}}},getColumnData:function(){for(var a=[],b=this.cm,c=b.getColumnCount(),d=0;c>d;d++){var e=b.getDataIndex(d);a[d]={name:Ext.isDefined(e)?e:this.ds.fields.get(d).name,renderer:b.getRenderer(d),scope:b.getRendererScope(d),id:b.getColumnId(d),style:this.getColumnStyle(d)}}return a},renderRows:function(a,b){var c=this.grid,d=c.colModel,e=c.store,f=c.stripeRows,g=d.getColumnCount();if(e.getCount()<1)return"";var h=this.getColumnData();a=a||0,b=Ext.isDefined(b)?b:e.getCount()-1;var i=e.getRange(a,b);return this.doRender(h,i,e,a,g,f)},renderBody:function(){var a=this.renderRows()||"&#160;";return this.templates.body.apply({rows:a})},refreshRow:function(a){var b,c=this.ds;if(Ext.isNumber(a)){if(b=a,a=c.getAt(b),!a)return}else if(b=c.indexOf(a),0>b)return;this.insertRows(c,b,b,!0),this.getRow(b).rowIndex=b,this.onRemove(c,a,b+1,!0),this.fireEvent("rowupdated",this,b,a)},refresh:function(a){this.fireEvent("beforerefresh",this),this.grid.stopEditing(!0);var b=this.renderBody();this.mainBody.update(b).setWidth(this.getTotalWidth()),a===!0&&(this.updateHeaders(),this.updateHeaderSortState()),this.processRows(0,!0),this.layout(),this.applyEmptyText(),this.fireEvent("refresh",this)},applyEmptyText:function(){this.emptyText&&!this.hasRows()&&this.mainBody.update('<div class="x-grid-empty">'+this.emptyText+"</div>")},updateHeaderSortState:function(){var a=this.ds.getSortState();if(a){this.sortState&&this.sortState.field==a.field&&this.sortState.direction==a.direction||this.grid.fireEvent("sortchange",this.grid,a),this.sortState=a;var b=this.cm.findColumnIndex(a.field);if(-1!=b){var c=a.direction;this.updateSortIcon(b,c)}}},clearHeaderSortState:function(){this.sortState&&(this.grid.fireEvent("sortchange",this.grid,null),this.mainHd.select("td").removeClass(this.sortClasses),delete this.sortState)},destroy:function(){this.colMenu&&(Ext.menu.MenuMgr.unregister(this.colMenu),this.colMenu.destroy(),delete this.colMenu),this.hmenu&&(Ext.menu.MenuMgr.unregister(this.hmenu),this.hmenu.destroy(),delete this.hmenu),this.initData(null,null),this.purgeListeners(),Ext.fly(this.innerHd).un("click",this.handleHdDown,this),this.grid.enableColumnMove&&(Ext.destroy(this.columnDrag.el,this.columnDrag.proxy.ghost,this.columnDrag.proxy.el,this.columnDrop.el,this.columnDrop.proxyTop,this.columnDrop.proxyBottom,this.columnDrag.dragData.ddel,this.columnDrag.dragData.header),this.columnDrag.proxy.anim&&Ext.destroy(this.columnDrag.proxy.anim),delete this.columnDrag.proxy.ghost,delete this.columnDrag.dragData.ddel,delete this.columnDrag.dragData.header,this.columnDrag.destroy(),delete Ext.dd.DDM.locationCache[this.columnDrag.id],delete this.columnDrag._domRef,delete this.columnDrop.proxyTop,delete this.columnDrop.proxyBottom,this.columnDrop.destroy(),delete Ext.dd.DDM.locationCache["gridHeader"+this.grid.getGridEl().id],delete this.columnDrop._domRef,delete Ext.dd.DDM.ids[this.columnDrop.ddGroup]),this.splitZone&&(this.splitZone.destroy(),delete this.splitZone._domRef,delete Ext.dd.DDM.ids["gridSplitters"+this.grid.getGridEl().id]),Ext.fly(this.innerHd).removeAllListeners(),Ext.removeNode(this.innerHd),delete this.innerHd,Ext.destroy(this.el,this.mainWrap,this.mainHd,this.scroller,this.mainBody,this.focusEl,this.resizeMarker,this.resizeProxy,this.activeHdBtn,this.dragZone,this.splitZone,this._flyweight),delete this.grid.container,this.dragZone&&this.dragZone.destroy(),Ext.dd.DDM.currentTarget=null,delete Ext.dd.DDM.locationCache[this.grid.getGridEl().id],Ext.EventManager.removeResizeListener(this.onWindowResize,this)},onDenyColumnHide:function(){},render:function(){if(this.autoFill){var a=this.grid.ownerCt;a&&a.getLayout()?a.on("afterlayout",function(){this.fitColumns(!0,!0),this.updateHeaders()},this,{single:!0}):this.fitColumns(!0,!0)}else this.forceFit?this.fitColumns(!0,!1):this.grid.autoExpandColumn&&this.autoExpand(!0);this.renderUI()},initData:function(a,b){this.ds&&(this.ds.un("load",this.onLoad,this),this.ds.un("datachanged",this.onDataChange,this),this.ds.un("add",this.onAdd,this),this.ds.un("remove",this.onRemove,this),this.ds.un("update",this.onUpdate,this),this.ds.un("clear",this.onClear,this),this.ds!==a&&this.ds.autoDestroy&&this.ds.destroy()),a&&a.on({scope:this,load:this.onLoad,datachanged:this.onDataChange,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.onClear}),this.ds=a,this.cm&&(this.cm.un("configchange",this.onColConfigChange,this),this.cm.un("widthchange",this.onColWidthChange,this),this.cm.un("headerchange",this.onHeaderChange,this),this.cm.un("hiddenchange",this.onHiddenChange,this),this.cm.un("columnmoved",this.onColumnMove,this)),b&&(delete this.lastViewWidth,b.on({scope:this,configchange:this.onColConfigChange,widthchange:this.onColWidthChange,headerchange:this.onHeaderChange,hiddenchange:this.onHiddenChange,columnmoved:this.onColumnMove})),this.cm=b},onDataChange:function(){this.refresh(),this.updateHeaderSortState(),this.syncFocusEl(0)},onClear:function(){this.refresh(),this.syncFocusEl(0)},onUpdate:function(a,b){this.refreshRow(b)},onAdd:function(a,b,c){this.insertRows(a,c,c+(b.length-1))},onRemove:function(a,b,c,d){d!==!0&&this.fireEvent("beforerowremoved",this,c,b),this.removeRow(c),d!==!0&&(this.processRows(c),this.applyEmptyText(),this.fireEvent("rowremoved",this,c,b))},onLoad:function(){this.scrollToTop.defer(Ext.isGecko?1:0,this)},onColWidthChange:function(a,b,c){this.updateColumnWidth(b,c)},onHeaderChange:function(){this.updateHeaders()},onHiddenChange:function(a,b,c){this.updateColumnHidden(b,c)},onColumnMove:function(a,b,c){this.indexMap=null;var d=this.getScrollState();this.refresh(!0),this.restoreScroll(d),this.afterMove(c),this.grid.fireEvent("columnmove",b,c)},onColConfigChange:function(){delete this.lastViewWidth,this.indexMap=null,this.refresh(!0)},initUI:function(a){a.on("headerclick",this.onHeaderClick,this)},initEvents:function(){},onHeaderClick:function(a,b){!this.headersDisabled&&this.cm.isSortable(b)&&(a.stopEditing(!0),a.store.sort(this.cm.getDataIndex(b)))},onRowOver:function(a,b){var c;(c=this.findRowIndex(b))!==!1&&this.addRowClass(c,"x-grid3-row-over")},onRowOut:function(a,b){var c;(c=this.findRowIndex(b))===!1||a.within(this.getRow(c),!0)||this.removeRowClass(c,"x-grid3-row-over")},handleWheel:function(a){a.stopPropagation()},onRowSelect:function(a){this.addRowClass(a,this.selectedRowClass)},onRowDeselect:function(a){this.removeRowClass(a,this.selectedRowClass)},onCellSelect:function(a,b){var c=this.getCell(a,b);c&&this.fly(c).addClass("x-grid3-cell-selected")},onCellDeselect:function(a,b){var c=this.getCell(a,b);c&&this.fly(c).removeClass("x-grid3-cell-selected")},onColumnSplitterMoved:function(a,b){this.userResized=!0;var c=this.grid.colModel;c.setColumnWidth(a,b,!0),this.forceFit?(this.fitColumns(!0,!1,a),this.updateAllColumnWidths()):(this.updateColumnWidth(a,b),this.syncHeaderScroll()),this.grid.fireEvent("columnresize",a,b)},handleHdMenuClick:function(a){var b=this.hdCtxIndex,c=this.cm,d=this.ds,e=a.getItemId();switch(e){case"asc":d.sort(c.getDataIndex(b),"ASC");break;case"desc":d.sort(c.getDataIndex(b),"DESC");break;default:if(b=c.getIndexById(e.substr(4)),-1!=b){if(a.checked&&c.getColumnsBy(this.isHideableColumn,this).length<=1)return this.onDenyColumnHide(),!1;c.setHidden(b,a.checked)}}return!0},isHideableColumn:function(a){return!a.hidden&&!a.fixed},beforeColMenuShow:function(){var a=this.cm,b=a.getColumnCount();this.colMenu.removeAll();for(var c=0;b>c;c++)a.config[c].fixed!==!0&&a.config[c].hideable!==!1&&this.colMenu.add(new Ext.menu.CheckItem({itemId:"col-"+a.getColumnId(c),text:a.getColumnHeader(c),checked:!a.isHidden(c),hideOnClick:!1,disabled:a.config[c].hideable===!1}))},handleHdDown:function(a,b){if(Ext.fly(b).hasClass("x-grid3-hd-btn")){a.stopEvent();var c=this.findHeaderCell(b);Ext.fly(c).addClass("x-grid3-hd-menu-open");var d=this.getCellIndex(c);this.hdCtxIndex=d;var e=this.hmenu.items,f=this.cm;e.get("asc").setDisabled(!f.isSortable(d)),e.get("desc").setDisabled(!f.isSortable(d)),this.hmenu.on("hide",function(){Ext.fly(c).removeClass("x-grid3-hd-menu-open")},this,{single:!0}),this.hmenu.show(b,"tl-bl?")}},handleHdOver:function(a,b){var c=this.findHeaderCell(b);if(c&&!this.headersDisabled){this.activeHdRef=b,this.activeHdIndex=this.getCellIndex(c);var d=this.fly(c);this.activeHdRegion=d.getRegion(),this.cm.isMenuDisabled(this.activeHdIndex)||(d.addClass("x-grid3-hd-over"),this.activeHdBtn=d.child(".x-grid3-hd-btn"),this.activeHdBtn&&(this.activeHdBtn.dom.style.height=c.firstChild.offsetHeight-1+"px"))}},handleHdMove:function(a){var b=this.findHeaderCell(this.activeHdRef);if(b&&!this.headersDisabled){var c=this.splitHandleWidth||5,d=this.activeHdRegion,e=a.getPageX(),f=b.style,g="";this.grid.enableColumnResize!==!1&&(e-d.left<=c&&this.cm.isResizable(this.activeHdIndex-1)?g=Ext.isAir?"move":Ext.isWebKit?"e-resize":"col-resize":d.right-e<=(this.activeHdBtn?2:c)&&this.cm.isResizable(this.activeHdIndex)&&(g=Ext.isAir?"move":Ext.isWebKit?"w-resize":"col-resize")),f.cursor=g}},handleHdOut:function(a,b){var c=this.findHeaderCell(b);!c||Ext.isIE&&a.within(c,!0)||(this.activeHdRef=null,this.fly(c).removeClass("x-grid3-hd-over"),c.style.cursor="")},hasRows:function(){var a=this.mainBody.dom.firstChild;return a&&1==a.nodeType&&"x-grid-empty"!=a.className},bind:function(a,b){this.initData(a,b)}}),Ext.grid.GridView.SplitDragZone=function(a,b){this.grid=a,this.view=a.getView(),this.marker=this.view.resizeMarker,this.proxy=this.view.resizeProxy,Ext.grid.GridView.SplitDragZone.superclass.constructor.call(this,b,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:!1}),this.scroll=!1,this.hw=this.view.splitHandleWidth||5},Ext.extend(Ext.grid.GridView.SplitDragZone,Ext.dd.DDProxy,{b4StartDrag:function(a,b){this.view.headersDisabled=!0;var c=this.view.mainWrap.getHeight();this.marker.setHeight(c),this.marker.show(),this.marker.alignTo(this.view.getHeaderCell(this.cellIndex),"tl-tl",[-2,0]),this.proxy.setHeight(c);var d=this.cm.getColumnWidth(this.cellIndex),e=Math.max(d-this.grid.minColumnWidth,0);this.resetConstraints(),this.setXConstraint(e,1e3),this.setYConstraint(0,0),this.minX=a-e,this.maxX=a+1e3,this.startPos=a,Ext.dd.DDProxy.prototype.b4StartDrag.call(this,a,b)},allowHeaderDrag:function(){return!0},handleMouseDown:function(a){var b=this.view.findHeaderCell(a.getTarget());if(b&&this.allowHeaderDrag(a)){var c=this.view.fly(b).getXY(),d=c[0],e=(c[1],a.getXY()),f=e[0],g=b.offsetWidth,h=!1;if(f-d<=this.hw?h=-1:d+g-f<=this.hw&&(h=0),h!==!1){this.cm=this.grid.colModel;var i=this.view.getCellIndex(b);if(-1==h){if(0>i+h)return;for(;this.cm.isHidden(i+h);)if(--h,0>i+h)return}this.cellIndex=i+h,this.split=b.dom,this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)&&Ext.grid.GridView.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}else this.view.columnDrag&&this.view.columnDrag.callHandleMouseDown(a)}},endDrag:function(a){this.marker.hide();var b=this.view,c=Math.max(this.minX,a.getPageX()),d=c-this.startPos;b.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+d),setTimeout(function(){b.headersDisabled=!1},50)},autoOffset:function(){this.setDelta(0,0)}}),Ext.grid.HeaderDragZone=Ext.extend(Ext.dd.DragZone,{maxDragWidth:120,constructor:function(a,b,c){this.grid=a,this.view=a.getView(),this.ddGroup="gridHeader"+this.grid.getGridEl().id,Ext.grid.HeaderDragZone.superclass.constructor.call(this,b),c&&(this.setHandleElId(Ext.id(b)),this.setOuterHandleElId(Ext.id(c))),this.scroll=!1},getDragData:function(a){var b=Ext.lib.Event.getTarget(a),c=this.view.findHeaderCell(b);return c?{ddel:c.firstChild,header:c}:!1},onInitDrag:function(){this.view.headersDisabled=!0;var a=this.dragData.ddel.cloneNode(!0);return a.id=Ext.id(),a.style.width=Math.min(this.dragData.header.offsetWidth,this.maxDragWidth)+"px",this.proxy.update(a),!0},afterValidDrop:function(){var a=this.view;setTimeout(function(){a.headersDisabled=!1},50)},afterInvalidDrop:function(){var a=this.view;setTimeout(function(){a.headersDisabled=!1},50)}}),Ext.grid.HeaderDropZone=Ext.extend(Ext.dd.DropZone,{proxyOffsets:[-4,-9],fly:Ext.Element.fly,constructor:function(a){this.grid=a,this.view=a.getView(),this.proxyTop=Ext.DomHelper.append(document.body,{cls:"col-move-top",html:"&#160;"},!0),this.proxyBottom=Ext.DomHelper.append(document.body,{cls:"col-move-bottom",html:"&#160;"},!0),this.proxyTop.hide=this.proxyBottom.hide=function(){this.setLeftTop(-100,-100),this.setStyle("visibility","hidden")},this.ddGroup="gridHeader"+this.grid.getGridEl().id,Ext.grid.HeaderDropZone.superclass.constructor.call(this,a.getGridEl().dom)},getTargetFromEvent:function(a){var b=Ext.lib.Event.getTarget(a),c=this.view.findCellIndex(b);return c!==!1?this.view.getHeaderCell(c):void 0},nextVisible:function(a){var b=this.view,c=this.grid.colModel;for(a=a.nextSibling;a;){if(!c.isHidden(b.getCellIndex(a)))return a;a=a.nextSibling}return null},prevVisible:function(a){var b=this.view,c=this.grid.colModel;for(a=a.prevSibling;a;){if(!c.isHidden(b.getCellIndex(a)))return a;a=a.prevSibling}return null},positionIndicator:function(a,b,c){var d,e,f=Ext.lib.Event.getPageX(c),g=Ext.lib.Dom.getRegion(b.firstChild),h=g.top+this.proxyOffsets[1];return g.right-f<=(g.right-g.left)/2?(d=g.right+this.view.borderWidth,e="after"):(d=g.left,e="before"),this.grid.colModel.isFixed(this.view.getCellIndex(b))?!1:(d+=this.proxyOffsets[0],this.proxyTop.setLeftTop(d,h),this.proxyTop.show(),this.bottomOffset||(this.bottomOffset=this.view.mainHd.getHeight()),this.proxyBottom.setLeftTop(d,h+this.proxyTop.dom.offsetHeight+this.bottomOffset),this.proxyBottom.show(),e)},onNodeEnter:function(a,b,c,d){d.header!=a&&this.positionIndicator(d.header,a,c)},onNodeOver:function(a,b,c,d){var e=!1;return d.header!=a&&(e=this.positionIndicator(d.header,a,c)),e||(this.proxyTop.hide(),this.proxyBottom.hide()),e?this.dropAllowed:this.dropNotAllowed},onNodeOut:function(){this.proxyTop.hide(),this.proxyBottom.hide()},onNodeDrop:function(a,b,c,d){var e=d.header;if(e!=a){var f=this.grid.colModel,g=Ext.lib.Event.getPageX(c),h=Ext.lib.Dom.getRegion(a.firstChild),i=h.right-g<=(h.right-h.left)/2?"after":"before",j=this.view.getCellIndex(e),k=this.view.getCellIndex(a);return"after"==i&&k++,k>j&&k--,f.moveColumn(j,k),!0}return!1}}),Ext.grid.GridView.ColumnDragZone=Ext.extend(Ext.grid.HeaderDragZone,{constructor:function(a,b){Ext.grid.GridView.ColumnDragZone.superclass.constructor.call(this,a,b,null),this.proxy.el.addClass("x-grid3-col-dd")},handleMouseDown:function(){},callHandleMouseDown:function(a){Ext.grid.GridView.ColumnDragZone.superclass.handleMouseDown.call(this,a)}}),Ext.grid.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{fly:Ext.Element.fly,constructor:function(a,b,c){this.grid=a,this.view=a.getView(),this.proxy=this.view.resizeProxy,Ext.grid.SplitDragZone.superclass.constructor.call(this,b,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:!1}),this.setHandleElId(Ext.id(b)),this.setOuterHandleElId(Ext.id(c)),this.scroll=!1},b4StartDrag:function(a,b){this.view.headersDisabled=!0,this.proxy.setHeight(this.view.mainWrap.getHeight());var c=this.cm.getColumnWidth(this.cellIndex),d=Math.max(c-this.grid.minColumnWidth,0);this.resetConstraints(),this.setXConstraint(d,1e3),this.setYConstraint(0,0),this.minX=a-d,this.maxX=a+1e3,this.startPos=a,Ext.dd.DDProxy.prototype.b4StartDrag.call(this,a,b)},handleMouseDown:function(a){var b=Ext.EventObject.setEvent(a),c=this.fly(b.getTarget());c.hasClass("x-grid-split")&&(this.cellIndex=this.view.getCellIndex(c.dom),this.split=c.dom,this.cm=this.grid.colModel,this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)&&Ext.grid.SplitDragZone.superclass.handleMouseDown.apply(this,arguments))},endDrag:function(a){this.view.headersDisabled=!1;var b=Math.max(this.minX,Ext.lib.Event.getPageX(a)),c=b-this.startPos;this.view.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+c)},autoOffset:function(){this.setDelta(0,0)}}),Ext.grid.GridDragZone=function(a,b){this.view=a.getView(),Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,b),this.scroll=!1,this.grid=a,this.ddel=document.createElement("div"),this.ddel.className="x-grid-dd-wrap"},Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(a){var b=Ext.lib.Event.getTarget(a),c=this.view.findRowIndex(b);if(c!==!1){var d=this.grid.selModel;return(!d.isSelected(c)||a.hasModifier())&&d.handleMouseDown(this.grid,c,a),{grid:this.grid,ddel:this.ddel,rowIndex:c,selections:d.getSelections()}}return!1},onInitDrag:function(){this.dragData;this.ddel.innerHTML=this.grid.getDragDropText(),this.proxy.update(this.ddel)},afterRepair:function(){this.dragging=!1},getRepairXY:function(){return!1},onEndDrag:function(){},onValidDrop:function(){this.hideProxy()},beforeInvalidDrop:function(){}}),Ext.grid.ColumnModel=Ext.extend(Ext.util.Observable,{defaultWidth:100,defaultSortable:!1,constructor:function(a){a.columns?(Ext.apply(this,a),this.setConfig(a.columns,!0)):this.setConfig(a,!0),this.addEvents("widthchange","headerchange","hiddenchange","columnmoved","configchange"),Ext.grid.ColumnModel.superclass.constructor.call(this)},getColumnId:function(a){return this.config[a].id},getColumnAt:function(a){return this.config[a]},setConfig:function(a,b){var c,d,e;if(!b)for(delete this.totalWidth,c=0,e=this.config.length;e>c;c++)d=this.config[c],d.editor&&d.editor.destroy();for(this.defaults=Ext.apply({width:this.defaultWidth,sortable:this.defaultSortable},this.defaults),this.config=a,this.lookup={},c=0,e=a.length;e>c;c++){if(d=Ext.applyIf(a[c],this.defaults),"undefined"==typeof d.id&&(d.id=c),!d.isColumn){var f=Ext.grid.Column.types[d.xtype||"gridcolumn"];d=new f(d),a[c]=d}this.lookup[d.id]=d}b||this.fireEvent("configchange",this)},getColumnById:function(a){return this.lookup[a]},getIndexById:function(a){for(var b=0,c=this.config.length;c>b;b++)if(this.config[b].id==a)return b;return-1},moveColumn:function(a,b){var c=this.config[a];this.config.splice(a,1),this.config.splice(b,0,c),this.dataMap=null,this.fireEvent("columnmoved",this,a,b)},getColumnCount:function(a){if(a===!0){for(var b=0,c=0,d=this.config.length;d>c;c++)this.isHidden(c)||b++;return b}return this.config.length},getColumnsBy:function(a,b){for(var c=[],d=0,e=this.config.length;e>d;d++){var f=this.config[d];a.call(b||this,f,d)===!0&&(c[c.length]=f)}return c},isSortable:function(a){return!!this.config[a].sortable},isMenuDisabled:function(a){return!!this.config[a].menuDisabled},getRenderer:function(a){return this.config[a].renderer?this.config[a].renderer:Ext.grid.ColumnModel.defaultRenderer},getRendererScope:function(a){return this.config[a].scope},setRenderer:function(a,b){this.config[a].renderer=b},getColumnWidth:function(a){return this.config[a].width},setColumnWidth:function(a,b,c){this.config[a].width=b,this.totalWidth=null,c||this.fireEvent("widthchange",this,a,b)},getTotalWidth:function(a){if(!this.totalWidth){this.totalWidth=0;for(var b=0,c=this.config.length;c>b;b++)(a||!this.isHidden(b))&&(this.totalWidth+=this.getColumnWidth(b))}return this.totalWidth},getColumnHeader:function(a){return this.config[a].header},setColumnHeader:function(a,b){this.config[a].header=b,this.fireEvent("headerchange",this,a,b)},getColumnTooltip:function(a){return this.config[a].tooltip},setColumnTooltip:function(a,b){this.config[a].tooltip=b},getDataIndex:function(a){return this.config[a].dataIndex},setDataIndex:function(a,b){this.config[a].dataIndex=b},findColumnIndex:function(a){for(var b=this.config,c=0,d=b.length;d>c;c++)if(b[c].dataIndex==a)return c;return-1},isCellEditable:function(a){return this.config[a].editable||"undefined"==typeof this.config[a].editable&&this.config[a].editor?!0:!1},getCellEditor:function(a,b){return this.config[a].getCellEditor(b)},setEditable:function(a,b){this.config[a].editable=b},isHidden:function(a){return!!this.config[a].hidden},isFixed:function(a){return!!this.config[a].fixed},isResizable:function(a){return a>=0&&this.config[a].resizable!==!1&&this.config[a].fixed!==!0},setHidden:function(a,b){var c=this.config[a];c.hidden!==b&&(c.hidden=b,this.totalWidth=null,this.fireEvent("hiddenchange",this,a,b))},setEditor:function(a,b){Ext.destroy(this.config[a].editor),this.config[a].editor=b},destroy:function(){for(var a=0,b=this.config,c=b.length;c>a;a++)Ext.destroy(b[a].editor);this.purgeListeners()}}),Ext.grid.ColumnModel.defaultRenderer=function(a){return"string"==typeof a&&a.length<1?"&#160;":a},Ext.grid.AbstractSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(){this.locked=!1,Ext.grid.AbstractSelectionModel.superclass.constructor.call(this)},init:function(a){this.grid=a,this.initEvents()},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},destroy:function(){this.purgeListeners()}}),Ext.grid.RowSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{singleSelect:!1,constructor:function(a){Ext.apply(this,a),this.selections=new Ext.util.MixedCollection(!1,function(a){return a.id}),this.last=!1,this.lastActive=!1,this.addEvents("selectionchange","beforerowselect","rowselect","rowdeselect"),Ext.grid.RowSelectionModel.superclass.constructor.call(this)},initEvents:function(){this.grid.enableDragDrop||this.grid.enableDrag||this.grid.on("rowmousedown",this.handleMouseDown,this),this.rowNav=new Ext.KeyNav(this.grid.getGridEl(),{up:function(a){if(!a.shiftKey||this.singleSelect)this.selectPrevious(!1);else if(this.last!==!1&&this.lastActive!==!1){var b=this.last;this.selectRange(this.last,this.lastActive-1),this.grid.getView().focusRow(this.lastActive),b!==!1&&(this.last=b)}else this.selectFirstRow()},down:function(a){if(!a.shiftKey||this.singleSelect)this.selectNext(!1);else if(this.last!==!1&&this.lastActive!==!1){var b=this.last;this.selectRange(this.last,this.lastActive+1),this.grid.getView().focusRow(this.lastActive),b!==!1&&(this.last=b)}else this.selectFirstRow()},scope:this}),this.grid.getView().on({scope:this,refresh:this.onRefresh,rowupdated:this.onRowUpdated,rowremoved:this.onRemove})},onRefresh:function(){var a,b=this.grid.store,c=this.getSelections();this.clearSelections(!0);for(var d=0,e=c.length;e>d;d++){var f=c[d];-1!=(a=b.indexOfId(f.id))&&this.selectRow(a,!0)}c.length!=this.selections.getCount()&&this.fireEvent("selectionchange",this)},onRemove:function(a,b,c){this.selections.remove(c)!==!1&&this.fireEvent("selectionchange",this)},onRowUpdated:function(a,b,c){this.isSelected(c)&&a.onRowSelect(b)},selectRecords:function(a,b){b||this.clearSelections();for(var c=this.grid.store,d=0,e=a.length;e>d;d++)this.selectRow(c.indexOf(a[d]),!0)},getCount:function(){return this.selections.length},selectFirstRow:function(){this.selectRow(0)},selectLastRow:function(a){this.selectRow(this.grid.store.getCount()-1,a)},selectNext:function(a){return this.hasNext()?(this.selectRow(this.last+1,a),this.grid.getView().focusRow(this.last),!0):!1},selectPrevious:function(a){return this.hasPrevious()?(this.selectRow(this.last-1,a),this.grid.getView().focusRow(this.last),!0):!1},hasNext:function(){return this.last!==!1&&this.last+1<this.grid.store.getCount()},hasPrevious:function(){return!!this.last},getSelections:function(){return[].concat(this.selections.items)},getSelected:function(){return this.selections.itemAt(0)},each:function(a,b){for(var c=this.getSelections(),d=0,e=c.length;e>d;d++)if(a.call(b||this,c[d],d)===!1)return!1;return!0},clearSelections:function(a){if(!this.isLocked()){if(a!==!0){var b=this.grid.store,c=this.selections;c.each(function(a){this.deselectRow(b.indexOfId(a.id))},this),c.clear()}else this.selections.clear();this.last=!1}},selectAll:function(){if(!this.isLocked()){this.selections.clear();for(var a=0,b=this.grid.store.getCount();b>a;a++)this.selectRow(a,!0)}},hasSelection:function(){return this.selections.length>0},isSelected:function(a){var b=Ext.isNumber(a)?this.grid.store.getAt(a):a;return b&&this.selections.key(b.id)?!0:!1},isIdSelected:function(a){return this.selections.key(a)?!0:!1},handleMouseDown:function(a,b,c){if(0===c.button&&!this.isLocked()){var d=this.grid.getView();if(c.shiftKey&&!this.singleSelect&&this.last!==!1){var e=this.last;this.selectRange(e,b,c.ctrlKey),this.last=e,d.focusRow(b)}else{var f=this.isSelected(b);c.ctrlKey&&f?this.deselectRow(b):(!f||this.getCount()>1)&&(this.selectRow(b,c.ctrlKey||c.shiftKey),d.focusRow(b))}}},selectRows:function(a,b){b||this.clearSelections();for(var c=0,d=a.length;d>c;c++)this.selectRow(a[c],!0)},selectRange:function(a,b,c){var d;if(!this.isLocked())if(c||this.clearSelections(),b>=a)for(d=a;b>=d;d++)this.selectRow(d,!0);else for(d=a;d>=b;d--)this.selectRow(d,!0)},deselectRange:function(a,b,c){if(!this.isLocked())for(var d=a;b>=d;d++)this.deselectRow(d,c)},selectRow:function(a,b,c){if(!(this.isLocked()||0>a||a>=this.grid.store.getCount()||b&&this.isSelected(a))){var d=this.grid.store.getAt(a);d&&this.fireEvent("beforerowselect",this,a,b,d)!==!1&&((!b||this.singleSelect)&&this.clearSelections(),this.selections.add(d),this.last=this.lastActive=a,c||this.grid.getView().onRowSelect(a),this.fireEvent("rowselect",this,a,d),this.fireEvent("selectionchange",this))}},deselectRow:function(a,b){if(!this.isLocked()){this.last==a&&(this.last=!1),this.lastActive==a&&(this.lastActive=!1);var c=this.grid.store.getAt(a);c&&(this.selections.remove(c),b||this.grid.getView().onRowDeselect(a),this.fireEvent("rowdeselect",this,a,c),this.fireEvent("selectionchange",this))}},restoreLast:function(){this._last&&(this.last=this._last)},acceptsNav:function(a,b,c){return!c.isHidden(b)&&c.isCellEditable(b,a)},onEditorKey:function(a,b){var c,d,e,f,g,h=b.getKey(),i=this.grid,e=i.lastEdit,j=i.activeEditor,k=b.shiftKey;h==b.TAB?(b.stopEvent(),j.completeEdit(),c=k?i.walkCells(j.row,j.col-1,-1,this.acceptsNav,this):i.walkCells(j.row,j.col+1,1,this.acceptsNav,this)):h==b.ENTER&&this.moveEditorOnEnter!==!1&&(c=k?i.walkCells(e.row-1,e.col,-1,this.acceptsNav,this):i.walkCells(e.row+1,e.col,1,this.acceptsNav,this)),c&&(f=c[0],g=c[1],e.row!=f&&this.selectRow(f),i.isEditor&&i.editing&&(d=i.activeEditor,d&&d.field.triggerBlur&&d.field.triggerBlur()),i.startEditing(f,g))},destroy:function(){this.rowNav&&(this.rowNav.disable(),this.rowNav=null),Ext.grid.RowSelectionModel.superclass.destroy.call(this)}}),Ext.grid.Column=Ext.extend(Object,{isColumn:!0,constructor:function(a){Ext.apply(this,a),Ext.isString(this.renderer)?this.renderer=Ext.util.Format[this.renderer]:Ext.isObject(this.renderer)&&(this.scope=this.renderer.scope,this.renderer=this.renderer.fn),this.scope||(this.scope=this),this.editor&&(this.editor=Ext.create(this.editor,"textfield"))},renderer:function(a){return Ext.isString(a)&&a.length<1?"&#160;":a},getEditor:function(){return this.editable!==!1?this.editor:null},getCellEditor:function(a){var b=this.getEditor(a);if(b){if(!b.startEdit)return b.gridEditor||(b.gridEditor=new Ext.grid.GridEditor(b)),b.gridEditor;if(b.startEdit)return b}return null}}),Ext.grid.BooleanColumn=Ext.extend(Ext.grid.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(a){Ext.grid.BooleanColumn.superclass.constructor.call(this,a);var b=this.trueText,c=this.falseText,d=this.undefinedText;this.renderer=function(a){return void 0===a?d:a&&"false"!==a?b:c}}}),Ext.grid.NumberColumn=Ext.extend(Ext.grid.Column,{format:"0,000.00",constructor:function(a){Ext.grid.NumberColumn.superclass.constructor.call(this,a),this.renderer=Ext.util.Format.numberRenderer(this.format)}}),Ext.grid.DateColumn=Ext.extend(Ext.grid.Column,{format:"m/d/Y",constructor:function(a){Ext.grid.DateColumn.superclass.constructor.call(this,a),this.renderer=Ext.util.Format.dateRenderer(this.format)}}),Ext.grid.TemplateColumn=Ext.extend(Ext.grid.Column,{constructor:function(a){Ext.grid.TemplateColumn.superclass.constructor.call(this,a);var b=!Ext.isPrimitive(this.tpl)&&this.tpl.compile?this.tpl:new Ext.XTemplate(this.tpl);this.renderer=function(a,c,d){return b.apply(d.data)},this.tpl=b}}),Ext.grid.Column.types={gridcolumn:Ext.grid.Column,booleancolumn:Ext.grid.BooleanColumn,numbercolumn:Ext.grid.NumberColumn,datecolumn:Ext.grid.DateColumn,templatecolumn:Ext.grid.TemplateColumn},Ext.grid.RowNumberer=Ext.extend(Object,{header:"",width:23,sortable:!1,constructor:function(a){Ext.apply(this,a),this.rowspan&&(this.renderer=this.renderer.createDelegate(this))},fixed:!0,menuDisabled:!0,dataIndex:"",id:"numberer",rowspan:void 0,renderer:function(a,b,c,d){return this.rowspan&&(b.cellAttr='rowspan="'+this.rowspan+'"'),d+1}}),Ext.grid.CheckboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:'<div class="x-grid3-hd-checker">&#160;</div>',width:20,sortable:!1,menuDisabled:!0,fixed:!0,dataIndex:"",id:"checker",constructor:function(){Ext.grid.CheckboxSelectionModel.superclass.constructor.apply(this,arguments),this.checkOnly&&(this.handleMouseDown=Ext.emptyFn)},initEvents:function(){Ext.grid.CheckboxSelectionModel.superclass.initEvents.call(this),this.grid.on("render",function(){var a=this.grid.getView();a.mainBody.on("mousedown",this.onMouseDown,this),Ext.fly(a.innerHd).on("mousedown",this.onHdMouseDown,this)},this)},onMouseDown:function(a,b){if(0===a.button&&"x-grid3-row-checker"==b.className){a.stopEvent();var c=a.getTarget(".x-grid3-row");if(c){var d=c.rowIndex;this.isSelected(d)?this.deselectRow(d):this.selectRow(d,!0)}}},onHdMouseDown:function(a,b){if("x-grid3-hd-checker"==b.className){a.stopEvent();var c=Ext.fly(b.parentNode),d=c.hasClass("x-grid3-hd-checker-on");d?(c.removeClass("x-grid3-hd-checker-on"),this.clearSelections()):(c.addClass("x-grid3-hd-checker-on"),this.selectAll())}},renderer:function(){return'<div class="x-grid3-row-checker">&#160;</div>'}}),Ext.grid.CellSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{constructor:function(a){Ext.apply(this,a),this.selection=null,this.addEvents("beforecellselect","cellselect","selectionchange"),Ext.grid.CellSelectionModel.superclass.constructor.call(this)},initEvents:function(){this.grid.on("cellmousedown",this.handleMouseDown,this),this.grid.on(Ext.EventManager.useKeydown?"keydown":"keypress",this.handleKeyDown,this),this.grid.getView().on({scope:this,refresh:this.onViewChange,rowupdated:this.onRowUpdated,beforerowremoved:this.clearSelections,beforerowsinserted:this.clearSelections}),this.grid.isEditor&&this.grid.on("beforeedit",this.beforeEdit,this)},beforeEdit:function(a){this.select(a.row,a.column,!1,!0,a.record)},onRowUpdated:function(a,b,c){this.selection&&this.selection.record==c&&a.onCellSelect(b,this.selection.cell[1])},onViewChange:function(){this.clearSelections(!0)},getSelectedCell:function(){return this.selection?this.selection.cell:null},clearSelections:function(a){var b=this.selection;b&&(a!==!0&&this.grid.view.onCellDeselect(b.cell[0],b.cell[1]),this.selection=null,this.fireEvent("selectionchange",this,null))},hasSelection:function(){return this.selection?!0:!1},handleMouseDown:function(a,b,c,d){0!==d.button||this.isLocked()||this.select(b,c)},select:function(a,b,c,d,e){if(this.fireEvent("beforecellselect",this,a,b)!==!1){if(this.clearSelections(),e=e||this.grid.store.getAt(a),this.selection={record:e,cell:[a,b]},!c){var f=this.grid.getView();
    f.onCellSelect(a,b),d!==!0&&f.focusCell(a,b)}this.fireEvent("cellselect",this,a,b),this.fireEvent("selectionchange",this,this.selection)}},isSelectable:function(a,b,c){return!c.isHidden(b)},onEditorKey:function(a,b){b.getKey()==b.TAB&&this.handleKeyDown(b)},handleKeyDown:function(a){if(a.isNavKeyPress()){var b,c,d,e,f,g=a.getKey(),h=this.grid,i=this.selection,j=this,k=function(a,b,c){return h.walkCells(a,b,c,h.isEditor&&h.editing?j.acceptsNav:j.isSelectable,j)};switch(g){case a.ESC:case a.PAGE_UP:case a.PAGE_DOWN:break;default:a.stopEvent()}if(!i)return b=k(0,0,1),void(b&&this.select(b[0],b[1]));switch(b=i.cell,d=b[0],e=b[1],g){case a.TAB:c=a.shiftKey?k(d,e-1,-1):k(d,e+1,1);break;case a.DOWN:c=k(d+1,e,1);break;case a.UP:c=k(d-1,e,-1);break;case a.RIGHT:c=k(d,e+1,1);break;case a.LEFT:c=k(d,e-1,-1);break;case a.ENTER:if(h.isEditor&&!h.editing)return void h.startEditing(d,e)}c&&(d=c[0],e=c[1],this.select(d,e),h.isEditor&&h.editing&&(f=h.activeEditor,f&&f.field.triggerBlur&&f.field.triggerBlur(),h.startEditing(d,e)))}},acceptsNav:function(a,b,c){return!c.isHidden(b)&&c.isCellEditable(b,a)}}),Ext.grid.EditorGridPanel=Ext.extend(Ext.grid.GridPanel,{clicksToEdit:2,forceValidation:!1,isEditor:!0,detectEdit:!1,autoEncode:!1,trackMouseOver:!1,initComponent:function(){Ext.grid.EditorGridPanel.superclass.initComponent.call(this),this.selModel||(this.selModel=new Ext.grid.CellSelectionModel),this.activeEditor=null,this.addEvents("beforeedit","afteredit","validateedit")},initEvents:function(){if(Ext.grid.EditorGridPanel.superclass.initEvents.call(this),this.getGridEl().on("mousewheel",this.stopEditing.createDelegate(this,[!0]),this),this.on("columnresize",this.stopEditing,this,[!0]),1==this.clicksToEdit)this.on("cellclick",this.onCellDblClick,this);else{var a=this.getView();"auto"==this.clicksToEdit&&a.mainBody&&a.mainBody.on("mousedown",this.onAutoEditClick,this),this.on("celldblclick",this.onCellDblClick,this)}},onResize:function(){Ext.grid.EditorGridPanel.superclass.onResize.apply(this,arguments);var a=this.activeEditor;this.editing&&a&&a.realign(!0)},onCellDblClick:function(a,b,c){this.startEditing(b,c)},onAutoEditClick:function(a,b){if(0===a.button){var c=this.view.findRowIndex(b),d=this.view.findCellIndex(b);if(c!==!1&&d!==!1)if(this.stopEditing(),this.selModel.getSelectedCell){var e=this.selModel.getSelectedCell();e&&e[0]===c&&e[1]===d&&this.startEditing(c,d)}else this.selModel.isSelected(c)&&this.startEditing(c,d)}},onEditComplete:function(a,b,c){this.editing=!1,this.activeEditor=null;var d=a.record,e=this.colModel.getDataIndex(a.col);if(b=this.postEditValue(b,c,d,e),this.forceValidation===!0||String(b)!==String(c)){var f={grid:this,record:d,field:e,originalValue:c,value:b,row:a.row,column:a.col,cancel:!1};this.fireEvent("validateedit",f)===!1||f.cancel||String(b)===String(c)||(d.set(e,f.value),delete f.cancel,this.fireEvent("afteredit",f))}this.view.focusCell(a.row,a.col)},startEditing:function(a,b){if(this.stopEditing(),this.colModel.isCellEditable(b,a)){this.view.ensureVisible(a,b,!0);var c=this.store.getAt(a),d=this.colModel.getDataIndex(b),e={grid:this,record:c,field:d,value:c.data[d],row:a,column:b,cancel:!1};if(this.fireEvent("beforeedit",e)!==!1&&!e.cancel){this.editing=!0;var f=this.colModel.getCellEditor(b,a);if(!f)return;f.rendered||(f.parentEl=this.view.getEditorParent(f),f.on({scope:this,render:{fn:function(a){a.field.focus(!1,!0)},single:!0,scope:this},specialkey:function(a,b){this.getSelectionModel().onEditorKey(a,b)},complete:this.onEditComplete,canceledit:this.stopEditing.createDelegate(this,[!0])})),Ext.apply(f,{row:a,col:b,record:c}),this.lastEdit={row:a,col:b},this.activeEditor=f;var g=this.preEditValue(c,d);f.startEdit(this.view.getCell(a,b).firstChild,Ext.isDefined(g)?g:"")}}},preEditValue:function(a,b){var c=a.data[b];return this.autoEncode&&Ext.isString(c)?Ext.util.Format.htmlDecode(c):c},postEditValue:function(a){return this.autoEncode&&Ext.isString(a)?Ext.util.Format.htmlEncode(a):a},stopEditing:function(a){if(this.editing){var b=this.activeEditor;b&&(b[a===!0?"cancelEdit":"completeEdit"](),this.view.focusCell(b.row,b.col)),this.activeEditor=null}this.editing=!1}}),Ext.reg("editorgrid",Ext.grid.EditorGridPanel),Ext.grid.GridEditor=function(a,b){Ext.grid.GridEditor.superclass.constructor.call(this,a,b),a.monitorTab=!1},Ext.extend(Ext.grid.GridEditor,Ext.Editor,{alignment:"tl-tl",autoSize:"width",hideEl:!1,cls:"x-small-editor x-grid-editor",shim:!1,shadow:!1}),Ext.grid.PropertyRecord=Ext.data.Record.create([{name:"name",type:"string"},"value"]),Ext.grid.PropertyStore=Ext.extend(Ext.util.Observable,{constructor:function(a,b){this.grid=a,this.store=new Ext.data.Store({recordType:Ext.grid.PropertyRecord}),this.store.on("update",this.onUpdate,this),b&&this.setSource(b),Ext.grid.PropertyStore.superclass.constructor.call(this)},setSource:function(a){this.source=a,this.store.removeAll();var b=[];for(var c in a)this.isEditableValue(a[c])&&b.push(new Ext.grid.PropertyRecord({name:c,value:a[c]},c));this.store.loadRecords({records:b},{},!0)},onUpdate:function(a,b,c){if(c==Ext.data.Record.EDIT){var d=b.data.value,e=b.modified.value;this.grid.fireEvent("beforepropertychange",this.source,b.id,d,e)!==!1?(this.source[b.id]=d,b.commit(),this.grid.fireEvent("propertychange",this.source,b.id,d,e)):b.reject()}},getProperty:function(a){return this.store.getAt(a)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)},setValue:function(a,b){this.source[a]=b,this.store.getById(a).set("value",b)},getSource:function(){return this.source}}),Ext.grid.PropertyColumnModel=Ext.extend(Ext.grid.ColumnModel,{nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",constructor:function(a,b){var c=Ext.grid,d=Ext.form;this.grid=a,c.PropertyColumnModel.superclass.constructor.call(this,[{header:this.nameText,width:50,sortable:!0,dataIndex:"name",id:"name",menuDisabled:!0},{header:this.valueText,width:50,resizable:!1,dataIndex:"value",id:"value",menuDisabled:!0}]),this.store=b;var e=new d.Field({autoCreate:{tag:"select",children:[{tag:"option",value:"true",html:"true"},{tag:"option",value:"false",html:"false"}]},getValue:function(){return"true"==this.el.dom.value}});this.editors={date:new c.GridEditor(new d.DateField({selectOnFocus:!0})),string:new c.GridEditor(new d.TextField({selectOnFocus:!0})),number:new c.GridEditor(new d.NumberField({selectOnFocus:!0,style:"text-align:left;"})),"boolean":new c.GridEditor(e,{autoSize:"both"})},this.renderCellDelegate=this.renderCell.createDelegate(this),this.renderPropDelegate=this.renderProp.createDelegate(this)},renderDate:function(a){return a.dateFormat(this.dateFormat)},renderBool:function(a){return a?"true":"false"},isCellEditable:function(a){return 1==a},getRenderer:function(a){return 1==a?this.renderCellDelegate:this.renderPropDelegate},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(a){var b=a;return Ext.isDate(a)?b=this.renderDate(a):"boolean"==typeof a&&(b=this.renderBool(a)),Ext.util.Format.htmlEncode(b)},getPropertyName:function(a){var b=this.grid.propertyNames;return b&&b[a]?b[a]:a},getCellEditor:function(a,b){var c=this.store.getProperty(b),d=c.data.name,e=c.data.value;return this.grid.customEditors[d]?this.grid.customEditors[d]:Ext.isDate(e)?this.editors.date:"number"==typeof e?this.editors.number:"boolean"==typeof e?this.editors["boolean"]:this.editors.string},destroy:function(){Ext.grid.PropertyColumnModel.superclass.destroy.call(this);for(var a in this.editors)Ext.destroy(this.editors[a])}}),Ext.grid.PropertyGrid=Ext.extend(Ext.grid.EditorGridPanel,{enableColumnMove:!1,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,viewConfig:{forceFit:!0},initComponent:function(){this.customEditors=this.customEditors||{},this.lastEditRow=null;var a=new Ext.grid.PropertyStore(this);this.propStore=a;var b=new Ext.grid.PropertyColumnModel(this,a);a.store.sort("name","ASC"),this.addEvents("beforepropertychange","propertychange"),this.cm=b,this.ds=a.store,Ext.grid.PropertyGrid.superclass.initComponent.call(this),this.mon(this.selModel,"beforecellselect",function(a,b,c){return 0===c?(this.startEditing.defer(200,this,[b,1]),!1):void 0},this)},onRender:function(){Ext.grid.PropertyGrid.superclass.onRender.apply(this,arguments),this.getGridEl().addClass("x-props-grid")},afterRender:function(){Ext.grid.PropertyGrid.superclass.afterRender.apply(this,arguments),this.source&&this.setSource(this.source)},setSource:function(a){this.propStore.setSource(a)},getSource:function(){return this.propStore.getSource()}}),Ext.reg("propertygrid",Ext.grid.PropertyGrid),Ext.grid.GroupingView=Ext.extend(Ext.grid.GridView,{groupByText:"Group By This Field",showGroupsText:"Show in Groups",hideGroupedColumn:!1,showGroupName:!0,startCollapsed:!1,enableGrouping:!0,enableGroupingMenu:!0,enableNoGroups:!0,emptyGroupText:"(None)",ignoreAdd:!1,groupTextTpl:"{text}",groupMode:"value",gidSeed:1e3,initTemplates:function(){Ext.grid.GroupingView.superclass.initTemplates.call(this),this.state={};var a=this.grid.getSelectionModel();a.on(a.selectRow?"beforerowselect":"beforecellselect",this.onBeforeRowSelect,this),this.startGroup||(this.startGroup=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div class="x-grid-group-title">',this.groupTextTpl,"</div></div>",'<div id="{groupId}-bd" class="x-grid-group-body">')),this.startGroup.compile(),this.endGroup||(this.endGroup="</div></div>"),this.endGroup="</div></div>"},findGroup:function(a){return Ext.fly(a).up(".x-grid-group",this.mainBody.dom)},getGroups:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},onAdd:function(){if(this.enableGrouping&&!this.ignoreAdd){var a=this.getScrollState();this.refresh(),this.restoreScroll(a)}else this.enableGrouping||Ext.grid.GroupingView.superclass.onAdd.apply(this,arguments)},onRemove:function(a,b){Ext.grid.GroupingView.superclass.onRemove.apply(this,arguments);var c=document.getElementById(b._groupId);c&&c.childNodes[1].childNodes.length<1&&Ext.removeNode(c),this.applyEmptyText()},refreshRow:function(){1==this.ds.getCount()?this.refresh():(this.isUpdating=!0,Ext.grid.GroupingView.superclass.refreshRow.apply(this,arguments),this.isUpdating=!1)},beforeMenuShow:function(){var a,b=this.hmenu.items,c=this.cm.config[this.hdCtxIndex].groupable===!1;(a=b.get("groupBy"))&&a.setDisabled(c),(a=b.get("showGroups"))&&(a.setDisabled(c),a.setChecked(this.enableGrouping,!0))},renderUI:function(){Ext.grid.GroupingView.superclass.renderUI.call(this),this.mainBody.on("mousedown",this.interceptMouse,this),this.enableGroupingMenu&&this.hmenu&&(this.hmenu.add("-",{itemId:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"}),this.enableNoGroups&&this.hmenu.add({itemId:"showGroups",text:this.showGroupsText,checked:!0,checkHandler:this.onShowGroupsClick,scope:this}),this.hmenu.on("beforeshow",this.beforeMenuShow,this))},processEvent:function(a,b){var c=b.getTarget(".x-grid-group-hd",this.mainBody);if(c){var d=this.getGroupField(),e=this.getPrefix(d),f=c.id.substring(e.length);f=f.substr(0,f.length-3),f&&this.grid.fireEvent("group"+a,this.grid,d,f,b)}},onGroupByClick:function(){this.enableGrouping=!0,this.grid.store.groupBy(this.cm.getDataIndex(this.hdCtxIndex)),this.beforeMenuShow(),this.refresh()},onShowGroupsClick:function(a,b){this.enableGrouping=b,b?this.onGroupByClick():this.grid.store.clearGrouping()},toggleRowIndex:function(a,b){if(this.enableGrouping){var c=this.getRow(a);c&&this.toggleGroup(this.findGroup(c),b)}},toggleGroup:function(a,b){var c=Ext.get(a);b=Ext.isDefined(b)?b:c.hasClass("x-grid-group-collapsed"),this.state[c.id]!==b&&(this.grid.stopEditing(!0),this.state[c.id]=b,c[b?"removeClass":"addClass"]("x-grid-group-collapsed"))},toggleAllGroups:function(a){for(var b=this.getGroups(),c=0,d=b.length;d>c;c++)this.toggleGroup(b[c],a)},expandAllGroups:function(){this.toggleAllGroups(!0)},collapseAllGroups:function(){this.toggleAllGroups(!1)},interceptMouse:function(a){var b=a.getTarget(".x-grid-group-hd",this.mainBody);b&&(a.stopEvent(),this.toggleGroup(b.parentNode))},getGroup:function(a,b,c,d,e,f){var g=c?c(a,{},b,d,e,f):String(a);return(""===g||"&#160;"===g)&&(g=this.cm.config[e].emptyGroupText||this.emptyGroupText),g},getGroupField:function(){return this.grid.store.getGroupState()},afterRender:function(){Ext.grid.GroupingView.superclass.afterRender.call(this),this.grid.deferRowRender&&this.updateGroupWidths()},renderRows:function(){var a=this.getGroupField(),b=!!a;if(this.hideGroupedColumn){var c=this.cm.findColumnIndex(a),d=Ext.isDefined(this.lastGroupField);if(!b&&d)this.mainBody.update(""),this.cm.setHidden(this.cm.findColumnIndex(this.lastGroupField),!1),delete this.lastGroupField;else if(b&&!d)this.lastGroupField=a,this.cm.setHidden(c,!0);else if(b&&d&&a!==this.lastGroupField){this.mainBody.update("");var e=this.cm.findColumnIndex(this.lastGroupField);this.cm.setHidden(e,!1),this.lastGroupField=a,this.cm.setHidden(c,!0)}}return Ext.grid.GroupingView.superclass.renderRows.apply(this,arguments)},doRender:function(a,b,c,d,e,f){if(b.length<1)return"";var g,h=this.getGroupField(),i=this.cm.findColumnIndex(h);if(this.enableGrouping=this.enableGrouping===!1?!1:!!h,!this.enableGrouping||this.isUpdating)return Ext.grid.GroupingView.superclass.doRender.apply(this,arguments);var j,k,l,m,n="width:"+this.getTotalWidth()+";",o=this.cm.config[i],p=o.groupRenderer||o.renderer,q=this.showGroupName?(o.groupName||o.header)+": ":"",r=[];for(k=0,l=b.length;l>k;k++){var s=d+k,t=b[k],u=t.data[h];g=this.getGroup(u,t,p,s,i,c),j&&j.group==g?j.rs.push(t):(m=this.constructId(u,h,i),this.state[m]=!(Ext.isDefined(this.state[m])?!this.state[m]:this.startCollapsed),j={group:g,gvalue:u,text:q+g,groupId:m,startRow:s,rs:[t],cls:this.state[m]?"":"x-grid-group-collapsed",style:n},r.push(j)),t._groupId=m}var v=[];for(k=0,l=r.length;l>k;k++)g=r[k],this.doGroupStart(v,g,a,c,e),v[v.length]=Ext.grid.GroupingView.superclass.doRender.call(this,a,g.rs,c,g.startRow,e,f),this.doGroupEnd(v,g,a,c,e);return v.join("")},getGroupId:function(a){var b=this.getGroupField();return this.constructId(a,b,this.cm.findColumnIndex(b))},constructId:function(a,b,c){var d=this.cm.config[c],e=d.groupRenderer||d.renderer,f="value"==this.groupMode?a:this.getGroup(a,{data:{}},e,0,c,this.ds);return this.getPrefix(b)+Ext.util.Format.htmlEncode(f)},getPrefix:function(a){return this.grid.getGridEl().id+"-gp-"+a+"-"},doGroupStart:function(a,b){a[a.length]=this.startGroup.apply(b)},doGroupEnd:function(a){a[a.length]=this.endGroup},getRows:function(){if(!this.enableGrouping)return Ext.grid.GroupingView.superclass.getRows.call(this);for(var a,b=[],c=this.getGroups(),d=0,e=c.length;e>d;d++){a=c[d].childNodes[1].childNodes;for(var f=0,g=a.length;g>f;f++)b[b.length]=a[f]}return b},updateGroupWidths:function(){if(this.enableGrouping&&this.hasRows())for(var a=Math.max(this.cm.getTotalWidth(),this.el.dom.offsetWidth-this.getScrollOffset())+"px",b=this.getGroups(),c=0,d=b.length;d>c;c++)b[c].firstChild.style.width=a},onColumnWidthUpdated:function(a,b,c){Ext.grid.GroupingView.superclass.onColumnWidthUpdated.call(this,a,b,c),this.updateGroupWidths()},onAllColumnWidthsUpdated:function(a,b){Ext.grid.GroupingView.superclass.onAllColumnWidthsUpdated.call(this,a,b),this.updateGroupWidths()},onColumnHiddenUpdated:function(a,b,c){Ext.grid.GroupingView.superclass.onColumnHiddenUpdated.call(this,a,b,c),this.updateGroupWidths()},onLayout:function(){this.updateGroupWidths()},onBeforeRowSelect:function(a,b){this.toggleRowIndex(b,!0)}}),Ext.grid.GroupingView.GROUP_ID=1e3,Ext.apply(Ext.Template.prototype,{compile:function(){function fn(a,b,c,d){return c&&useF?(d=d?","+d:"","this."!=c.substr(0,5)?c="fm."+c+"(":(c='this.call("'+c.substr(5)+'", ',d=', values, "'+b+'"')):(d="",c="(values['"+b+"'] == undefined ? '' : "),"'"+sep+c+"values['"+b+"']"+d+")"+sep+"'"}var me=this,fm=Ext.util.Format,useF=me.disableFormats!==!0,sep=Ext.isGecko?"+":",",body;return Ext.isGecko?body="this.compiled = function(values){ return '"+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+"';};":(body=["this.compiled = function(values){ return ['"],body.push(me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)),body.push("'].join('');};"),body=body.join("")),eval(body),me},call:function(a,b,c,d){return this[a](b,c,d)}}),Ext.override(Ext.XTemplate,{compileTpl:function(tpl){function fn(a,b,c,d,e){if("xtpl"==b.substr(0,4))return"'"+sep+"this.applySubTemplate("+b.substr(4)+", values, parent, xindex, xcount)"+sep+"'";var f;return f="."===b?"values":"#"===b?"xindex":-1!=b.indexOf(".")?b:"values['"+b+"']",e&&(f="("+f+e+")"),c&&useF?(d=d?","+d:"","this."!=c.substr(0,5)?c="fm."+c+"(":(c='this.call("'+c.substr(5)+'", ',d=', values, "'+b+'"')):(d="",c="("+f+" === undefined ? '' : "),"'"+sep+c+f+d+")"+sep+"'"}function codeFn(a,b){return"'"+sep+"("+b.replace(/\\'/g,"'")+")"+sep+"'"}var fm=Ext.util.Format,useF=this.disableFormats!==!0,sep=Ext.isGecko?"+":",",body;return Ext.isGecko?body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};":(body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"],body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)),body.push("'].join('');};"),body=body.join("")),eval(body),this}}),function(){var a=navigator.userAgent.toLowerCase(),b=function(b){return b.test(a)},c=document.documentMode,d=b(/opera/),e=!d&&b(/msie/),f=e&&(b(/msie 7/)&&8!=c&&9!=c&&10!=c||7==c),g=e&&(b(/msie 8/)&&7!=c&&9!=c&&10!=c||8==c),h=e&&(b(/msie 9/)&&7!=c&&8!=c&&10!=c||9==c),i=e&&(b(/msie 10/)&&7!=c&&8!=c&&9!=c||10==c),j=e&&b(/msie 6/);Ext.apply(Ext,{isIE:e,isIE6:j,isIE7:f,isIE7m:j||f,isIE7p:e&&!j,isIE8:g,isIE8m:j||f||g,isIE8p:e&&!(j||f),isIE9:h,isIE9m:j||f||g||h,isIE9p:e&&!(j||f||g),isIE10:i,isIE10m:j||f||g||h||i,isIE10p:e&&!(j||f||g||h)})}(),Function.prototype.createInterceptor=function(a,b){var c=this;return Ext.isFunction(a)?function(){var d,e=this,f=arguments;return a.target=e,a.method=c,d=a.apply(b||e||window,f),delete a.target,delete a.method,d!==!1?c.apply(e||window,f):null}:this},Ext.override(Ext.menu.Menu,{beforeDestroy:function(){this.hide(),Ext.menu.Menu.superclass.beforeDestroy.apply(this,arguments)}}),function(){function a(a){return f=Ext.apply({},a),h.call(this,f)}function b(){var a;if(e&&!e.isVisible())for(a in f)f.hasOwnProperty(a)&&delete f[a]}function c(){g||(g=new Ext.util.DelayedTask(b)),g.delay(1)}function d(){var a=i.apply(this,arguments);return a!==e&&(e=a,e.closeAction="close",e.getTool("close").remove(),delete e.tools.close,e.addTool({id:"close",handler:e[e.closeAction],scope:e}),e.on("hide",c)),a}var e,f,g,h=Ext.MessageBox.show,i=Ext.MessageBox.getDialog;Ext.apply(Ext.MessageBox,{show:a,getDialog:d})}(),Ext.TabPanel.prototype.monitorResize=!1,Ext.Window.prototype.monitorResize=!1,function(){function a(a,b,c){return function(){b.target===arguments[0]&&a.apply(c,f(arguments))}}function b(a,b,c,d){return c.task=new e.DelayedTask,function(){c.task.delay(b.buffer,a,d,f(arguments))}}function c(a,b,c,d){return function(){return b.removeListener(c,d),a.apply(d,arguments)}}function d(a,b,c,d){return function(){var g=new e.DelayedTask;c.tasks||(c.tasks=[]),c.tasks.push(g),g.delay(b.delay||10,a,d,f(arguments))}}var e=Ext.util,f=Ext.toArray,g=(Ext.each,Ext.isObject,!0),h=!1;Ext.override(Ext.util.Event,{findListener:function(a,b){var c,d=this.listeners,e=d.length;for(b=b||this.obj;e--;)if(c=d[e],c&&c.fn===a&&c.scope===b)return e;return-1},createListener:function(e,f,g){g=g||{},f=f||this.obj;var h={fn:e,scope:f,options:g},i=e;return g.target&&(i=a(i,g,f)),g.delay&&(i=d(i,g,h,f)),g.single&&(i=c(i,this,e,f)),g.buffer&&(i=b(i,g,h,f)),h.fireFn=i,h},removeListener:function(a,b){var c,d,e,f=this,i=h;if(-1!==(c=f.findListener(a,b))){if(f.firing&&(f.listeners=f.listeners.slice(0)),d=f.listeners[c],d.task&&(d.task.cancel(),delete d.task),e=d.tasks&&d.tasks.length){for(;e--;)d.tasks[e].cancel();delete d.tasks}f.listeners.splice(c,1),i=g}return i}})}(),function(){function a(a){var b,c=!1,d=0,e=x.length,f=!1;if(a){if(a.getElementById||a.navigator){for(;e>d;++d)if(b=x[d],b.el===a){c=b.id;break}c||(c=Ext.id(a),x.push({id:c,el:a}),f=!0)}else c=Ext.id(a);Ext.elCache[c]||(Ext.Element.addToCache(new Ext.Element(a),c),f&&(Ext.elCache[c].skipGC=!0))}return c}function b(a,b,c){var d;A.hasOwnProperty(a)||(A[a]=[]),d=A[a],d.push({wrap:b,fn:c}),Ext.EventManager.addListener(u,"unload",c)}function c(a,b){var c,d;if(!Ext.EventManager.unloading&&A.hasOwnProperty(a))for(c=A[a],d=0;d<c.length;d++)if(c[d].wrap===b){Ext.EventManager.removeListener(u,"unload",c[d].fn),c.splice(d,1);break}}function d(c,d,e,f,g,h){c=Ext.getDom(c);var i,j=a(c),k=Ext.elCache[j].events;if(i=s.on(c,d,g),k[d]=k[d]||[],k[d].push([e,g,h,i,f]),c.addEventListener&&Ext.isGecko&&"mousewheel"===d){var l=["DOMMouseScroll",g,!1];c.addEventListener.apply(c,l),b(j,g,function(){c.removeEventListener.apply(c,l)})}c===t&&"mousedown"===d&&Ext.EventManager.stoppedMouseDownEvent.addListener(g)}function e(a,b){return function(){var c=Ext.toArray(arguments);b.target===Ext.EventObject.setEvent(c[0]).target&&a.apply(this,c)}}function f(a,b,c){return function(d){c.delay(b.buffer,a,null,[new Ext.EventObjectImpl(d)])}}function g(a,b,c,d,e){return function(f){Ext.EventManager.removeListener(b,c,d,e),a(f)}}function h(a,b,c){return function(d){var e=new Ext.util.DelayedTask(a);c.tasks||(c.tasks=[]),c.tasks.push(e),e.delay(b.delay||10,a,null,[new Ext.EventObjectImpl(d)])}}function i(a,b,c,i,j){function k(a){if(Ext){a=Ext.EventObject.setEvent(a);var b;if(m.delegate){if(!(b=a.getTarget(m.delegate,n)))return}else b=a.target;m.stopEvent&&a.stopEvent(),m.preventDefault&&a.preventDefault(),m.stopPropagation&&a.stopPropagation(),m.normalized&&(a=a.browserEvent),i.call(j||n,a,b,m)}}var l,m=Ext.isObject(c)?c:{},n=Ext.getDom(a);if(i=i||m.fn,j=j||m.scope,!n)throw'Error listening for "'+b+'". Element "'+a+"\" doesn't exist.";return m.target&&(k=e(k,m)),m.delay&&(k=h(k,m,i)),m.single&&(k=g(k,n,b,i,j)),m.buffer&&(l=new Ext.util.DelayedTask(k),k=f(k,m,l)),d(n,b,i,l,k,j),k}function j(){return B=B||Ext.query("style, link[rel=stylesheet]"),B.length===t.styleSheets.length?(o(),!0):(r=n||setTimeout(arguments.callee,2),!1)}function k(){t.removeEventListener(v,arguments.callee,!1),j()}function l(){m=m||new Ext.util.Event,y&&t.addEventListener(v,o,!1),Ext.isIE?p()||(p.bindIE=!0,t.attachEvent("onreadystatechange",p)):Ext.isOpera?t.readyState===z&&j()||t.addEventListener(v,k,!1):Ext.isWebKit&&p(),s.on(u,"load",o)}var m,n,o,p,q,r=!1,s=Ext.lib.Event,t=(Ext.lib.Dom,document),u=window,v="DOMContentLoaded",w=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,x=[],y=Ext.isGecko||Ext.isWebKit||Ext.isSafari,z="complete",A={};q=function(){if(window!=top)return!1;try{t.documentElement.doScroll("left")}catch(a){return!1}return o(),!0},p=function(){return Ext.isIE&&q()?!0:t.readyState===z?(o(),!0):(r=n||setTimeout(arguments.callee,2),!1)},o=function(){r||(r=!0,n&&clearTimeout(n),y&&t.removeEventListener(v,o,!1),Ext.isIE&&p.bindIE&&t.detachEvent("onreadystatechange",p),s.un(u,"load",arguments.callee)),m&&!Ext.hackIsReady&&(Ext.isReady=!0,Ext.hackIsReady=!0,m.fire(),m.listeners=[])};var B;Ext.apply(Ext.EventManager,{addListener:function(a,b,c,d,e){if(Ext.isObject(b)){var f,g,h=b;for(f in h)h.hasOwnProperty(f)&&(g=h[f],w.test(f)||(Ext.isFunction(g)?i(a,f,h,g,h.scope):i(a,f,g)))}else i(a,b,e,c,d)},removeListener:function(b,d,e,f){b=Ext.getDom(b);var g,h,i,j,k,l=a(b),m=Ext.elCache[l],n=b&&m.events[d]||[];for(h=0,j=n.length;j>h;h++)if(Ext.isArray(k=n[h])&&k[0]===e&&(!f||k[2]===f)){if(k[4]&&k[4].cancel(),i=e.tasks&&e.tasks.length){for(;i--;)e.tasks[i].cancel();delete e.tasks}g=k[1],s.un(b,d,s.extAdapter?k[3]:g),g&&b.addEventListener&&"mousewheel"===d&&(b.removeEventListener("DOMMouseScroll",g,!1),c(l,g)),g&&b===t&&"mousedown"===d&&Ext.EventManager.stoppedMouseDownEvent.removeListener(g),n.splice(h,1),0===n.length&&delete m.events[d];for(i in m.events)if(m.events.hasOwnProperty(i))return!1;return Ext.elCache[l].events={},!1}},removeAll:function(b){b=Ext.getDom(b);var d,e,f,g,h,i,j,k=a(b),l=Ext.elCache[k]||{},m=l.events||{};for(g in m)if(m.hasOwnProperty(g))for(d=m[g],e=0,f=d.length;f>e;e++){if(h=d[e],h[4]&&h[4].cancel(),h[0].tasks&&(i=h[0].tasks.length)){for(;i--;)h[0].tasks[i].cancel();delete h.tasks}j=h[1],s.un(b,g,s.extAdapter?h[3]:j),b.addEventListener&&j&&"mousewheel"===g&&(b.removeEventListener("DOMMouseScroll",j,!1),c(k,j)),j&&b===t&&"mousedown"===g&&Ext.EventManager.stoppedMouseDownEvent.removeListener(j)}Ext.elCache[k]&&(Ext.elCache[k].events={})},_unload:function(){var a;this.unloading=!0;for(a in Ext.elCache)Ext.elCache.hasOwnProperty(a)&&Ext.EventManager.removeAll(a);delete Ext.elCache,delete Ext.Element._flyweights;var b,c,d,e=Ext.lib.Ajax;c=Ext.isObject(e.conn)?e.conn:{};for(d in c)c.hasOwnProperty(d)&&(b=c[d],b&&e.abort({conn:b,tId:d}))},onDocumentReady:function(a,b,c){Ext.isReady?(m=m||new Ext.util.Event,m.addListener(a,b,c),m.fire(),m.listeners=[]):(m||l(),c=c||{},c.delay=c.delay||1,m.addListener(a,b,c))},fireDocReady:o}),Ext.EventManager.on=Ext.EventManager.addListener,Ext.EventManager.un=Ext.EventManager.removeListener,Ext.onReady=Ext.EventManager.onDocumentReady}(),Ext.onReady(Ext.emptyFn),Ext.override(Ext.form.TriggerField,{onResize:function(a,b){Ext.form.TriggerField.superclass.onResize.call(this,a,b);var c=this.getTriggerWidth();Ext.isNumber(a)&&this.el.setWidth(a-c),this.wrap.setWidth(a)}}),Ext.override(Ext.Container,{createComponent:function(a,b){if(a.render)return a;var c=Ext.create(Ext.apply({ownerCt:this},a),b||this.defaultType);return delete c.initialConfig.ownerCt,delete c.ownerCt,c}}),Ext.override(Ext.Panel,{beforeDestroy:function(){if(Ext.Panel.superclass.beforeDestroy.call(this),this.header&&this.header.removeAllListeners(),this.tools)for(var a in this.tools)this.tools.hasOwnProperty(a)&&Ext.destroy(this.tools[a]);if(this.toolbars&&this.toolbars.length>0&&Ext.each(this.toolbars,function(a){a.un("afterlayout",this.syncHeight,this),a.un("remove",this.syncHeight,this)},this),Ext.isArray(this.buttons))for(;this.buttons.length;)Ext.destroy(this.buttons[0]);Ext.destroy(this.ft,this.header,this.footer,this.toolbars,this.tbar,this.bbar,this.body,this.mc,this.bwrap),this.fbar&&Ext.destroy(this.fbar,this.fbar.el),Ext.destroy(this.topToolbar,this.bottomToolbar),this.dd&&Ext.destroy(this.dd)}}),Date.parseCodes.m.s="(0[1-9]|1[0-2])",delete Ext.form.TriggerField.prototype.removeMode,Ext.override(Ext.menu.Menu,{hide:function(a){this.isDestroyed||(this.deepHide=a,Ext.menu.Menu.superclass.hide.call(this),delete this.deepHide)}}),Ext.override(Ext.ToolTip,{onTargetOut:function(a){this.disabled||a.within(this.target.dom,!0)||(this.showTimer&&this.hidden&&(this.clearTimer("show"),delete this.triggerElement),this.autoHide!==!1&&this.delayHide())}}),Ext.override(Ext.QuickTip,{onTargetOut:function(a){this.activeTarget&&a.within(this.activeTarget.el)&&!this.getTipCfg(a)||(this.showTimer&&(this.clearTimer("show"),delete this.activeTarget),this.autoHide!==!1&&this.delayHide())}}),Ext.override(Ext.tree.TreeLoader,{handleResponse:Ext.tree.TreeLoader.prototype.handleResponse.createInterceptor(function(){return this.isDestroyed||this.destroying?!1:void 0}),destroy:function(){this.isDestroyed||(this.destroying=!0,this.purgeListeners(),this.transId&&(Ext.Ajax.abort(this.transId),this.transId=!1),this.destroying=!1,this.isDestroyed=!0)}}),Ext.override(Ext.tree.TreeNodeUI,{animExpand:function(a){var b=Ext.get(this.ctNode);return b.stopFx(),this.node.isExpandable()?(this.animating=!0,this.updateExpandIcon(),void b.slideIn("t",{callback:function(){this.destroying||this.isDestroyed||(this.animating=!1,Ext.callback(a))},scope:this,duration:this.node.ownerTree.duration||.25})):(this.updateExpandIcon(),this.ctNode.style.display="",void Ext.callback(a))},animCollapse:function(a){var b=Ext.get(this.ctNode);b.enableDisplayMode("block"),b.stopFx(),this.animating=!0,this.updateExpandIcon(),b.slideOut("t",{callback:function(){this.destroying||this.isDestroyed||(this.animating=!1,Ext.callback(a))},scope:this,duration:this.node.ownerTree.duration||.25})},destroy:function(){if(!this.isDestroyed){this.destroying=!0;var a=Ext.get(this.ctNode);a&&a.stopFx(),this.elNode&&Ext.dd.Registry.unregister(this.elNode.id),Ext.each(["textnode","anchor","checkbox","indentNode","ecNode","iconNode","elNode","ctNode","wrap","holder"],function(a){this[a]&&(Ext.fly(this[a]).remove(),delete this[a])},this),delete this.node,this.destroying=!1,this.isDestroyed=!0}}}),Ext.override(Ext.tree.AsyncTreeNode,{expand:function(a,b,c,d){if(this.loading){var e=function(){this.loading||(clearInterval(this.expendTimer),this.expendTimer=null,this.expand(a,b,c,d))}.createDelegate(this);return void(this.expendTimer=setInterval(e,200))}if(!this.loaded){if(this.fireEvent("beforeload",this)===!1)return;this.loading=!0,this.ui.beforeLoad(this);var f=this.loader||this.attributes.loader||this.getOwnerTree().getLoader();if(f)return void f.load(this,this.loadComplete.createDelegate(this,[a,b,c,d]),this)}Ext.tree.AsyncTreeNode.superclass.expand.call(this,a,b,c,d)},destroy:function(){this.expendTimer&&(clearInterval(this.expendTimer),this.expendTimer=null),Ext.tree.AsyncTreeNode.superclass.destroy.apply(this,arguments)}}),Ext.override(Ext.tree.MultiSelectionModel,{clearSelections:function(a){var b,c=this.selNodes;if(c.length>0){for(var d=0,e=c.length;e>d;d++)b=c[d],b&&b.ui&&b.ui.onSelectedChange(!1);this.selNodes=[],this.selMap={},a!==!0&&this.fireEvent("selectionchange",this,this.selNodes)}}}),Ext.EventObjectImpl.prototype.setEvent=function(){var a=Ext.EventObjectImpl.prototype.setEvent;return function(){var b=a.apply(this,arguments);return Ext.isIE||(this.button=this.browserEvent.button),b}}(),Ext.override(Ext.form.TextField,{clearInvalid:function(){var a=SF.form.TextField.superclass.clearInvalid.apply(this,arguments);return this.validationTask&&this.validationTask.cancel&&this.validationTask.cancel(),a}}),Ext.override(Ext.Window,{beforeDestroy:Ext.Window.prototype.beforeDestroy.createInterceptor(function(){this.rendered&&delete this.animateTarget})}),Ext.override(Ext.Button,{onDestroy:function(){this.rendered&&(this.doc.un("mouseover",this.monitorMouseOver,this),this.doc.un("mouseup",this.onMouseUp,this),delete this.doc,Ext.destroy(this.btnEl),delete this.btnEl,Ext.ButtonToggleMgr.unregister(this)),Ext.Button.superclass.onDestroy.call(this)}}),Ext.override(Ext.TabPanel,{onRemove:function(a){var b=Ext.get(a.tabEl);if(b&&(b.select("a").remove(),Ext.destroy(b)),Ext.TabPanel.superclass.onRemove.call(this,a),this.stack.remove(a),delete a.tabEl,a.un("disable",this.onItemDisabled,this),a.un("enable",this.onItemEnabled,this),a.un("titlechange",this.onItemTitleChanged,this),a.un("iconchange",this.onItemIconChanged,this),a.un("beforeshow",this.onBeforeShowItem,this),a===this.activeTab){var c=this.stack.next();this.setActiveTab(c?c:this.items.getCount()>0?0:null)}this.destroying||this.delegateUpdates()}}),Ext.isIE&&Ext.override(Ext.form.TextField,{_checkIfNoFocusWhenMouseUp:function(){var a=this;setTimeout(function(){a.hasFocus||a.el.focus()},0)},initEvents:Ext.form.TextField.prototype.initEvents.createSequence(function(){this.mon(this.el,"mousedown",this._checkIfNoFocusWhenMouseUp,this)})}),Ext.onReady(function(){var a=Ext.getBody();Ext.isIE9&&a.hasClass("ext-ie8")&&a.replaceClass("ext-ie8","ext-ie9")}),function(){function a(a,b){return b.charAt(1).toUpperCase()}function b(b){return d[b]||(d[b]="float"==b?c.cssFloat?"cssFloat":"styleFloat":b.replace(e,a))}var c={cssFloat:!Ext.isIE,correctRightMargin:!Ext.isWebKit,correctTransparentColor:!Ext.isWebKit},d={},e=/(-[a-z])/gi,f=document.defaultView,g=/alpha\(opacity=(.*)\)/i;
    Ext.override(Ext.Element,{getViewSize:function(a){var b,c,d,e=document,f=this,g=f.dom,h=/(\d+(\.\d+)?)px/,i=Ext.lib.Dom,j=g==e||g==e.body,k=0,l=0,m=0,n=0;return j?{width:i.getViewWidth(),height:i.getViewHeight()}:(b=f.isBorderBox(),k=f.getBorderWidth("tb"),l=f.getBorderWidth("lr"),m=f.getPadding("tb"),n=f.getPadding("lr"),(c=f.getStyle("width").match(h))?((c=parseInt(c[1],10))&&b&&(c-=l+n),a||(c+=n)):(!(c=g.clientWidth)&&(c=g.offsetWidth)&&(c-=l),c&&a&&(c-=n)),(d=f.getStyle("height").match(h))?((d=parseInt(d[1],10))&&b&&(d-=k+m),a||(d+=m)):(!(d=g.clientHeight)&&(d=g.offsetHeight)&&(d-=k),d&&a&&(d-=m)),{width:c,height:d})},getStyle:function(){return f&&f.getComputedStyle?function(a){var d,e,g,h,i=this.dom;return i==document?null:(a=b(a),g=(d=i.style[a])?d:(e=f.getComputedStyle(i,""))?e[a]:null,"marginRight"!=a||"0px"==g||c.correctRightMargin||(h=i.style.display,i.style.display="inline-block",g=f.getComputedStyle(i,"").marginRight,i.style.display=h),"backgroundColor"!=a||"rgba(0, 0, 0, 0)"!=g||c.correctTransparentColor||(g="transparent"),g)}:function(a){var c,d,e=this.dom;if(e==document)return null;if("opacity"==a){if(e.style.filter.match&&(c=e.style.filter.match(g))){var f=parseFloat(c[1]);if(!isNaN(f))return f?f/100:0}return 1}return a=b(a),e.style[a]||((d=e.currentStyle)?d[a]:null)}}()})}(),Ext.override(Ext.tree.TreeEventModel,{_clearExitTracker:function(){delete this.lastOverNode,Ext.getBody().un("mouseover",this.trackExit,this),this.trackingDoc=!1},trackExit:function(a){var b=this.lastOverNode;b&&(b.ui&&b.getOwnerTree()?a.within(b.ui.getEl())||(this.onNodeOut(a,b),this._clearExitTracker()):this._clearExitTracker())}}),Ext.override(Ext.grid.GridView,{updateHeaders:function(){this.innerHd.firstChild.innerHTML=this.renderHeaders(),this.innerHd.firstChild.style.width=this.getOffsetWidth(),this.innerHd.firstChild.firstChild.style.width=this.getTotalWidth(),this.updateHeaderSortState()},handleHdOver:function(a,b){var c=this.findHeaderCell(b);if(c&&!this.headersDisabled&&(!Ext.isIE||c.firstChild.offsetHeight>0)){this.activeHdRef=b,this.activeHdIndex=this.getCellIndex(c);var d=this.fly(c);this.activeHdRegion=d.getRegion(),this.cm.isMenuDisabled(this.activeHdIndex)||(d.addClass("x-grid3-hd-over"),this.activeHdBtn=d.child(".x-grid3-hd-btn"),this.activeHdBtn&&(this.activeHdBtn.dom.style.height=c.firstChild.offsetHeight-1+"px"))}}}),function(){var a=Ext.lib.Ajax.request;Ext.lib.Ajax.request=function(b,c,d,e,f){var g,h={};return h.headers=f.headers||{},h.headers["session-token"]=window.getSessionToken?getSessionToken():"no-token",f.hasOwnProperty("xmlData")&&(h.xmlData=f.xmlData),f.hasOwnProperty("jsonData")&&(h.jsonData=f.jsonData),f.hasOwnProperty("method")&&(h.method=f.method),g=a.call(this,b,c,d,e,h),delete this.xmlData,delete this.jsonData,g}}(),function(){var a=Ext.Element.prototype.getStyle,b=Ext.Element.prototype.setStyle,c=Ext.Element.prototype.isVisible,d=Ext.Element.prototype.setVisible;Ext.override(Ext.Element,{getAttribute:!Ext.isIE||Ext.isIE10||Ext.isIE9?function(a,b){var c=this.dom;return c.getAttributeNS(b,a)||c.getAttribute(b+":"+a)||c.getAttribute(a)||c[a]}:function(a,b){var c=this.dom,d=typeof c[b+":"+a];return-1==["undefined","unknown"].indexOf(d)?c[b+":"+a]:c[a]},insertBefore:function(a){var b=(a=Ext.getDom(a)).parentNode;return b&&b.insertBefore(this.dom,a),this},insertAfter:function(a){var b=(a=Ext.getDom(a)).parentNode;return b&&b.insertBefore(this.dom,a.nextSibling),this},setStyle:function(){return this.dom?b.apply(this,arguments):void 0},getStyle:function(){return this.dom?a.apply(this,arguments)||"":""},isVisible:function(){return this.dom?c.apply(this,arguments):void 0},setVisible:function(){return this.dom&&d.apply(this,arguments),this},getPositioning:function(){var a=this.getStyle("left"),b=this.getStyle("top"),c="auto";return{position:this.getStyle("position"),left:a,right:a&&a!==c?"":this.getStyle("right"),top:b,bottom:b&&b!==c?"":this.getStyle("bottom"),"z-index":this.getStyle("z-index")}}})}(),function(){if(Ext.isChrome){var a=navigator.userAgent.toLowerCase(),b=a.match(/chrome\/(\d+)/)[1];19>b&&(Ext.lt_chrome19=!0),Ext.grid.GridView.prototype.getColumnWidth=function(a){var b=this.cm.getColumnWidth(a),c=this.borderWidth;return Ext.isNumber(b)?Ext.isBorderBox||Ext.isWebKit&&!Ext.isSafari2&&Ext.lt_chrome19?b+"px":Math.max(b-c,0)+"px":b}}}(),function(){if(Ext.isChrome&&Ext.ux.ColumnHeaderGroup){var a=navigator.userAgent.toLowerCase(),b=a.match(/chrome\/(\d+)/)[1];b>=19||(Ext.ux.ColumnHeaderGroup.prototype.getGroupStyle=function(a,b){for(var c=0,d=!0,e=b,f=b+a.colspan;f>e;e++)if(!this.cm.isHidden(e)){var g=this.cm.getColumnWidth(e);"number"==typeof g&&(c+=g),d=!1}return Ext.isBorderBox||Ext.isWebKit&&!Ext.isSafari2?c+="px":c=Math.max(c-this.borderWidth,0)+"px",{width:c,hidden:d}})}}();